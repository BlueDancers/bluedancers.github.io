{"meta":{"title":"vkcya Blog","subtitle":"","description":"","author":"vkcyan","url":"https://vkcyan.github.io","root":"/"},"pages":[{"title":"å…³äºæˆ‘","date":"2022-12-09T01:09:47.587Z","updated":"2022-12-09T01:09:47.587Z","comments":true,"path":"about/index.html","permalink":"https://vkcyan.github.io/about/index.html","excerpt":"","text":"123456789101112131415161718192021222324252627282930313233&#123; name: &quot;vkcyan&quot;, age: 24, gender: &quot;ç”·&quot;, profession: &quot;Web Developer Leader &amp; Product Manager&quot;, experience: &quot;4å¹´&quot;, address: &quot;å®‰å¾½çœåˆè‚¥å¸‚&quot;, education: &quot;æœ¬ç§‘&quot;, github: &quot;https://github.com/vkcyan&quot;, blog: &quot;https://vkcyan.github.io&quot;, email: &quot;wu.vkcyan@gmail.com&quot;, description: &quot;ä¸€åˆ‡éƒ½æ˜¯ä¸ºäº†å®ç°æŠ€æœ¯çš„ä»·å€¼&quot;, skills: [ [&quot;Html&quot;, &quot;CSS&quot;, &quot;JavaScript&quot;, &quot;TypScript&quot;, &quot;ES6&quot;, &quot;Node&quot;], [&quot;Webpack&quot;, &quot;Vite&quot;], [&quot;Less&quot;, &quot;Sass&quot;], [&quot;Git&quot;], [&quot;Vue2.x&quot;, &quot;Vue3.x&quot;], [&quot;element-ui&quot;, &quot;element-plus&quot;, &quot;AntdV&quot;], [&quot;ç«å“åˆ†æ&quot;, &quot;äº§å“è§„åˆ’&quot;, &quot;æŒ–æ˜ç”¨æˆ·éœ€æ±‚&quot;, &quot;å®šåˆ¶äº§å“ç­–ç•¥&quot;], ], devTools: [ [&quot;Visual Studio Code&quot;, &quot;Sublime Text&quot;], [&quot;Chrome DevTools&quot;, &quot;Fiddler&quot;], [&quot;SourceTree&quot;], [&quot;SwitchHosts&quot;], [&quot;Navicat&quot;, &quot;&quot;], [&quot;Sketch&quot;], [&quot;Typora&quot;], ],&#125;;"},{"title":"ä¹¦ç±","date":"2022-12-09T01:09:47.588Z","updated":"2022-12-09T01:09:47.588Z","comments":true,"path":"books/index.html","permalink":"https://vkcyan.github.io/books/index.html","excerpt":"","text":""},{"title":"ç±»åˆ«","date":"2022-12-09T01:09:47.588Z","updated":"2022-12-09T01:09:47.588Z","comments":true,"path":"categories/index.html","permalink":"https://vkcyan.github.io/categories/index.html","excerpt":"","text":""},{"title":"å‹æƒ…é“¾æ¥","date":"2022-12-09T01:09:47.588Z","updated":"2022-12-09T01:09:47.588Z","comments":true,"path":"links/index.html","permalink":"https://vkcyan.github.io/links/index.html","excerpt":"","text":""},{"title":"å­˜å‚¨åº“","date":"2022-12-09T01:09:47.588Z","updated":"2022-12-09T01:09:47.588Z","comments":true,"path":"repository/index.html","permalink":"https://vkcyan.github.io/repository/index.html","excerpt":"","text":""},{"title":"æ ‡ç­¾","date":"2022-12-09T01:09:47.589Z","updated":"2022-12-09T01:09:47.589Z","comments":true,"path":"tags/index.html","permalink":"https://vkcyan.github.io/tags/index.html","excerpt":"","text":""}],"posts":[{"title":"2022å¹´ç»ˆæ€»ç»“","slug":"æ—¥å¸¸/2022å¹´ç»ˆæ€»ç»“","date":"2022-12-30T16:00:00.000Z","updated":"2022-12-11T14:13:13.867Z","comments":true,"path":"2022/12/31/æ—¥å¸¸/2022å¹´ç»ˆæ€»ç»“/","link":"","permalink":"https://vkcyan.github.io/2022/12/31/%E6%97%A5%E5%B8%B8/2022%E5%B9%B4%E7%BB%88%E6%80%BB%E7%BB%93/","excerpt":"","text":"å‰è¨€","categories":[{"name":"æ—¥å¸¸","slug":"æ—¥å¸¸","permalink":"https://vkcyan.github.io/categories/%E6%97%A5%E5%B8%B8/"}],"tags":[{"name":"è®°å½•","slug":"è®°å½•","permalink":"https://vkcyan.github.io/tags/%E8%AE%B0%E5%BD%95/"},{"name":"è¾“å‡º","slug":"è¾“å‡º","permalink":"https://vkcyan.github.io/tags/%E8%BE%93%E5%87%BA/"}]},{"title":"ç¾Šäº†ä¸ªç¾Šï¼Œæ€ä¹ˆçªç„¶çˆ†ç«äº†ï¼Ÿ","slug":"NPDPäº§å“ç»ç†/ç¾Šäº†ä¸ªç¾Šçˆ†ç«ï¼Œåˆ°åº•å‘ç”Ÿäº†ä»€ä¹ˆï¼Ÿ","date":"2022-09-18T16:00:00.000Z","updated":"2022-12-11T13:51:24.079Z","comments":true,"path":"2022/09/19/NPDPäº§å“ç»ç†/ç¾Šäº†ä¸ªç¾Šçˆ†ç«ï¼Œåˆ°åº•å‘ç”Ÿäº†ä»€ä¹ˆï¼Ÿ/","link":"","permalink":"https://vkcyan.github.io/2022/09/19/NPDP%E4%BA%A7%E5%93%81%E7%BB%8F%E7%90%86/%E7%BE%8A%E4%BA%86%E4%B8%AA%E7%BE%8A%E7%88%86%E7%81%AB%EF%BC%8C%E5%88%B0%E5%BA%95%E5%8F%91%E7%94%9F%E4%BA%86%E4%BB%80%E4%B9%88%EF%BC%9F/","excerpt":"","text":"ä¸­ç§‹èŠ‚åçš„å‡ å¤©å†…ï¼Œæ¯ä¸ªäº’è”ç½‘äººéƒ½ä¸»åŠ¨æˆ–è¢«åŠ¨åœ°äº†è§£åˆ°äº†ä¸€ä¸ªç°è±¡çº§å°æ¸¸æˆç¾Šäº†ä¸ªç¾Š ï¼Œè¯¥å°æ¸¸æˆåœ¨ä¸€ä¸ªæ˜ŸæœŸå†…ç«é€Ÿå‡ºåœˆï¼Œé«˜é¢‘åˆ¶é€ çƒ­ç‚¹è¯é¢˜ï¼Œç«é€Ÿå‡ºç°å¤§é‡æ¢—å›¾ï¼Œæ®µå­ï¼Œå¯ä»¥è¯´ä¸€ä¸¾ä¸€åŠ¨éƒ½å¼•å‘å·¨å¤§è¯é¢˜çƒ­ç‚¹ã€‚ å½“æˆ‘åœ¨å„å¤§å¹³å°çœ‹åˆ°è¿™ä¸ªå…³é”®å­—çš„æ—¶å€™ï¼Œæˆ‘çš„è„‘å­é‡Œé¢åªæœ‰ä¸€å¥è¯â€œå‘ç”Ÿäº†ä»€ä¹ˆï¼Ÿâ€ï¼Œç›´åˆ°9æœˆ15å·é“ºå¤©ç›–åœ°çš„ä¿¡æ¯æ‰è®©æˆ‘æ„è¯†åˆ°äº†ä»–çš„ç«çˆ†ç¨‹åº¦ã€‚ å¾®ä¿¡æŒ‡æ•°&#x2F;æŠ–éŸ³æŒ‡æ•° æˆªæ­¢9æœˆ16å·ï¼Œå…¶çƒ­åº¦åœ¨å¾®ä¿¡ä¸æŠ–éŸ³éƒ½å‡ºç°äº†æŒ‡æ•°çº§çˆ†ç‚¸ï¼ŒåŒæ—¶åœ¨å¾®åšå¤šæ¬¡è£ç™»çƒ­æœç¬¬ä¸€ï¼Œä»¥åŠå¤šä¸ªçƒ­ç‚¹è¯é¢˜ï¼Œå¯èƒ½è¿˜æœ‰å…¶ä»–ä½œè€…ä¸çŸ¥é“çš„å¹³å°ï¼Œå¾®åš æŠ–éŸ³ å¾®ä¿¡ä¸‰ä¸ªå›½æ°‘çº§appï¼Œå·²ç»åŒ…å«äº†å…¨å›½å‡ ä¹æ‰€æœ‰çš„ç½‘æ°‘ï¼Œè¿™ä¹Ÿä¸ºä»–åé¢çš„çˆ†ç«åŸ‹ä¸‹äº†ä¼ç¬”ï¼Œé‚£ä»–åˆæ˜¯å¦‚ä½•åˆ¶é€ è¯é¢˜çš„å‘¢ï¼Ÿ ä¿¡æ¯ä¼ æ’­è®©æˆ‘ä»¬åä¸Šæ—¶é—´æœºå™¨ï¼Œå›åˆ°ä¸­ç§‹ä¹‹å‰ï¼Œç¾Šäº†ä¸ªç¾Šåˆšåˆšä¸Šçº¿çš„æ—¶é—´ 9-9å· å…¶å®˜æ–¹è´¦å·åœ¨å¾®åšå‘å¸ƒäº†ä¸€ç¯‡æ¨æ–‡ åœ¨éšåçš„æ—¶é—´é‡Œé¢ï¼Œå‘å¸ƒäº†è€å¸ˆvså­¦ç”Ÿ æ‰“å‡»ä½œå¼Š æœåŠ¡å™¨å´©æ‰ å†æ¬¡å´©æ‰ç­‰ç­‰ä¸€è¿ä¸²çš„è¯é¢˜ï¼Œè€Œæ ¹æ®å¾®åšæŒ‡æ•°æ˜¾ç¤º13å·å¼€å§‹ï¼Œçƒ­ç‚¹è¶‹åŠ¿å¼€å§‹ç–¯ç‹‚å¢åŠ ï¼Œè¿™ä¹Ÿå°±è¡¨æ˜9å·åˆ°13å·æ˜¯ç¬¬ä¸€æ³¢å¯åŠ¨ç”¨æˆ·ã€‚ é™¤äº†å¾®åšå¤–ï¼Œä¹Ÿåœ¨æŠ–éŸ³è¿›è¡ŒçŸ­è§†é¢‘å®£ä¼ ï¼Œå¯æƒœæŠ–éŸ³è¶‹åŠ¿æ— æ³•æ˜¾ç¤º14å·ä¹‹å‰çš„æ•°æ®ï¼Œä½†æ˜¯æˆ‘ä»¬å¯ä»¥æ¨æµ‹å¾—å‡ºæ¥ï¼Œå…¶çƒ­ç‚¹ä¹Ÿæ˜¯çˆ†ç‚¸å¢é•¿çš„ã€‚ è€Œè¿™ä¸ªè¿‡ç¨‹ä¸­å…¶å®£ä¼ çš„åˆ‡å…¥ç‚¹ï¼Œè¿‡å…³ç‡æä½ï¼Œä¸ç¡è§‰ä¹Ÿè¦ç©ç½‘å‹çƒ­è¯„ç­‰ç­‰å£ç¢‘å®£ä¼ ä¹Ÿèµ·åˆ°äº†æ—©æœŸéå¸¸é‡è¦çš„æ¨æ³¢åŠ©æ¾œä½œç”¨ï¼Œè®©æˆ‘ä»¬æ¥æ·±å…¥åˆ†æä¸€ä¸‹å§ã€‚ ä»·å€¼å†²çª åœ¨ä¸çŸ¥é“æ¸¸æˆå†…å®¹çš„æƒ…å†µä¸‹ï¼Œå¦‚ä½•å¸å¼•ç”¨æˆ·è¿›å…¥æ¸¸æˆï¼Ÿç¾Šäº†ä¸ªç¾Šåœ¨åšå‡ºç¬¦åˆZæ—¶ä»£ç”¨æˆ·æ¸¸æˆç•Œé¢çš„åŒæ—¶ï¼Œåˆ›é€ äº†é¢å¤–çš„åŠ¨æœºã€‚ç‹¼äººVSå¸è¡€é¬¼ äº”ä»VSè²è“‰ å­¦ç”ŸVSè€å¸ˆ çœä»½VSçœä»½ï¼Œä¸€æ—¦å‡ºç°äº†ç«™é˜Ÿï¼Œæ¸¸æˆä¾¿ä¸ä»…ä»…æ˜¯æ¸¸æˆï¼Œè¿˜åŒ…å«ä¸ªäººä»·å€¼æ˜¯å¦è¢«è®¤åŒï¼Œå¦‚æœä½ å–œæ¬¢åƒäº”ä»ï¼Œçœ‹å¾…äº”ä»è½äºä¸‹é£ï¼Œä¾¿å­˜åœ¨å†…åœ¨åŠ¨æœºå»å‚ä¸æ¸¸æˆè¿›è¡Œæ”¯æŒï¼Œå¦‚æœä½ å–œæ¬¢åƒè²è“‰ï¼Œä¾¿ä¼šè¿›å…¥èƒœåˆ©è€…çš„è‡ªå—¨çŠ¶æ€å‚ä¸æ¸¸æˆå¯»æ±‚ç¢¾å‹å¯¹æ‰‹ã€‚ ä¸€åªç¾Šä¸€æ—¦è¿›å…¥ç¾Šç¾¤ï¼Œä»–ä¾¿ä¸ä»…ä»…æ˜¯ä¸€åªç¾Šï¼Œè€Œæ˜¯ç¾Šç¾¤çš„ä¸€ä»½å­ï¼Œè‡ªç„¶å¸¦ä¸Šäº†é›†ä½“è£èª‰çš„å¸½å­ï¼Œæ’åé å‰ï¼Œè‡ªè±ª å¿«ä¹ï¼Œæ’åé å ç„¦è™‘ å¤±æœ› ç”šè‡³è‡ªè´£ï¼Œæ— è®ºå¦‚ä½•ï¼Œè¿™éƒ½å¢åŠ äº†ç©æ¸¸æˆçš„åŠ¨æœºã€‚ äººç±»æ˜¯å¤©ç”Ÿçš„å†’é™©å®¶å¦‚æœæˆ‘å‘Šè¯‰ä½ ï¼Œè¿™ä¸€æ¬¾æ¶ˆæ¶ˆä¹æ¸¸æˆå¾ˆå¥½ç©ï¼ŒéŸ³ä¹å¾ˆé­”æ€§ï¼Œä½ å¯èƒ½å¤§æ¦‚ç‡ä¼šè¯´æˆ‘æ²¡å…´è¶£ï¼Œä½†æ˜¯å¦‚æœæˆ‘å‘Šè¯‰è¿™ä¸ªæ¶ˆæ¶ˆä¹æ¸¸æˆï¼Œä½ ç¬¬äºŒå…³éƒ½è¿‡ä¸å»ï¼Œæ˜¯ä¸æ˜¯æœ‰è¯•ä¸€è¯•çš„å†²åŠ¨äº†ï¼Ÿ è¿˜è®°å¾—ç¾Šäº†ä¸ªç¾Šçš„å®˜æ–¹ç®€ä»‹å—ï¼Ÿ å°æ¸¸æˆä»¥ç®€å•ä¼‘é—²å‡ºåï¼Œå¾ˆå¤šç©å®¶è¢«æä½çš„é€šå…³ç‡æ‰€åˆºæ¿€ï¼Œå¥½å¥‡å¿ƒä¿ƒä½¿èµ·ä¸»åŠ¨æ‰“å¼€å°ç¨‹åºæœ¬ç€è¯•è¯•çœ‹çš„å¿ƒæ€è¿›è¡Œæ¸¸æˆã€‚æ•™å­¦å…³å¡ç¡®å®éå¸¸ç®€å•ï¼Œç”šè‡³ä¼šç»™äººä¸€ç§ï¼Œåé¢çš„å…³å¡ä¹Ÿä¼šè¿™ä¹ˆç®€å•çš„é”™è§‰ï¼ŒåŒæ—¶ç»è¿‡æ•™å­¦å…³å¡çš„æ— è„‘é€šå…³ï¼Œç©å®¶ä¹Ÿæ›´åŠ ç¡®å®šè‡ªå·±å¯ä»¥æˆä¸ºé‚£0.1%çš„äººã€‚ ç»“æœå¤§å®¶éƒ½çŸ¥é“äº†ï¼Œç¬¬äºŒå…³çš„éš¾åº¦æå¤§ï¼Œåœ¨å°†ä¸Šå±‚è¾ƒå¤šçš„æ¶ˆé™¤åï¼Œä¾¿è¿›å…¥æéš¾çš„é˜¶æ®µï¼Œè€Œåˆ°è¾¾è¿™ä¸€æ­¥ç©å®¶å·²ç»åœ¨ä¸çŸ¥ä¸è§‰ä¸­ä»˜å‡ºçš„å¤§é‡çš„æ—¶é—´æˆæœ¬ å¿ƒæ™ºæˆæœ¬ï¼Œä¾¿æœ‰äº†è¶³å¤Ÿçš„åŠ¨æœºå»çœ‹å¹¿å‘Šï¼Œç„¶åå¤æ´»ï¼Œå†ç”¨å®Œæ‰€æœ‰é“å…·ï¼Œç„¶åå†æ¬¡å¤±è´¥ã€‚ è€Œäººç±»å¤©ç”Ÿçˆ±å¥½æŒ‘æˆ˜ï¼Œä¹Ÿå¾ˆéš¾æ¥å—ä¸å¿ƒç†é¢„æœŸçš„å·¨å¤§å·®è·ï¼Œä¹Ÿæ¢¦æƒ³åœ¨åœˆå­ç§è„±é¢–è€Œå‡ºï¼Œæ˜æ˜æ˜¯å¾ˆç®€å•çš„ä¸‰æ¶ˆæ¸¸æˆï¼Œæˆ‘æ€ä¹ˆå°±è¿‡ä¸äº†ï¼Ÿä¾¿äº§ç”Ÿäº†å†è¯•ä¸€å±€çš„å¿ƒæ€ï¼Œæ¸¸æˆç»“æŸä¼šæ˜¾ç¤ºä»Šæ—¥æŒ‘æˆ˜äº†å¤šå°‘æ¬¡ï¼Œç»“æœè¶Šç©è¶Šä¹…ï¼ŒåˆæŠ•å…¥äº†æ›´å¤§çš„æ—¶é—´æˆæœ¬ å¿ƒæ™ºæˆæœ¬ï¼Œä¾¿æ›´åŠ ä¸æ„¿æ„æ”¾å¼ƒï¼Œå¼€å§‹è‡ªå·±å’Œè‡ªå·±è¾ƒåŠ²ï¼ˆæ˜¯ä¸æ˜¯å¾ˆåƒæ‹¼å¤šå¤šçš„é‚€è¯·å¥½å‹è·å¾—100å…ƒï¼‰ã€‚ æƒ…ç»ªå¼•å¯¼æ¸¸æˆä¼šåœ¨å¾ˆå¤šå…³é”®çš„è£‚å˜é˜¶æ®µä¸‹è¶³äº†å¿ƒæ€ã€‚ ç¾Šäº†ä¸ªç¾Šçš„åˆ†äº«æ–‡æ¡ˆå‡ ä¹éƒ½æ˜¯æ¿€å‘ç©å®¶èƒœè´Ÿæ¬²çš„ä¸»é¢˜åŠ ä¸Šéå¸¸é­”æ€§çš„ï¼Œç¬¦åˆZæ—¶ä»£é£æ ¼çš„åˆ†äº«å›¾ï¼Œäº‹å®è¯æ˜ä¸€ç§æ–¹æ¡ˆç¡®å®å¾ˆç®¡ç”¨ï¼Œåœ¨ä¸å‡æ€ç´¢çš„æƒ…å†µä¸‹ï¼Œæˆ‘ä¼šæœ‰å¾ˆå¤§çš„æ¦‚ç‡å»ç‚¹å‡»ï¼Œå°¤å…¶æ˜¯åœˆå­å†…çš„åˆ†äº«ï¼Œä¾‹å¦‚å®¤å‹åœˆ ç­çº§åœˆ å¥½å‹åœˆã€‚ è€Œæ¸¸æˆé€šè¿‡ç»™äºˆé“å…·çš„å½¢å¼å¼•å¯¼ç©å®¶è¿›è¡Œåˆ†äº«ï¼Œå¤§éƒ¨åˆ†é¦–æ¬¡è§‚çœ‹å¹¿å‘Šå¤æ´»çš„ç©å®¶å†æ¬¡é¢å¯¹å›°éš¾çš„æ—¶å€™ï¼Œä¾¿æœ‰äº†è¶³å¤Ÿçš„åŠ¨æœºå»åˆ†äº«ç»™æœ‹å‹ï¼Œè¿™æ ·æ¯ä¸ªç©å®¶ä¾¿ä¼šäº§ç”Ÿä¸‰æ¬¡åˆ†äº«ã€‚ åœ¨ä½ é“å…·ç”¨å®Œï¼Œæ¸¸æˆå¤±è´¥çš„æ—¶å€™åŒæ ·è¿›è¡Œå¼•å¯¼ï¼Œå¯ä»¥è¯´æ˜¯ç²¾å‡†äº†æŠ“ä½äº†ç”¨æˆ·çš„å¿ƒç† æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œé™¤äº†å¤–éƒ¨è¯é¢˜è¥é”€çš„çˆ†ç«ä¹‹å¤–ï¼Œäº§å“ç±»çš„è£‚å˜ä¹Ÿåœ¨ç©å®¶çš„ç§åŸŸåœˆå­å†…å½¢æˆæœ€ç›´æ¥çš„è¿‘è·ç¦»è§¦è¾¾ï¼Œè¿›è€Œå¼•å‘äº†æŒ‡æ•°çº§åˆ«çš„çˆ†ç‚¸ã€‚ å°ç¨‹åºçš„â€œå¤©ç„¶ä¼˜åŠ¿â€å°ç¨‹åºè§¦è¾¾è·¯å¾„æçŸ­ï¼Œappå†…æ‰“å¼€ï¼Œæ— éœ€ä¸‹è½½ï¼Œå³ç‚¹å³ç©ï¼Œç™»å½•æµç¨‹çŸ­ï¼Œå€ŸåŠ©å¹³å°èƒ½åŠ›å³å¯å®ç°ä¸€é”®ç™»å½•ï¼Œè¿™äº›ç‰¹æ€§æ˜¾è‘—é™ä½äº†ä½¿ç”¨é—¨æ§›ã€‚ æ¨å¹¿èƒ½åŠ›å¼ºï¼Œä¼ æ’­æ¸ é“å¤šï¼ŒæŠ–éŸ³è§†é¢‘ï¼Œå…¬ä¼—å·æ–‡ç« ï¼Œå¾®ä¿¡è§†é¢‘ï¼Œç”¨æˆ·å¯èƒ½åœ¨å¤šä¸ªåœºæ™¯ä¸‹è§¦å‘ã€‚ å¼€å‘ã€ä¸Šçº¿æˆæœ¬ä½ï¼Œæ²¡æœ‰ç±»ä¼¼ç‰ˆå·çš„é™åˆ¶ ä¹Ÿéš¾æ€ªå›½å†…å„å¤§appéƒ½åšå°ç¨‹åºç”Ÿæ€ï¼Œä»å•†ä¸šçš„è§’åº¦ä¸Šï¼Œå°ç¨‹åºçš„ä¼˜ç‚¹å®åœ¨æ˜¯å¤ªå¤šã€‚ ä¸€äº›tipsç™»é—¨æ§›æ•ˆåº”ä¹Ÿè¢«ç§°ç»™å¾—å¯¸è¿›å°ºæ•ˆåº”ï¼Œæ˜¯æŒ‡ä¸€ä¸ªäººä¸€æ—¦æ¥å—äº†ä»–äººä¸€ä¸ªå¾®ä¸è¶³é“çš„è¦æ±‚ï¼Œä¸ºäº†é¿å…è®¤çŸ¥ä¸Šçš„ä¸åè°ƒï¼Œæˆ–è€…æƒ³ç»™å¯¹æ–¹å‰åä¸€è‡´çš„å°è±¡ï¼Œå°±æœ‰å¯èƒ½æ¥å—æ›´å¤§çš„è¦æ±‚ å›æƒ³ç¾Šäº†ä¸ªç¾Šçš„å…³å¡è®¾è®¡ä¸­ç¬¬ä¸€å…³æåº¦ç®€å•ï¼Œéšä¾¿ç‚¹ç‚¹å°±è¿‡äº†ï¼Œè€Œæ¥è‡ªå›ºæœ‰è§‚å¿µçš„è·¯å¾„ä¾èµ–ï¼Œä¼šè®©ç”¨æˆ·äº§ç”Ÿåé¢ä¹Ÿä¼šå¾ˆç®€å•çš„æƒ³æ³•ï¼Œç»“æœç¬¬äºŒå…³ç›´æ¥åœ°ç‹±éš¾åº¦ï¼Œä¸ç”¨æˆ·çš„æœŸæœ›ç»“æœå‡ºç°åå·®ï¼Œæ­¤æ—¶ç”¨æˆ·ä¸ºäº†è¯æ˜è‡ªå·±ï¼Œä¾¿ä¼šèµ°è¿›æ­»èƒ¡åŒã€‚ è¿˜æœ‰ç”¨æˆ·é¦–æ¬¡è·å¾—é“å…·éœ€è¦è¿›è¡Œåˆ†äº«ï¼Œä¹‹åå†æƒ³è·å–é“å…·ä¾¿éœ€è¦çœ‹è§†é¢‘ï¼Œç›¸å¯¹äºçœ‹è§†é¢‘å¿…ç„¶åˆ†äº«æ›´åŠ ä½æˆæœ¬ï¼Œå½“ç”¨æˆ·ç¬¬äºŒæ¬¡åœ¨æƒ³è·å¾—é“å…·éœ€è¦ä»–çœ‹å¹¿å‘Šçš„æ—¶å€™ï¼Œå› ä¸ºç©å®¶å·²ç»æœ‰äº†åˆ†äº«è·å–é“å…·çš„åŠ¨ä½œï¼Œè¿™æ—¶å€™å†è®©ç”¨æˆ·çœ‹å¹¿å‘Šè·å–é“å…·ä¾¿ä¸ä¼šè®©ç”¨æˆ·éå¸¸æŠ—æ‹’ã€‚ ç¾Šç¾¤æ•ˆåº”ç»æµå­¦é‡Œé¢ç»å¸¸ç”¨â€œç¾Šç¾¤â€æ•ˆåº”æ¥æè¿°ç»æµä¸ªä½“ä»ä¼—è·Ÿé£å¿ƒç†ï¼ŒåŒæ—¶ä»ä¼—å¿ƒç†ä¹Ÿä¼šä¹Ÿä¼šå¯¼è‡´ç›²ä»ï¼Œè¿›è€Œé™·å…¥éª—å±€æˆ–è€…é­å—å¤±è´¥ã€‚ ä¸å¯å¦è®¤é«˜éš¾åº¦æŠ˜å ç±»ä¸‰æ¶ˆæ¸¸æˆç¡®å®å¥½ç©ï¼Œä½†æ˜¯åœ¨æˆ‘çœ‹åˆ°å¼€å‘æ–¹æ˜¯éå¸¸æ¶è¶£å‘³çš„ï¼Œå®Œæˆç¬¬äºŒå…³çš„å°±å¯ä»¥åŠ å…¥ç¾Šç¾¤ï¼Œæˆä¸ºâ€œé¢†å¤´ç¾Šâ€ï¼Œå¦‚æœæŸä½å¹¸è¿å„¿è¿‡äº†ç¬¬äºŒå…³ï¼Œé‚£ä¸€å®šä¼šå¤§è‚†å®£ä¼ ï¼Œæ»¡è¶³è‡ªå·±çš„ç¤¾äº¤æƒ…ç»ªï¼Œæ®Šä¸çŸ¥æœ€å¤§å—ç›Šè€…æ­£å¼æ¸¸æˆæ–¹æœ¬èº«ï¼Œå› ä¸ºä½ çš„æ¦œæ ·ï¼Œæ›´å¤šçš„äººå¼€å§‹ç›²ç›®è·Ÿé£ï¼Œæ”€æ¯”ï¼Œäº‰å–åŠ å…¥ç›ç¾Šç¾¤ï¼Œäºæ˜¯ä¾¿å¼€å§‹ä¸æ–­æŒ‘æˆ˜é«˜éš¾åº¦ç¬¬äºŒå…³ã€‚ç­‰åˆ°å°ç¾Šä»¬ååº”è¿‡æ¥çš„æ—¶å€™ï¼Œæ¸¸æˆæ–¹æ—©å·²èµšå¾—ç›†æ»¡é’µæ»¡ï¼Œæ½‡æ´’ç¦»å»ã€‚ è€Œæ¸¸æˆçš„çˆ†ç«ä¹Ÿé¡ºå¸¦å…¶â€œå‘¨è¾¹äº§ä¸šâ€çš„çˆ†ç«ï¼Œ ä¸Šç˜¾æ¨¡å‹åˆ†ææˆ‘ä»¬ä½¿ç”¨ç»å…¸çš„ä¸Šç˜¾æ¨¡å‹è¿›è¡Œåˆ†æï¼Œçœ‹çœ‹ç¾Šäº†ä¸ªç¾Šæ˜¯å¦‚ä½•è®©ç”¨æˆ·æˆä¸ºâ€çŠŸé©´â€çš„ è§¦å‘ å¤–éƒ¨è§¦å‘ï¼šå¾®åš æŠ–éŸ³å¤šå¹³å° å¾®ä¿¡åˆ†äº«æ–‡æ¡ˆ åˆ‡å…¥0.01%è¿‡å…³ç‡ è¯é¢˜è¥é”€ å¥½å‹åˆ†äº« Zæ—¶ä»£ç”»é£ å†…éƒ¨è§¦å‘ï¼šäººç±»çš„å¥½å¥‡å¿ƒ èƒœè´Ÿæ¬² ç¤¾äº¤éœ€è¦ è¡ŒåŠ¨ è¡ŒåŠ¨ &#x3D; åŠ¨æœº + è¡Œä¸º + è§¦å‘ åŠ¨æœºï¼šå¥½å¥‡å¿ƒ èƒœè´Ÿæ¬² ç¤¾äº¤éœ€è¦ è¯é¢˜PK ä¸‰æ¶ˆæ¸¸æˆçš„è¶£å‘³æ€§ è¡ŒåŠ¨ï¼šå¹´è½»ç¾¤ä½“ + ä¸‰çº¿ç”¨æˆ·å…·å¤‡æ—¶é—´å……è£•ï¼Œè¿½æ±‚å¿«ä¹çš„å±æ€§ è§¦å‘ï¼šå°ç¨‹åºæ— éœ€ä¸‹è½½ï¼Œæ‰“å¼€å³ç©çš„ç‰¹ç‚¹æå¤§åœ°é™ä½äº†è§¦å‘éš¾åº¦ å¤šå˜çš„é…¬èµ æ¸¸æˆå†…æ¯æ¬¡ä¸‰æ¶ˆå¸¦æ¥çš„æ­£å‘åé¦ˆ æ¸¸æˆè¯é¢˜çƒ­åº¦å¸¦æ¥çš„å¤§é‡å¥¶å¤´ä¹ä¿¡æ¯ æŠ•å…¥ å½“å‰åœºæ¬¡ï¼Œä»Šæ—¥å·²ç»æŒ‘æˆ˜åœºæ¬¡çš„æ—¶é—´ã€ç²¾åŠ›æˆæœ¬çš„æŠ•å…¥ ç¤¾äº¤å…³ç³»çš„æŠ•å…¥ è€ŒæŠ•å…¥æœ€ç»ˆä¹Ÿæˆä¸ºç”¨æˆ·ä¸‹ä¸€æ¬¡è§¦å‘çš„åŸå› ï¼Œäº¦æˆ–è€…ä¸æœè¾“çš„é©´è„¾æ°”ï¼Œäº¦æˆ–è€…èº«è¾¹çš„ç¤¾äº¤å”¤é†’ï¼Œå½¢æˆäº†ä¸Šç˜¾æ¨¡å‹çš„é—­ç¯ã€‚ ä½†æ˜¯æˆ‘ä»¬å¯ä»¥çœ‹åˆ°é…¬èµç¯èŠ‚ç›¸å¯¹è–„å¼±ï¼Œå¦‚æœç”¨æˆ·ä¸€ç›´æ— æ³•è¿‡å…³ï¼Œä¾¿æœ€ç»ˆå¤±å»å…´è¶£ï¼Œè€Œè¯é¢˜è¥é”€ä¿è´¨æœŸæ˜¯æœ‰é™çš„ï¼Œå¹¶ä¸”å…¶æ¸¸æˆå†…éƒ¨å®ç°å·²ç»è¢«æ‰’äº†ä¸ªåº•æœå¤©ï¼Œè´Ÿé¢æ¶ˆæ¯å……æ–¥äº’è”ç½‘å¹³å°ï¼Œå¯ä»¥é¢„è§åœ¨15å¤©å†…ï¼Œå…¶æµé‡ä¼šè·Œå›ä»–åŸæœ¬çš„é«˜åº¦ï¼ˆçŒœæµ‹æ˜¯æœ€é«˜ç‚¹çš„10%-20%ï¼‰ã€‚ ç›®æ ‡äººç¾¤ä½œè€…æ˜¯9æœˆ15å·çŸ¥æ™“çš„æ—¶å€™ï¼Œå·²ç»æ˜¯äº§å“æœ€ç«çš„æ—¶å€™äº†ï¼Œæˆ‘ä»¬å¯ä»¥å‘æŒ¥æƒ³è±¡ç®€å•åˆ†æä¸€ä¸‹ï¼Œä½œè€…ç»è¿‡åå¤çš„å¤–éƒ¨è§¦å‘ï¼Œæ‰æ‰“å¼€å°ç¨‹åºï¼Œå¾ˆæ˜æ˜¾é«˜å¼ºåº¦ä¸Šç­æ—ä¸æ˜¯ä»–çš„ç›®æ ‡å®¢æˆ·ï¼Œ9å·åˆ°13å·çš„ç”¨æˆ·æ‰ç®—æ˜¯ä»–çš„ç¬¬ä¸€æ‰¹ç”¨æˆ·ï¼Œè€Œä»–çš„ç¬¬ä¸€æ‰¹ç”¨æˆ·æ˜¯æ—¶é—´è¾ƒå¤šçš„å¤§å­¦ç”Ÿï¼Œå·¥ä½œå¼ºåº¦ä¸å¤§çš„å¹´è½»äººä¸ºä¸»ï¼Œè¿™éƒ¨åˆ†äººæ—¶é—´å¤šï¼Œå¹¶ä¸”å–œçˆ±è¿½çƒ­ç‚¹è¯é¢˜ã€‚ è€Œå¼€å‘å•†ä¹Ÿç²¾å‡†äº†æŠ“ä½äº†ç›®æ ‡ç”¨æˆ·çš„ç‰¹ç‚¹ï¼Œä»ä¼ æ’­åˆ‡å…¥ç‚¹ åˆ†äº«åˆ‡å…¥ç‚¹ æ¸¸æˆç”»é£ç­‰å¤šæ–¹é¢è¿›è¡Œé’ˆå¯¹æ€§å¼€å‘ä¸ç­–åˆ’ï¼Œä¿è¯å‡†ç¡®æŒ åˆ°ç›®æ ‡ç”¨æˆ·çš„ç—’ç‚¹ï¼Œä»è¿™ä¸ªè§’åº¦çœ‹ï¼Œå…¶å®ç¾Šäº†ä¸ªç¾Šå°æ¸¸æˆç«èµ·æ¥æ˜¯å­˜åœ¨å®åŠ›çš„ï¼Œä¸æ˜¯ä¸€ä¸ªç®€å•çš„demoäº§å“ï¼Œå¤§å®¶ä¹Ÿä¸è¦æŠŠä»–çš„çˆ†ç«å®Œå…¨å½’åŠŸäºä¼ æ’­è¥é”€ï¼Œäº§å“èƒ½åŠ›ä¹Ÿæ˜¯å…¶çƒ­åº¦æŒç»­å¼•çˆ†çš„åŸå› ä¹‹ä¸€ã€‚ éå¸¸é—æ†¾åœ¨å·¨é‡ç®—æ•°ä¸­éƒ½æ— æ³•çœ‹åˆ°9-13å·çš„ç”¨æˆ·æ•°æ®ï¼Œæ— æ³•éªŒè¯ç»“è®ºï¼Œåªèƒ½çœ‹çœ‹14å·ä¹‹åçš„æ•°æ®ã€‚ ä»å·¨é‡æ•°æ®æ¥çœ‹ï¼Œè¶Šå¹´è½»çš„ç”¨æˆ·è¶Šé¢‘ç¹è§¦å‘å…³é”®è¯ï¼Œè€Œ31-40å²çš„ç”¨æˆ·è™½ç„¶ä¹Ÿéå¸¸å¤šï¼Œä½†æ˜¯TGIæ•°å€¼å·²ç»éå¸¸ä½ï¼ŒåŸºæœ¬æ˜¯ç¬¦åˆæˆ‘ä»¬æ¨æµ‹çš„ç»“è®ºçš„ã€‚ æ½®èµ·ä¸æ½®è½9æœˆ16å·æ˜¯çƒ­åº¦çš„è½¬æŠ˜ç‚¹ï¼Œä¸å¤¸å¼ çš„è¯´ï¼Œä¸‰å¤©å†…ï¼ˆ14-16ï¼‰å·ï¼Œå…¨å›½å‡ ä¹æ‰€æœ‰ç½‘æ°‘éƒ½å¬è¯´äº†ä¸€ä¸ªæ–°åè¯â€œç¾Šäº†ä¸ªç¾Šâ€ï¼Œå‡­å€Ÿé­”æ€§çš„ç”»é£ä»¥åŠè¶…éš¾çš„ç¬¬äºŒå…³è€Œç ´åœˆï¼Œè€Œçƒ­åº¦ä¹Ÿä¼´éšäº‰è®®éšä¹‹è€Œæ¥ï¼ŒæŠ„è¢­ï¼Œæ¸¸æˆæ— è§£ï¼Œéª—äººçœ‹å¹¿å‘Šè¿˜èµšäº†å‡ ç™¾ä¸‡ã€‚ æµé‡çš„åŒåˆƒå‰‘å·²ç»æŒ¥ä¸‹ï¼Œè¿™äº›æ¶ˆæ¯ä¹Ÿç«é€Ÿåœ¨ç½‘ä¸Šä¼ æ’­å¼€æ¥ï¼Œä¹Ÿè®©å¾ˆå¤šäººæ„è¯†åˆ°ï¼ŒåŸæ¥ç©å®¶è‡ªå·±æ‰æ˜¯â€œç¾Šâ€ï¼Œè‡ªç„¶ç¾Šç¾¤æ•ˆåº”å¸¦æ¥çš„ç”¨æˆ·ä¹Ÿç«é€Ÿæ¶ˆå¤±ï¼Œå¦‚æœæ²¡æœ‰è¿™äº›äº‰è®®ç‚¹ï¼Œä¹Ÿè®¸è¯¥æ¸¸æˆå¯ä»¥å¤šä¿æŒå‡ å¤©çƒ­åº¦ï¼Œæˆªè‡³19å·ï¼Œå¾®åšæ•°æ®å·²ç»ä¸‹è·Œäº†80%-90%ï¼ŒæŠ–éŸ³ä¹Ÿå‡ºç°äº†å¤§å¹…åº¦çš„ä¸‹æ»‘ï¼Œå¾®ä¿¡å› ä¸ºç¤¾äº¤å…³ç³»çš„åŸå› ç¨å¾®å¹³ç¨³ä¸€ç‚¹ï¼Œä½†æ˜¯å¯ä»¥é¢„è§ï¼Œæœ€å¤šåŠä¸ªæœˆï¼Œä¾¿ä¼šå›å½’åˆ°æ­£å¸¸çš„æ°´å¹³ï¼Œè€Œè¿™å‡ å¤©å¼€å‘å•†å·²ç»èµšçš„ç›†æ»¡é’µæ»¡ï¼Œå¼€å§‹ç ”ç©¶ä¸‹ä¸€ä¸ªçƒ­ç‚¹å°æ¸¸æˆã€‚ è€Œå¾®ä¿¡ æŠ–éŸ³ï¼Œä¹Ÿç­‰åˆ°å¼€å‘å•†ä»¬ä¸ºå…¶å¸¦æ¥ä¸‹ä¸€ä¸ªçƒ­ç‚¹ã€‚ æœ€åæˆ‘ä»¬å¤§å¤šæ•°äººä»å°å¤§åˆ°æ¥å—çš„æ˜¯éå¸¸æ­£å‘çš„æ•™è‚²ç†å¿µï¼Œç›¸ä¿¡æ­£ä¹‰ä¸€å®šæ‰“è´¥é‚ªæ¶ï¼Œæ¸¸æˆä¸€å®šæ˜¯ç»™äººå¸¦æ¥å¿«ä¹ï¼Œå“ªæ€•ç±»ä¼¼ã€ŠèŒ¶æ¯å¤´ã€‹ã€Šååœ¨ç½å­é‡Œé¢çš„ç”·äººã€‹éƒ½ä»…ä»…æ˜¯æå¤§çš„æ¸¸æˆéš¾åº¦ï¼Œå¾ˆéš¾ï¼Œçœ‹ä¼¼æ— è§£ï¼Œä½†æ˜¯æœ¬è´¨ä¸Šéƒ½æ˜¯æœ‰è§£çš„ï¼Œä½†æ˜¯ç¾Šäº†ä¸ªç¾Šåœ¨å®ç°ä¸Šé‡‡ç”¨ä¼ªçœŸéšæœºçš„æ–¹å¼è¿›è¡Œæ‰“ä¹±ï¼Œå¯¼è‡´æ¸¸æˆæ— æ³•ä¿è¯ä¸€å®šæœ‰è§£ï¼Œä¹Ÿå°±æ˜¯è¯´å¾ˆå¤šæ—¶å€™æ³¨å®šæ˜¯ç©ä¸è¿‡å»çš„ï¼Œä¹Ÿå°±æ˜¯è¯´å°±ç®—ä½ æ˜¯ä¸‰æ¶ˆæ¸¸æˆçš„å¤©æ‰ï¼Œä½ ä¹Ÿè¦çœ‹å¹¿å‘Šï¼Œä»–è¿™æ ·çš„ç›®çš„æ˜¯åˆ©ç”¨ç©å®¶çš„ä¸æ„¿æ”¾å¼ƒæ²‰æ²¡æˆæœ¬ã€æ¸´æœ›ç¤¾äº¤é…¬èµã€èµŒå¾’å¿ƒç†è¯±å¯¼ä½ çœ‹å¹¿å‘Šè€Œå·²ã€‚ è€Œè¿™æ ·ç•¸å½¢çš„æ¸¸æˆå´èƒ½ç«èµ·æ¥å€¼å¾—æˆ‘ä»¬æ·±æ€ã€‚","categories":[{"name":"äº§å“ç»ç†","slug":"äº§å“ç»ç†","permalink":"https://vkcyan.github.io/categories/%E4%BA%A7%E5%93%81%E7%BB%8F%E7%90%86/"}],"tags":[{"name":"äº§å“åˆ†æ","slug":"äº§å“åˆ†æ","permalink":"https://vkcyan.github.io/tags/%E4%BA%A7%E5%93%81%E5%88%86%E6%9E%90/"}]},{"title":"vue3ç›¸å¯¹äºvue2åšäº†ä»€ä¹ˆï¼Ÿ","slug":"å…³äºvue3çš„ç ”ç©¶/vue3ç›¸å¯¹äºvue2åšäº†ä»€ä¹ˆï¼Ÿ","date":"2022-09-17T16:00:00.000Z","updated":"2022-12-11T13:51:24.083Z","comments":true,"path":"2022/09/18/å…³äºvue3çš„ç ”ç©¶/vue3ç›¸å¯¹äºvue2åšäº†ä»€ä¹ˆï¼Ÿ/","link":"","permalink":"https://vkcyan.github.io/2022/09/18/%E5%85%B3%E4%BA%8Evue3%E7%9A%84%E7%A0%94%E7%A9%B6/vue3%E7%9B%B8%E5%AF%B9%E4%BA%8Evue2%E5%81%9A%E4%BA%86%E4%BB%80%E4%B9%88%EF%BC%9F/","excerpt":"","text":"vue3.0æ›´åŠ æ³¨é‡æ¨¡å—ä¸Šçš„æ‹†åˆ†ï¼Œåœ¨2.0ç‰ˆæœ¬ä¸­æ‰€æœ‰vueç›¸å…³çš„é€»è¾‘éƒ½ç›¸äº’è€¦åˆåœ¨ä¸€èµ·ï¼Œå°±ç®—ä»…ä»…ä½¿ç”¨vueçš„ä¸€å°éƒ¨åˆ†ï¼Œä¹Ÿéœ€è¦å¼•å…¥å®Œæˆçš„vueï¼Œé€ æˆäº†ç©ºé—´çš„æµªè´¹ï¼Œè€Œvue3åˆ™åœ¨æ¨¡å—å±‚é¢ä¸Šè¿›è¡Œæ‹†åˆ†ï¼Œé€šè¿‡tree-shakingå®ç°æŒ‰éœ€å¯¼å…¥ï¼Œå‡å°‘ç”¨æˆ·æ‰“åŒ…ä½“ç§¯ï¼ŒåŒæ—¶æ¯ä¸ªé¡¹ç›®å•ç‹¬ç®¡ç†ï¼Œå•ç‹¬å‘å¸ƒï¼Œæ›´åŠ å…·å¤‡ç¨³å®šæ€§ â€‹ æ¨¡å—æ‹†åˆ†æˆnpmåŒ…ï¼Œç‹¬ç«‹ä½¿ç”¨ï¼Œç‹¬ç«‹å‘å¸ƒ è™½ç„¶åº•å±‚å‡ºç°å¤§é‡æ”¹åŠ¨ï¼Œä½†æ˜¯é¡¶å±‚è®¾è®¡ç†å¿µæ²¡æœ‰å‘ç”Ÿæ”¹å˜ï¼Œä¾æ—§æ˜¯å£°æ˜å¼æ¶æ„ã€‚ Monorepoï¼š ä¸€ä¸ªä»“åº“ä¸‹å¯ä»¥ç»´æŠ¤å¤šä¸ªæ¨¡å— æ–¹ä¾¿ç‰ˆæœ¬ç®¡ç†ï¼Œä¾èµ–ç®¡ç†ï¼Œæ¨¡å—é—´å¼•ç”¨ã€‚ æ­å»ºvue3ä»“åº“é€šè¿‡pnpmåˆå§‹åŒ–é¡¹ç›®1pnpm init åˆ›å»ºMonorepoä»“åº“ç¯å¢ƒæ–°å»ºæ–‡ä»¶å¤¹packages æ–°å»ºæ–‡ä»¶pnpm-workspace.yaml 12packages: - &#x27;packages/*&#x27; // å«ä¹‰ä¸ºæ€•packageç›®å½•ä¸‹çš„æ¯ä¸ªæ–‡ä»¶éƒ½æ˜¯ä¸€ä¸ªå•ç‹¬çš„ä»“åº“ å®‰è£…å…¬å…±ä¾èµ– é¡¹ç›®æ ¹ç›®å½•æ‰§è¡Œ 1pnpm install vue -w // w ä¸ºworkspace-rootçš„ç¼©å†™ï¼Œä»£è¡¨è¯¥åŒ…ä¸ºå…¨å±€ä¾èµ– å¹½çµä¾èµ– â€‹ vueä¾èµ–äº†abcåŒ…ï¼Œæˆ‘ä»¬ä¸‹è½½vueçš„æ—¶å€™abcåŒ…å°±è¢«ä¸‹è½½åˆ°é¡¹ç›®ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥ä½¿ç”¨abcï¼Œä½†æ˜¯vueå¯èƒ½åœ¨æŸä¸€ä¸ªç‰ˆæœ¬å°±ä¸å†ä½¿ç”¨abcï¼Œè¿™å°±ä¼šé€ æˆä¾èµ–ä¸¢å¤±ï¼Œè¿™äº›ä¾èµ–å°±è¢«æˆä¸ºå¹½çµä¾èµ– ç”Ÿæˆç›¸å…³é…ç½®ä¿¡æ¯åˆ›å»ºpackageså†…éƒ¨çš„packageç¯å¢ƒ é€šè¿‡ 1pnpm tsc --init ç”Ÿæˆtsé»˜è®¤é…ç½®æ–‡ä»¶ å¹¶ä¸”å¢åŠ é…ç½® 1234&quot;baseUrl&quot;: &quot;.&quot;,&quot;paths&quot;: &#123; &quot;@vue/*&quot;: [&quot;packages/*/src&quot;] // å¼•å…¥åº“å…³ç³»æ˜ å°„&#125; å®ç°æ„å»ºæµç¨‹ ç¼–å†™æ¯ä¸ªç»„ä»¶çš„package.json ç¼–å†™å…¬å…±æ‰“åŒ…æ–‡ä»¶ï¼Œå¯ä»¥æ‰“åŒ…packagesä¸­çš„æ‰€æœ‰åº“ ç¼–å†™esbuildæ‰“åŒ…ä»£ç ","categories":[{"name":"Javascript-2022","slug":"Javascript-2022","permalink":"https://vkcyan.github.io/categories/Javascript-2022/"}],"tags":[{"name":"Vue","slug":"Vue","permalink":"https://vkcyan.github.io/tags/Vue/"}]},{"title":"ç°ä»£å¿ƒç†å­¦ä¸ƒç§è§‚ç‚¹","slug":"å¿ƒç†å­¦ä¸ç”Ÿæ´»/ç°ä»£å¿ƒç†å­¦ä¸ƒç§è§‚ç‚¹","date":"2022-08-14T16:00:00.000Z","updated":"2022-12-11T13:51:24.085Z","comments":true,"path":"2022/08/15/å¿ƒç†å­¦ä¸ç”Ÿæ´»/ç°ä»£å¿ƒç†å­¦ä¸ƒç§è§‚ç‚¹/","link":"","permalink":"https://vkcyan.github.io/2022/08/15/%E5%BF%83%E7%90%86%E5%AD%A6%E4%B8%8E%E7%94%9F%E6%B4%BB/%E7%8E%B0%E4%BB%A3%E5%BF%83%E7%90%86%E5%AD%A6%E4%B8%83%E7%A7%8D%E8%A7%82%E7%82%B9/","excerpt":"","text":"å¿ƒç†åŠ¨åŠ›å­¦è§‚ç‚¹â€‹ è¡Œä¸ºæ˜¯ç”±å¼ºå¤§çš„å†…éƒ¨åŠ›é‡é©±ä½¿æˆ–è€…æ¿€å‘ï¼Œè¿™ç§è§‚ç‚¹è®¤ä¸ºï¼Œäººçš„è¡Œä¸ºæ˜¯ç”±å…ˆå¤©çš„æœ¬æœ¬å’Œç”Ÿç‰©é©±åŠ›äº§ç”Ÿï¼Œè€Œä¸”è¯•å›¾è§£å†³ä¸ªäººéœ€è¦å’Œç¤¾ä¼šè¦æ±‚ä¹‹é—´çš„å†²çªã€‚å‰¥å¤ºçŠ¶æ€ï¼Œç”Ÿç†å”¤èµ·ä»¥åŠå†²çªéƒ½ä¸ºè¡ŒåŠ¨æä¾›äº†åŠ›é‡ï¼Œå°±åƒç…¤ä¸ºè’¸æ±½æœºä¾›åº”ç‡ƒæ–™ä¸€æ ·ï¼Œåœ¨è¿™ä¸ªæ¨¡å‹ä¸­ï¼Œå½“æœºä½“çš„éœ€è¦å¾—åˆ°äº†æ»¡è¶³è€Œé©±åŠ›é™ä½æ—¶ï¼Œæœºä½“å°±ä¼šåœæ­¢ååº”ã€‚è¡Œä¸ºçš„ä¸»è¦ç›®çš„æ˜¯é™ä½ç´§å¼ åº¦ã€‚ è¡Œä¸ºä¸»ä¹‰è§‚ç‚¹â€‹ å¯»æ±‚ç†è§£ç‰¹å®šç¯å¢ƒåˆºæ¿€å¦‚ä½•æ§åˆ¶ç‰¹å®šç±»å‹çš„è¡Œä¸ºï¼Œé¦–å…ˆè¡Œä¸ºä¸»ä¹‰è€…åˆ†æå‘å‰çš„ç¯å¢ƒæ¡ä»¶ï¼Œä»–ä»¬æŠŠååº”è¡Œä½œä¸ºä¸»è¦ç ”ç©¶å¯¹è±¡ï¼Œæ˜¯ä¸ºæƒ³è¦ç†è§£ï¼Œé¢„æµ‹å’Œæ§åˆ¶çš„è¡Œä¸º äººæœ¬ä¸»ä¹‰è§‚ç‚¹â€‹ äººä»¬æ—¢ä¸æ˜¯å¦‚å¼—æ´›ä¼Šå¾·ä¸»ä¹‰è€…å‡è®¾çš„ç”±å¼ºå¤§æœ¬èƒ½ç†æƒ³æ‰€é©±ä½¿ï¼Œä¹Ÿä¸æ˜¯å¦‚è¡Œä¸ºä¸»ä¹‰æå‡ºçš„ç”±ç¯å¢ƒå› ç´ æ‰€æ“çºµï¼Œç›¸åäººæ˜¯å…·æœ‰èƒ½åŠ¨æ€§çš„ç”Ÿç‰©ï¼Œæœ¬æ€§å–„è‰¯è€Œä¸”å…·æœ‰é€‰æ‹©èƒ½åŠ›ã€‚ è®¤çŸ¥è§‚ç‚¹â€‹ äººçš„æ€ç»´ä»¥åŠæ‰€æœ‰çš„è®¤è¯†è¿‡ç¨‹ï¼Œæ³¨æ„ã€æ€è€ƒã€è®°å¿†å’Œç†è§£ã€‚ä»è®¤è¯†çš„è§‚ç‚¹çœ‹ï¼Œäººä»¬è¡ŒåŠ¨æ˜¯å› ä¸ºä»–ä»¬æ€è€ƒï¼Œè€Œäººä»¬æ€è€ƒæ˜¯å› ä¸ºä»–ä»¬æ˜¯äººç±»ï¼Œå¤„äºå¤§è„‘çš„ç²¾ç»†æ„é€  ç”Ÿç‰©å­¦è§‚ç‚¹â€‹ åœ¨åŸºå› ã€å¤§è„‘ã€ç¥ç»ç³»ç»Ÿä»¥åŠå†…åˆ†æ³Œç³»ç»Ÿä¸­å¯»æ‰¾è¡Œä¸ºçš„åŸå› ï¼Œå¿ƒç†ç°è±¡ä¸ç¤¾ä¼šç°è±¡èƒ½å¤Ÿæœ€ç»ˆä¾æ®ç”Ÿç‰©åŒ–å­¦è¿‡ç¨‹åŠ ä»¥ç†è§£ï¼šåŠæ—¶æœ€å¤æ‚çš„ç°è±¡ï¼Œä¹Ÿèƒ½å¤Ÿé€šè¿‡è¢«åˆ†ææˆ–ç®€åŒ–ä¸ºæ›´å°ã€æ›´å…·ä½“çš„å•ä½æ¥ç†è§£ã€‚ è¿›åŒ–è®ºè§‚ç‚¹â€‹ èƒ½æ›´å¥½çš„é€‚åº”ç¯å¢ƒçš„æœ‰æœºä½“ï¼Œå€¾å‘äºæ¯”é‚£äº›é€‚åº”æ€§è¾ƒå·®çš„æœ‰æœºä½“æ›´èƒ½æˆåŠŸçš„äº§ç”Ÿåä»£ï¼Œç»è¿‡å¾ˆå¤šæ—¶ä»£ï¼Œç‰©ç§æœç€æ›´å…·é€‚åº”æ€§çš„æ–¹å‘å‘å±• â€‹ ç¤¾ä¼šæ–‡åŒ–è§‚ç‚¹â€‹ ç ”ç©¶è¡Œä¸ºçš„åŸå› å’Œç»“æœä¸­è·¨æ–‡åŒ–å·®å¼‚ã€‚","categories":[{"name":"äº§å“ç»ç†","slug":"äº§å“ç»ç†","permalink":"https://vkcyan.github.io/categories/%E4%BA%A7%E5%93%81%E7%BB%8F%E7%90%86/"}],"tags":[{"name":"NPDP","slug":"NPDP","permalink":"https://vkcyan.github.io/tags/NPDP/"}]},{"title":"piniaæºç åˆ†æã€5ã€‘- 150è¡Œä»£ç å®ç°miniç‰ˆpinia","slug":"piniaæºç è§£è¯»/piniaæºç åˆ†æã€5ã€‘- 150è¡Œä»£ç å®ç°miniç‰ˆpinia","date":"2022-07-28T16:00:00.000Z","updated":"2022-12-11T13:51:24.081Z","comments":true,"path":"2022/07/29/piniaæºç è§£è¯»/piniaæºç åˆ†æã€5ã€‘- 150è¡Œä»£ç å®ç°miniç‰ˆpinia/","link":"","permalink":"https://vkcyan.github.io/2022/07/29/pinia%E6%BA%90%E7%A0%81%E8%A7%A3%E8%AF%BB/pinia%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90%E3%80%905%E3%80%91-%20150%E8%A1%8C%E4%BB%A3%E7%A0%81%E5%AE%9E%E7%8E%B0mini%E7%89%88pinia/","excerpt":"","text":"æºç è§£æç³»åˆ—æ–‡ç« åˆ†æpiniaæºç ä¹‹å‰å¿…é¡»çŸ¥é“çš„API Piniaæºç åˆ†æã€1ã€‘- æºç åˆ†æç¯å¢ƒæ­å»º Piniaæºç åˆ†æã€2ã€‘- createPinia piniaæºç åˆ†æã€3ã€‘- defineStore piniaæºç åˆ†æã€4ã€‘- Pinia Methods å‰è¨€ åˆ«äººè¿˜åœ¨å­¦ä¹ ä½¿ç”¨piniaï¼Œçœ‹è¿‡æ–‡ç« çš„ä½ ç›´æ¥äº†è§£æ ¸å¿ƒåŸç†ï¼Œæ— è®ºæ˜¯å®é™…ä½¿ç”¨ï¼Œè¿˜æ˜¯é¢è¯•éƒ½å°†æ›´ä¸Šä¸€å±‚æ¥¼~ â€‹ å‰æ®µæ—¶é—´å®Œæˆäº†å¯¹piniaæ ¸å¿ƒæºç çš„è§£è¯»ï¼Œå› ä¸ºæºç å­˜åœ¨éš¾åº¦ï¼Œä¹Ÿé—´æ¥åˆ°äº†åˆ†ææ–‡ç« å…·æœ‰è¾ƒé«˜çš„é˜…è¯»é—¨æ§›ï¼Œä¸ºäº†è§£å†³è¿™ä¸€é—®é¢˜ï¼Œå¯ä»¥è®©æ›´å¤šäººå‚ä¸åˆ°piniaçš„æºç é˜…è¯»ä¸­ï¼Œæ‰€ä»¥ä»Šå¤©ç»™å¤§å®¶å¸¦æ¥ä¸€ä¸ªminiç‰ˆpiniaçš„æ ¸å¿ƒå®ç°ï¼Œæ ¸å¿ƒä»£ç å‹ç¼©åˆ°100è¡Œå·¦å³ï¼Œæå¤§äº†é™ä½äº†æºç é˜…è¯»éš¾åº¦ã€‚ â€‹ miniç‰ˆpiniaå®ç°äº†stateï¼Œgettersï¼Œactionï¼Œ$patchï¼Œ$resetï¼Œ$disposeï¼›å±…å®¶æ—…è¡Œé¢è¯•å¸¸å¤‡~ â€‹ åŒæ—¶ä¸ºäº†é™ä½é˜…è¯»é—¨æ§›ï¼Œæ–¹ä¾¿TypeScriptä¸ç†Ÿç»ƒçš„åŒå­¦ï¼Œæœ¬ç‰ˆæœ¬å…¨éƒ¨ä½¿ç”¨anyï¼Œè¯ä¸å¤šè¯´æˆ‘ä»¬ç›´æ¥å¼€å§‹ï¼ â€‹ miniç‰ˆpiniaå¼€æºåœ°å€ï¼šhttps://github.com/vkcyan/mini-pinia miniç‰ˆé€»è¾‘æµç¨‹å›¾ ç®€å•ç‰ˆå®ç°æˆ‘ä»¬åœ¨ä»£ç ç»“æ„ä¸Šå°½é‡ä¸æ­£å¼æºç ä¿æŒä¸€è‡´ï¼Œä»…ä»…åšä¸€äº›é€»è¾‘ä¸Šçš„ç®€åŒ–ä¸å‹ç¼©ï¼Œä¿è¯æ ¸å¿ƒå®ç°çš„è´¨é‡ã€‚ æ³¨å†Œåˆ°vue è¿™é‡Œä¸»è¦å‚ç…§å®˜æ–¹å®ç°ï¼Œå¦‚æœä¸æ¸…æ¥šeffectScopeï¼Œè¯·çœ‹åˆ†æpiniaæºç ä¹‹å‰å¿…é¡»çŸ¥é“çš„APIï¼Œå¦‚æœæƒ³æ·±å…¥äº†è§£createPiniaï¼Œè¯·çœ‹Piniaæºç åˆ†æã€2ã€‘- createPinia 1234567891011121314151617181920212223/** * åˆ›å»ºPinia */export function createPinia() &#123; // åˆ›å»ºå“åº”ç©ºé—´ const scope = effectScope(true); const state = scope.run&lt;Ref&lt;Record&lt;string, StateTree&gt;&gt;&gt;(() =&gt; ref&lt;Record&lt;string, StateTree&gt;&gt;(&#123;&#125;) )!; // markRawä½¿å…¶ä¸å…·å¤‡å“åº”å¼ const pinia = markRaw(&#123; install(app: App) &#123; // æ³¨å…¥pinia app.provide(piniaSymbol, pinia); &#125;, use() &#123;&#125;, _s: new Map&lt;string, StoreGeneric&gt;(), // ä¿å­˜å¤„ç†åçš„storeæ•°æ®å…¨éƒ¨æ•°æ® state, // ä¿å­˜å¯è®¿é—®state _e: scope, // ç›¸åº”ç©ºé—´ &#125;); return pinia;&#125; å®ç°defineStoreå®ç°ä¸€ä¸ªåŸºç¡€åŠŸèƒ½çš„piniaï¼Œç®€å•æ¥è¯´ï¼Œæˆ‘ä»¬åªéœ€è¦åšæœ€æ ¸å¿ƒçš„ä¸¤ä»¶äº‹ å°†stateè½¬ä¸ºrefï¼Œä½¿å…¶å…·æœ‰å“åº”å¼ å°†getterså¤„ç†ä¸ºcomputed å¦‚æœéœ€è¦å®ç°$Actionè¿˜éœ€è¦å¯¹actionä¸­æ‰€æœ‰äº‹ä»¶è¿›è¡Œæ‹¦æˆªå¤„ç†ï¼ˆminiç‰ˆä¸å®ç°$Actionï¼‰ defineStore defineStoreä¸­çš„useStoreä¸»è¦åšä¸€äº›åˆå§‹åŒ–åˆ¤æ–­ï¼Œå¦‚æœæ˜¯storeç¬¬ä¸€æ¬¡è¢«ä½¿ç”¨ï¼Œåˆ™éœ€è¦åˆå§‹åŒ–ï¼Œè¿›å…¥createOptionsStoreï¼Œéç¬¬ä¸€æ¬¡ç›´æ¥è·å–_sä¸­å·²è¢«å¤„ç†å¥½çš„ç¼“å­˜ã€‚ 1234567891011121314151617181920212223242526272829303132/** * åˆ›å»ºstoreï¼ˆä»…æ”¯æŒå•å¯¹è±¡åˆ›å»ºæ–¹å¼ï¼‰ * @param options * @returns */export function defineStore(options: &#123; id: string; state: any; getters: any; actions: any;&#125;) &#123; let &#123; id &#125; = options; // å®é™…è¿è¡Œå‡½æ•° function useStore() &#123; const currentInstance = getCurrentInstance(); // è·å–å®ä¾‹ let pinia: any; if (currentInstance) &#123; pinia = inject(piniaSymbol); // è·å–installé˜¶æ®µçš„pinia &#125; if (!pinia) &#123; throw new Error(&quot;super-mini-piniaåœ¨mianä¸­æ³¨å†Œäº†å—?&quot;); &#125; if (!pinia._s.has(id)) &#123; // ç¬¬ä¸€æ¬¡ä¼šä¸å­˜åœ¨ï¼Œå•ä¾‹æ¨¡å¼ createOptionsStore(id, options, pinia); &#125; const store = pinia._s.get(id); // è·å–å½“å‰storeçš„å…¨éƒ¨æ•°æ® return store; &#125; useStore.$id = id; return useStore;&#125; createOptionsStore ä½¿ç”¨refå¤„ç†stateï¼Œä½¿ç”¨computedå¤„ç†gettersï¼Œä½†æ˜¯æ­¤å¤„å°šæœªè¿è¡Œï¼Œå°†setupå‡½æ•°ä½œä¸ºå‚æ•°ä¼ å€¼åˆ°createSetupStoreã€‚ 12345678910111213141516171819202122232425262728/** * å¤„ç†state getters * @param id * @param options * @param pinia */function createOptionsStore(id: string, options: any, pinia: any) &#123; const &#123; state, actions, getters &#125; = options; function setup() &#123; pinia.state.value[id] = state ? state() : &#123;&#125;; // pinia.stateæ˜¯Ref const localState = toRefs(pinia.state.value[id]); return Object.assign( localState, // è¢«refå¤„ç†åçš„state actions, // storeçš„action Object.keys(getters || &#123;&#125;).reduce((computedGetters, name) =&gt; &#123; computedGetters[name] = markRaw( computed(() =&gt; &#123; const store = pinia._s.get(id)!; return getters![name].call(store, store); &#125;) ); return computedGetters; &#125;, &#123;&#125; as Record&lt;string, ComputedRef&gt;) // å°†getterså¤„ç†ä¸ºcomputed ); &#125; let store = createSetupStore(id, setup, pinia); return store;&#125; createSetupStore â€‹ å£°æ˜å½“å‰storeçš„æ–¹æ³•ï¼Œå¹¶ä¸”è¿è¡Œä¸Šä¸€ä¸ªå‡½æ•°ç»„å»ºçš„setupå‡½æ•°ï¼Œå…¶ä¸­åŒ…å«stateï¼Œgettersï¼Œæˆ‘ä»¬å°†å…¶å“åº”å¼å­˜å‚¨åˆ°pinia._eä¸­ï¼Œä¾¿äºåé¢å¯¹æ•°æ®å˜åŒ–è¿›è¡Œç›‘å¬ï¼Œä»¥åŠç»Ÿä¸€ç®¡ç†ã€‚ â€‹ æœ€åå°†setupè¿”å›çš„å¯¹è±¡ä¸å­˜æ”¾æ–¹æ³•çš„partialStoreå¯¹è±¡è¿›è¡Œassignï¼Œå®Œæˆstoreçš„å…¨éƒ¨åˆå§‹åŒ–é€»è¾‘ï¼Œå¹¶å°†å…¶åŠ å…¥_sï¼Œä¸‹æ¬¡ä½¿ç”¨è¯¥storeåˆ™ç›´æ¥å–å€¼ï¼Œæœ€åè¿”å›å½“å‰storeã€‚å…¨éƒ¨é€»è¾‘ç»“æŸã€‚ 12345678910111213141516171819202122232425262728293031323334/** * å¤„ç†actionä»¥åŠé…å¥—APIå°†å…¶åŠ å…¥store * @param $id * @param setup * @param pinia */function createSetupStore($id: string, setup: any, pinia: any) &#123; // æ‰€æœ‰piniaçš„methods let partialStore = &#123; _p: pinia, $id, $reset: () =&gt; console.log(&quot;reset&quot;), // è¯¥ç‰ˆæœ¬ä¸å®ç° $patch: () =&gt; console.log(&quot;patch&quot;), // è¯¥ç‰ˆæœ¬ä¸å®ç° $onAction: () =&gt; console.log(&quot;onAction&quot;), // è¯¥ç‰ˆæœ¬ä¸å®ç° $subscribe: () =&gt; console.log(&quot;subscribe&quot;), // è¯¥ç‰ˆæœ¬ä¸å®ç° $dispose: () =&gt; console.log(&quot;dispose&quot;), // è¯¥ç‰ˆæœ¬ä¸å®ç° &#125;; // å°†effectæ•°æ®å­˜æ”¾å¦‚pinia._eã€setupStore let scope!: EffectScope; const setupStore = pinia._e.run(() =&gt; &#123; scope = effectScope(); return scope.run(() =&gt; setup()); &#125;); // åˆå¹¶methodsä¸store const store: any = reactive( Object.assign(toRaw(&#123;&#125;), partialStore, setupStore) ); // å°†å…¶åŠ å…¥pinia pinia._s.set($id, store); return store;&#125; â€‹ æˆ‘ä»¬nimiç‰ˆpiniaçš„æ ¸å¿ƒå®ç°ä¾¿å®Œæˆäº†ï¼ŒçœŸå®çš„piniaæºç ä¸­å­˜åœ¨è®¸å¤šè¾¹é™…åˆ¤æ–­ï¼Œä¸ºäº†æ–¹ä¾¿é˜…è¯»ä½œè€…ä»…ä»…ä¿ç•™æ ¸å¿ƒé€»è¾‘ï¼Œå‰”é™¤tsï¼Œç®€åŒ–åˆ†å‰æµç¨‹ï¼Œæå¤§çš„é™ä½äº†äº†è§£piniaæ ¸å¿ƒå®ç°çš„é—¨æ§›ã€‚ å¢åŠ ä¸€äº›æ–¹æ³• $Action $subscribeå› ä¸ºæ¶‰åŠåˆ°è®¢é˜…å‘å¸ƒæ¨¡å—ï¼Œæ‰€ä»¥ä»£ç é‡æ¯”è¾ƒå¤§ï¼Œminiç‰ˆå°±å¿½ç•¥äº†ï¼Œå¯¹å…¶åŸç†æœ‰å…´è¶£çš„è¯·çœ‹piniaæºç åˆ†æã€4ã€‘- Pinia Methods $patch å°†çŠ¶æ€è¡¥ä¸åº”ç”¨äºå½“å‰çŠ¶æ€ 123456function $patch(partialStateOrMutator: any) &#123; // miniç‰ˆå®ç°ä»…æ”¯æŒä¼ å…¥function if (typeof partialStateOrMutator === &quot;function&quot;) &#123; partialStateOrMutator(pinia.state.value[$id]); &#125;&#125; $reset åˆå§‹åŒ–state 123456store.$reset = function $reset() &#123; const newState = state ? state() : &#123;&#125;; // é€šè¿‡é—­åŒ…è·å–æœ€åˆå®šä¹‰çš„state this.$patch(($state: any) =&gt; &#123; // å€Ÿç”¨$patchå®Œæˆstateæ•°æ®çš„æ›¿æ¢ Object.assign($state, newState); &#125;);&#125;; $dispose åœæ­¢storeçš„æ‰€æœ‰effectï¼Œå¹¶ä¸”åˆ é™¤å…¶æ³¨å†Œä¿¡æ¯ 1234function $dispose() &#123; scope.stop(); // effectä½œç”¨äºåœæ­¢ pinia._s.delete($id); // åˆ é™¤effectMapç»“æ„&#125; æµ‹è¯•ä½¿ç”¨æˆ‘ä»¬é¦–å…ˆå°†å®ç°çš„å‡½æ•°å¯¼å‡ºå‡ºå» src\\super-mini-pinia\\index.ts 1234import &#123; createPinia &#125; from &quot;./createPinia&quot;;import &#123; defineStore &#125; from &quot;./store&quot;;export &#123; createPinia as myCreatePinia, defineStore &#125;; åœ¨é¡¹ç›®ä¸­çš„main.tsè¿›è¡Œæ³¨å†Œ 123456import &#123; createApp &#125; from &quot;vue&quot;;import &#123; myCreatePinia &#125; from &quot;./super-mini-pinia/index&quot;;import App from &quot;./App-super-mini.vue&quot;;const app = createApp(App);app.use(myCreatePinia());app.mount(&quot;#app&quot;); åœ¨é¡µé¢å¢åŠ ä¸€äº›æµ‹è¯•ä»£ç  12345678910111213141516171819202122&lt;template&gt; &lt;div&gt; &lt;div&gt;state.num:&#123;&#123; useStore.num &#125;&#125;&lt;/div&gt; &lt;div&gt;getters.dnum:&#123;&#123; useStore.dnum &#125;&#125;&lt;/div&gt; &lt;button @click=&quot;addNum&quot;&gt;å¢åŠ &lt;/button&gt; &lt;/div&gt;&lt;/template&gt;&lt;script setup lang=&quot;ts&quot;&gt;import &#123; watchEffect &#125; from &quot;vue&quot;;import &#123; useCounterStore &#125; from &quot;./super-mini-store/counter&quot;;const useStore = useCounterStore();watchEffect(() =&gt; &#123; console.log(useStore.num);&#125;);function addNum() &#123; useStore.addNum();&#125;&lt;/script&gt; é¢„æœŸæ•ˆæœ actionæ­£å¸¸è§¦å‘ numä¸dnuméšç€actionçš„è§¦å‘æ›´æ–°UI miniç‰ˆpiniaæµ‹è¯• â€‹ åˆ°æ­¤ä¸ºæ­¢ï¼Œæˆ‘ä»¬ä¾¿å®Œæˆäº†miniç‰ˆpiniaçš„å¼€å‘ï¼Œä»£ç è™½å°‘ï¼Œä½†æ˜¯æ ¸å¿ƒé€»è¾‘äº”è„ä¿±å…¨ï¼Œçœ‹æ‡‚äº†miniç‰ˆpiniaä¾¿æ˜¯äº†è§£äº†piniaæœ€æ ¸å¿ƒçš„å®ç°é€»è¾‘ã€‚ â€‹ æˆ‘å·²å°†miniç‰ˆpiniaçš„å¼€æºåˆ°githubï¼Œå¦‚æœä½ å¯¹piniaæ ¸å¿ƒå®ç°æœ‰å…´è¶£ï¼Œæ¬¢è¿fockã€cloneï¼Œæœ‰ä»»ä½•é—®é¢˜è¯·è¯„è®ºåŒºç•™è¨€ã€‚ ç»“è¯­â€‹ åˆ°æ­¤ä¸ºæ­¢piniaæºç è§£è¯»ç³»åˆ—ä¾¿å…¨éƒ¨ç»“æŸäº†ï¼Œæ€»ä½“æ¥è¯´éš¾åº¦ä¸ç®—å¤ªå¤§ï¼Œä½œè€…å‰å‰ååèŠ±è´¹äº†åŠä¸ªæœˆæ—¶é—´ï¼Œä»é›¶å¼€å§‹æ­å»ºç¯å¢ƒï¼Œé€æ­¥æ·±å…¥é˜…è¯»ï¼Œè¯»æ‡‚piniaæºç çš„ä¹Ÿè®©ä½œè€…vue3 reactivityæ ¸å¿ƒå“åº”æœºåˆ¶ï¼Œé—­åŒ…ï¼Œè®¢é˜…å‘å¸ƒæœ‰äº†æ›´æ·±å…¥çš„ç†è§£ï¼Œå€¼å¾—é˜…è¯»ï¼›ä¹Ÿæ¬¢è¿å¤§å®¶ä¸€èµ·é˜…è¯»æºç ï¼Œäº¤æµè®¨è®º~","categories":[{"name":"JavaScript-2022","slug":"JavaScript-2022","permalink":"https://vkcyan.github.io/categories/JavaScript-2022/"}],"tags":[{"name":"Pinia","slug":"Pinia","permalink":"https://vkcyan.github.io/tags/Pinia/"}]},{"title":"piniaæºç åˆ†æã€3ã€‘- defineStore","slug":"piniaæºç è§£è¯»/piniaæºç åˆ†æã€3ã€‘- defineStore","date":"2022-07-17T16:00:00.000Z","updated":"2022-12-11T13:51:24.080Z","comments":true,"path":"2022/07/18/piniaæºç è§£è¯»/piniaæºç åˆ†æã€3ã€‘- defineStore/","link":"","permalink":"https://vkcyan.github.io/2022/07/18/pinia%E6%BA%90%E7%A0%81%E8%A7%A3%E8%AF%BB/pinia%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90%E3%80%903%E3%80%91-%20defineStore/","excerpt":"","text":"ä¸“æ å¯¼èˆªåˆ†æpiniaæºç ä¹‹å‰å¿…é¡»çŸ¥é“çš„API Piniaæºç åˆ†æã€1ã€‘- æºç åˆ†æç¯å¢ƒæ­å»º Piniaæºç åˆ†æã€2ã€‘- createPinia piniaæºç åˆ†æã€3ã€‘- defineStore piniaæºç åˆ†æã€4ã€‘- Pinia Methods å‰è¨€æœ¬ç³»åˆ—æ–‡ç« å‚è€ƒæºç pinia V2.0.14 æºç åˆ†æè®°å½•ï¼šhttps://github.com/vkcyan/goto-pinia åœ¨ä¸Šä¸€èŠ‚ï¼Œæˆ‘ä»¬å®Œæˆäº†createPiniaç›¸å…³é€»è¾‘çš„æºç è§£è¯»ï¼Œäº†è§£äº†piniaæ³¨å†Œåˆ°vueçš„é˜¶æ®µå…·ä½“åšäº†å“ªäº›å·¥ä½œï¼Œä»¥åŠpiniaæ ¸å¿ƒå¯¹è±¡çš„ç”Ÿæˆé€»è¾‘ï¼Œæœ¬æ–‡æˆ‘ä»¬å°±è¦ä¸€èµ·è§£è¯»piniaä¸­æœ€é‡è¦çš„æ–¹æ³•defineStoreçš„å®ç°åŸç† å…³äºstoreçš„åˆå§‹åŒ–ä¸‰ç§åˆ›å»ºæ–¹æ³• æºç ä¸­å¯¹defineStoreçš„ä¸‰ç§ç±»å‹æè¿°ä¾¿è§£é‡Šäº†ä¸ºä½•æˆ‘ä»¬å¯ä»¥ç”¨ä»¥ä¸Šä¸‰ç§æ–¹å¼åˆ›å»ºã€‚ åœ¨defineStoreå£°æ˜ä¸­ï¼Œæˆ‘ä»¬éœ€è¦ä¼ å…¥ä¸‰ç§çš„å‚æ•°ã€‚ idï¼šå®šä¹‰storeçš„å”¯ä¸€idï¼Œå•ç‹¬ä¼ å‚æˆ–è€…é€šè¿‡options.idè¿›è¡Œä¼ å‚ optionsï¼šå…·ä½“é…ç½®ä¿¡æ¯åŒ…å«å¦‚æœä¼ å‚æ˜¯å¯¹è±¡ï¼Œåˆ™å¯ä»¥ä¼ ï¼Œstateï¼Œgettersï¼Œactionï¼Œidï¼Œä¾‹å¦‚ä¸Šå›¾1 2 ç§å£°æ˜æ–¹å¼ï¼›å¦‚æœä¼ å‚æ˜¯Functionï¼Œåˆ™è‡ªä¸»å£°æ˜å˜é‡æ–¹æ³•ï¼Œä¾‹å¦‚ä¸Šå›¾ç¬¬ä¸‰ç§å£°æ˜æ–¹å¼ storeSetupï¼šä»…é™ç¬¬ä¸‰ç§storeçš„å£°æ˜æ–¹å¼ï¼Œä¼ å…¥å‡½æ•° defineStoreæ‰§è¡Œé€»è¾‘1234567891011121314151617181920212223242526export function defineStore( // TODO: add proper types from above idOrOptions: any, setup?: any, setupOptions?: any): StoreDefinition &#123; let id: string; let options: // .... // å¯¹ä¸‰ç§storeåˆ›å»ºå½¢å¼è¿›è¡Œå…¼å®¹ã€‚ const isSetupStore = typeof setup === &quot;function&quot;; if (typeof idOrOptions === &quot;string&quot;) &#123; id = idOrOptions; options = isSetupStore ? setupOptions : setup; &#125; else &#123; options = idOrOptions; id = idOrOptions.id; &#125; function useStore(pinia?: Pinia | null, hot?: StoreGeneric): StoreGeneric &#123; //.....ä¸‹é¢å•ç‹¬åˆ†æ &#125; useStore.$id = id; // å°†useStoreæ‰§è¡Œç»“æœè¿”å›ï¼Œåœ¨è¯¥storeåœ¨ä½¿ç”¨ä¹‹å‰è¢«è¿”å›å‡½æ•°ä¸ä¼šæ‰§è¡Œã€‚ // æ‰€ä»¥defineStoreæ—©äºåœ¨Vueç§æ³¨å†Œpiniaä¹Ÿä¸ä¼šå‡ºç°é”™è¯¯ã€‚ return useStore;&#125; â€‹ é€šè¿‡å¯¹defineStoreçš„æºç å¤§è‡´åˆ†æå¯ä»¥å¾—çŸ¥ï¼Œåªæœ‰åœ¨storeè¢«æ‰§è¡Œçš„æ—¶å€™æ‰ä¼šè¿è¡Œè¢«è¿”å›çš„å‡½æ•°useStoreï¼ŒuseStoreæ‰æ˜¯æ ¸å¿ƒstoreçš„åˆ›å»ºé€»è¾‘ï¼Œæˆ‘ä»¬æ¥ä¸‹ä¾¿è¦é‡ç‚¹åˆ†æå…¶å®ç°åŸç†ã€‚ useStoreé€»è¾‘åˆ†æuseStoreä¹‹å‰çš„é€»è¾‘æ‰§è¡Œé¡ºåºæˆ‘ä»¬åœ¨App.vueä¸­ä½¿ç”¨æˆ‘ä»¬åˆ›å»ºçš„store 123&lt;script setup lang=&quot;ts&quot;&gt; const useCounter1 = useCounterStore1();&lt;/script&gt; åœ¨main createPinia defineStore useStoreåˆå§‹åŒ–å¤„å¢åŠ æ—¥å¿— defineStoreåˆå§‹åŒ– main.ts -&gt; createPinia -&gt; vue.use -&gt; installï¼ˆæ³¨å†Œé€»è¾‘ï¼‰ æ‰§è¡ŒuseStoreï¼ˆé¡µé¢é€»è¾‘ï¼‰ ä»£ç æ‰§è¡Œä¸æˆ‘ä»¬æƒ³è±¡çš„ä¸€è‡´ï¼ŒdefineStoreæ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œä¼šåœ¨å¼•ç”¨é˜¶æ®µæ‰§è¡Œï¼Œå¹¶è¿”å›æœªæ‰§è¡Œå‡½æ•°useStoreï¼Œä¹‹åä¾¿æ˜¯ä¸€è¿ä¸²çš„åˆå§‹åŒ–ï¼Œæœ€åæ˜¯é¡µé¢ä¸­ä½¿ç”¨piniaè€Œè¿è¡Œçš„useStoreã€‚ useStoreå‡†å¤‡å·¥ä½œ 12345678910111213141516171819202122// useStoreæ¥å—ä¸¤ä¸ªå‚æ•°ï¼Œä¸€ä¸ªæ˜¯piniaçš„å®ä¾‹ï¼Œå¦ä¸€ä¸ªä¸çƒ­æ›´æ–°ç›¸å…³ã€‚function useStore(pinia?: Pinia | null, hot?: StoreGeneric): StoreGeneric &#123; // é¦–å…ˆä¼šé€šè¿‡getCurrentInstanceè·å–å½“å‰ç»„ä»¶å®ä¾‹ï¼Œå¹¶å¤„ç†å‚æ•°piniaï¼Œç»„ä»¶å®ä¾‹å¯ä»¥è¢«æ­£å¸¸è·å–ï¼Œæ¥ä¸‹æ¥é€šè¿‡inject(piniaSymbol)è·å–piniaå®ä¾‹ï¼ˆåœ¨installé˜¶æ®µä¿å­˜ï¼‰ã€‚ const currentInstance = getCurrentInstance(); pinia = (__TEST__ &amp;&amp; activePinia &amp;&amp; activePinia._testing ? null : pinia) || (currentInstance &amp;&amp; inject(piniaSymbol)); // è®¾ç½®å½“å‰æ´»è·ƒçš„piniaï¼Œå¦‚æœå­˜åœ¨å¤šä¸ªpiniaå®ä¾‹ï¼Œæ–¹ä¾¿åç»­é€»è¾‘è·å–å½“å‰piniaå®ä¾‹ if (pinia) setActivePinia(pinia); // åœ¨devç¯å¢ƒå¹¶ä¸”å…¨å±€å˜é‡activePiniaè·å–ä¸åˆ°å½“å‰piniaå®ä¾‹ï¼Œåˆ™è¯´æ˜æœªå…¨å±€æ³¨å†Œï¼ŒæŠ›å‡ºé”™è¯¯ if (__DEV__ &amp;&amp; !activePinia) &#123; throw new Error( `[ğŸ]: getActivePinia was called with no active Pinia. Did you forget to install pinia?\\n` + `\\tconst pinia = createPinia()\\n` + `\\tapp.use(pinia)\\n` + `This will fail in production.` ); &#125; // è·å–æœ€æ–°piniaï¼Œå¹¶æ–­è¨€piniaä¸€å®šå­˜åœ¨ï¼ˆçŒœæµ‹è¿™é‡Œä¸»è¦ä¸ºäº†æ–­è¨€ï¼Œæ­¤æ—¶ä¸¤ä¸ªå˜é‡å°±æ˜¯ä¸€ä¸ªå€¼ï¼‰ pinia = activePinia!; // ....&#125; æ ¸å¿ƒstoreåˆ›å»º â€‹ å½“æˆ‘ä»¬ç¬¬ä¸€æ¬¡è¿è¡Œstoreçš„æ—¶å€™ï¼Œæ‰ä¼šè¿›è¡Œç›¸å…³é€»è¾‘çš„æ‰§è¡Œï¼Œé€šè¿‡å•ä¾‹æ¨¡å¼åˆ›å»ºï¼Œæœªæ¥å†æ¬¡ä½¿ç”¨è¯¥storeå°†ä¼šç›´æ¥ä»pinia._sä¸­è·å–å·²ç»è¢«å¤„ç†è¿‡çš„storeå¹¶è¿”å›ã€‚ 12345678910111213141516function useStore(pinia?: Pinia | null, hot?: StoreGeneric): StoreGeneric &#123; // ..... // å¦‚æœæ˜¯ç¬¬ä¸€æ¬¡ä½¿ç”¨åˆ›å»ºstoreé€»è¾‘ï¼Œåé¢åˆ™è·³è¿‡ if (!pinia._s.has(id)) &#123; // å¦‚æœdefineStoreçš„æ—¶å€™ç¬¬äºŒä¸ªå‚æ•°æ˜¯å‡½æ•°åˆ™ä¸ºtrueï¼Œå¦åˆ™ä¸ºfalse if (isSetupStore) &#123; createSetupStore(id, setup, options, pinia); &#125; else &#123; createOptionsStore(id, options as any, pinia); &#125; &#125; // ä»_sä¸­è·å–å½“å‰idå¯¹åº”çš„storeä¿¡æ¯ const store: StoreGeneric = pinia._s.get(id)!; // è¿™é‡Œè¿”å›çš„å€¼å®é™…ä¸Šå°±æ˜¯æˆ‘ä»¬å®é™…è·å–åˆ°å€¼ return store as any;&#125; useStoreçš„å¤§è‡´é€»è¾‘æ¯”è¾ƒç®€å•ï¼Œæˆ‘ä»¬å‡è®¾ç¬¬ä¸€æ¬¡ä½¿ç”¨ï¼Œå¹¶ä¸”é€šè¿‡éFunctionè¿›è¡Œä¼ å‚ï¼Œè¿›å…¥createOptionsStoreå‡½æ•°ã€‚ createOptionsStoredefineStoreçš„ç¬¬äºŒä¸ªå‚æ•°ä½¿ç”¨éFunctionè¿›è¡Œå£°æ˜å°†ä¼šèµ°å…¥è¯¥é€»è¾‘ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586function createOptionsStore&lt; Id extends string, S extends StateTree, G extends _GettersTree&lt;S&gt;, A extends _ActionsTree&gt;( id: Id, // storeid options: DefineStoreOptions&lt;Id, S, G, A&gt;, // state action getters pinia: Pinia, // å½“å‰storeå®ä¾‹ hot?: boolean): Store&lt;Id, S, G, A&gt; &#123; const &#123; state, actions, getters &#125; = options; // è·å–stateä¸­æ˜¯å¦å·²ç»å­˜åœ¨è¯¥storeå®ä¾‹ const initialState: StateTree | undefined = pinia.state.value[id]; console.log(&quot;initialState&quot;, initialState); let store: Store&lt;Id, S, G, A&gt;; function setup() &#123; if (!initialState &amp;&amp; (!__DEV__ || !hot)) &#123; if (isVue2) &#123; set(pinia.state.value, id, state ? state() : &#123;&#125;); &#125; else &#123; // å°†æ•°æ®å­˜å‚¨åˆ°stateä¸­ï¼Œå› ä¸ºstateæ—¶é€šè¿‡refè¿›è¡Œåˆ›å»º pinia.state.value[id] = state ? state() : &#123;&#125;; &#125; &#125; // é¿å…åœ¨ pinia.state.value ä¸­åˆ›å»ºçŠ¶æ€ console.log(11, pinia.state.value[id]); console.log(22, toRefs(pinia.state.value[id])); const localState = __DEV__ &amp;&amp; hot ? // ä½¿ç”¨ ref() æ¥è§£å¼€çŠ¶æ€ TODO ä¸­çš„ refsï¼šæ£€æŸ¥è¿™æ˜¯å¦ä»ç„¶æ˜¯å¿…è¦çš„ toRefs(ref(state ? state() : &#123;&#125;).value) : toRefs(pinia.state.value[id]); // ç»è¿‡toRefsçš„å¤„ç†åï¼ŒlocalState.xx.value å°±ç­‰åŒäºç»™stateä¸­çš„xxèµ‹å€¼ let aa = assign( localState, // state =&gt; Refs(state) actions, // Object.keys(getters || &#123;&#125;).reduce((computedGetters, name) =&gt; &#123; if (__DEV__ &amp;&amp; name in localState) &#123; // å¦‚æœgettersåç§°ä¸stateä¸­çš„åç§°ç›¸åŒï¼Œåˆ™æŠ›å‡ºé”™è¯¯ console.warn( `[ğŸ]: A getter cannot have the same name as another state property. Rename one of them. Found with &quot;$&#123;name&#125;&quot; in store &quot;$&#123;id&#125;&quot;.` ); &#125; // markRow é˜²æ­¢å¯¹è±¡è¢«é‡å¤ä»£ç† computedGetters[name] = markRaw( // ä½¿ç”¨è®¡ç®—å±æ€§å¤„ç†gettersçš„è·ç¦»é€»è¾‘ï¼Œå¹¶ä¸”é€šè¿‡callå¤„ç†thisæŒ‡å‘é—®é¢˜ computed(() =&gt; &#123; setActivePinia(pinia); // å®ƒæ˜¯åœ¨ä¹‹å‰åˆ›å»ºçš„ const store = pinia._s.get(id)!; // allow cross using stores /* istanbul ignore next */ if (isVue2 &amp;&amp; !store._r) return; // @ts-expect-error // return getters![name].call(context, context) // TODO: avoid reading the getter while assigning with a global variable // å°†storeçš„thisæŒ‡å‘gettersä¸­å®ç°gettersä¸­thisçš„æ­£å¸¸ä½¿ç”¨ return getters![name].call(store, store); &#125;) ); return computedGetters; &#125;, &#123;&#125; as Record&lt;string, ComputedRef&gt;) ); console.log(&quot;aa&quot;, aa); return aa; &#125; // ä½¿ç”¨createSetupStoreåˆ›å»ºstore store = createSetupStore(id, setup, options, pinia, hot, true); // é‡å†™$storeæ–¹æ³• store.$reset = function $reset() &#123; const newState = state ? state() : &#123;&#125;; // æˆ‘ä»¬ä½¿ç”¨è¡¥ä¸å°†æ‰€æœ‰æ›´æ”¹åˆ†ç»„åˆ°ä¸€ä¸ªè®¢é˜…ä¸­ this.$patch(($state) =&gt; &#123; assign($state, newState); &#125;); &#125;; return store as any;&#125; â€‹ createOptionsStoreå‡½æ•°åœ¨è·å–defineStoreå£°æ˜çš„æ•°æ®åï¼Œåœ¨å…¶å†…éƒ¨æ„å»ºäº†setupå‡½æ•°ï¼Œè¯¥å‡½æ•°å°†optionå½¢å¼çš„stateä¸gettersåˆ†åˆ«è½¬åŒ–ä¸ºrefä¸computedï¼Œè¿™æ ·å°±ä¸setupå½¢å¼å£°æ˜çš„storeä¿æŒä¸€è‡´ã€‚ â€‹ è¿™ä¸€å—ä»£ç éå¸¸æ ¸å¿ƒï¼Œåˆæ­¥è§£é‡Šäº†ä¸ºä½•stateå…·å¤‡å“åº”å¼ï¼Œä¸ºä½•getterså…·å¤‡computedçš„æ•ˆæœ â€‹ æœ€åä¸è®ºæ˜¯optionæ–¹å¼åˆ›å»ºè¿˜æ˜¯setupçš„å½¢å¼åˆ›å»ºï¼Œæœ€åéƒ½ç»Ÿä¸€é€šè¿‡createSetupStoreå®Œæˆå¯¹storeæœ€åçš„å¤„ç† createSetupStore æ— è®ºæ˜¯ä½•ç§defineStoreåˆ›å»ºæ–¹å¼ï¼Œæœ€ç»ˆéƒ½ä¼šèµ°å‘createSetupStoreï¼Œåœ¨è¿™é‡Œè¿›è¡Œæœ€ç»ˆstoreçš„ç”Ÿæˆä»¥åŠç›¸å…³methodsçš„å®ç°ã€‚ æ³¨ï¼šè¿™ä¸€å—ä»£ç å®åœ¨æ˜¯å¤æ‚ï¼Œå…³äº$reset $patchç­‰APIï¼Œæˆ‘ä»¬æ”¾ä¸‹ä¸€ä¸ªç³»åˆ—æ–‡ç«  â€‹ ç»è¿‡createOptionsStoreçš„å¤„ç†ï¼Œå·²ç»å°†optionå½¢å¼çš„å­—æ®µå…¨éƒ¨è½¬åŒ–ä¸ºsetupå½¢å¼è¿›è¡Œè¿”å›ï¼Œç°åœ¨æ— è®ºä½•ç§åˆ›å»ºæ–¹å¼ï¼Œæ‰§è¡Œæ­¤å¤„çš„setupå‡½æ•°ï¼Œéƒ½ä¼šå¾—åˆ°åŒä¸€ä¸ªç»“æœã€‚ ä»¥ä¸Šä¸‰ç§åˆ›å»ºæ–¹å¼ï¼Œå†…éƒ¨è¿è¡Œsetupå‡½æ•°éƒ½ä¼šå¾—åˆ°å¦‚ä¸‹ç»“æœ æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°±éœ€è¦å¯¹å…¶æ•°æ®è¿›è¡Œå¤„ç†ï¼Œè·å–åˆ°æ‰€æœ‰å˜é‡ä¸æ–¹æ³•ï¼Œå¹¶å¯¹actioné€šè¿‡wrapActionè¿›è¡Œå¤„ç†ï¼Œä¾¿äºå®ç°åç»­çš„è®¢é˜…å‘å¸ƒæ¨¡å¼ methods$Action 12345678910111213141516171819202122232425262728293031const setupStore = pinia._e.run(() =&gt; &#123; scope = effectScope(); return scope.run(() =&gt; setup());&#125;)!;for (const key in setupStore) &#123; const prop = setupStore[key]; if ((isRef(prop) &amp;&amp; !isComputed(prop)) || isReactive(prop)) &#123; // å¦‚æœå½“å‰propsæ˜¯refå¹¶ä¸”ä¸æ˜¯è®¡ç®—å±æ€§ä¸reative if (!isOptionsStore) &#123; // optionç»“æ„å·²ç»åœ¨createOptionsStoreå°†å…¶åŠ å…¥pinia if (isVue2) &#123; set(pinia.state.value[$id], key, prop); &#125; else &#123; pinia.state.value[$id][key] = prop; &#125; &#125; &#125; else if (typeof prop === &quot;function&quot;) &#123; // å¦‚æœå½“å‰å‡½æ•°æ˜¯fun // wrapAction ä¼šå°†å½“å‰propä¹Ÿå°±æ˜¯å‡½æ•°å¢åŠ è°ƒç”¨é”™è¯¯ä¸æ­£å¸¸çš„å›è°ƒå‡½æ•° const actionValue = __DEV__ &amp;&amp; hot ? prop : wrapAction(key, prop); if (isVue2) &#123; set(setupStore, key, actionValue); &#125; else &#123; setupStore[key] = actionValue; &#125; // å°†å…¶å‡½æ•°åŒæ­¥åˆ°optionsForPluginä¸­ optionsForPlugin.actions[key] = prop; &#125;&#125; â€‹ ç»è¿‡ä»¥ä¸Šé€»è¾‘å¤„ç†åï¼ŒsetupStoreæ–¹å¼è¿›è¡Œåˆ›å»ºçš„storeä¹Ÿä¼šè¢«æ·»åŠ åˆ°pinia.stateä¸­ï¼Œè€Œæ‰€æœ‰çš„functionéƒ½ä¼šè¢«wrapActionè¿›è¡ŒåŒ…è£…å¤„ç†ã€‚ â€‹ å¯¹stateï¼Œactionè¿›è¡Œå¤„ç†çš„åŒæ—¶ï¼Œè¿˜éœ€è¦å¯¹å½“å‰storeå¯è°ƒç”¨APIè¿›è¡Œå¤„ç†ï¼Œä¾‹å¦‚$resetï¼Œ$patch 1234567891011121314151617181920212223242526const partialStore = &#123; _p:pinia, $id, $Action, $patch, $reset, $subscribe, $dispose&#125;const store: Store&lt;Id, S, G, A&gt; = reactive( assign( __DEV__ &amp;&amp; IS_CLIENT ? // devtools custom properties &#123; _customProperties: markRaw(new Set&lt;string&gt;()), _hmrPayload, &#125; : &#123;&#125;, partialStore // must be added later // setupStore )) as unknown as Store&lt;Id, S, G, A&gt;;// ...å°†å˜é‡ æ–¹æ³•åˆå¹¶åˆ°storeä¸­assign(toRaw(store), setupStore); â€‹ æœ€ç»ˆå°†ç›¸å…³methodsä¸storeå†…çš„æ•°æ®è¿›è¡Œåˆå¹¶ï¼Œå­˜å‚¨ä»¥å½“å‰storeçš„idä¸ºkeyçš„Mapä¸­ï¼ŒcreateSetupStoreçš„æ ¸å¿ƒé€»è¾‘ä¾¿å…¨éƒ¨ç»“æŸäº†ã€‚ useStoreåç»­é€»è¾‘æˆ‘ä»¬å†å›åˆ°defineStoreçš„é€»è¾‘ä¸­ï¼Œè·å–åˆ°createSetupStoreæœ€åæ”¾å…¥pinia._sä¸­çš„å½“å‰storeè¢«å¤„ç†åçš„å¯¹è±¡ã€‚ 12345// ....// ä»_sä¸­è·å–å½“å‰storeçš„effectæ•°æ®const store: StoreGeneric = pinia._s.get(id)!;// StoreGeneric cannot be casted towards Storereturn store as any; â€‹ æœ€åå°†é€šè¿‡createSetupStoreå¤„ç†åçš„æ•°æ®è¿›è¡Œè¿”å›ï¼Œæˆ‘ä»¬ä¾¿å¾—åˆ°äº†ä½¿ç”¨å½“å‰storeä¸­å˜é‡ä¸æ–¹æ³•ä»¥åŠå„ç§æ–¹æ³•çš„èƒ½åŠ›ã€‚ æ‹“å±•ï¼šä¸ºä»€ä¹ˆè®¿é—®defineStoreåˆ›å»ºçš„stateä¸éœ€è¦.valueâ€‹ é€šè¿‡ä»¥ä¸Šæºç åˆ†æå¯ä»¥å¾—çŸ¥ï¼Œstateçš„æ•°æ®éƒ½ä¼šè¢«å¤„ç†ä¸ºrefï¼Œé‚£è®¿é—®refè‡ªç„¶æ˜¯éœ€è¦.valueï¼Œä½†æ˜¯æˆ‘ä»¬æ—¥å¸¸ä½¿ç”¨piniaä¼¼ä¹ä»æ¥æ²¡æœ‰.valueã€‚ æˆ‘ä»¬å…ˆçœ‹ä¸€ä¸ªå°ä¾‹å­ 1234567let name = ref(&quot;å¼ ä¸‰&quot;);let age = ref(&quot;24&quot;);const info = reactive(&#123; name, age &#125;);console.log(info.name); // å¼ ä¸‰console.log(info.age); // 24 â€‹ ç®€å•æ¥è¯´å°±æ˜¯reactiveä¸­åµŒå¥—refçš„æ—¶å€™ï¼Œä¿®æ”¹reactiveå†…çš„å€¼ä¸éœ€è¦.value â€‹ åœ¨å®˜æ–¹æ–‡æ¡£ï¼ˆhttps://vuejs.org/api/reactivity-core.html#reactiveï¼‰ä¸­ï¼Œæˆ‘ä»¬ä¹Ÿèƒ½æ‰¾åˆ°ç›¸å…³è¯´æ˜ æ³¨æ„ï¼šreactiveåµŒå¥—refçš„åœºæ™¯ä¸‹ï¼Œå¯¹è±¡ä¸æ•°ç»„æ ¼å¼å­˜åœ¨å·®å¼‚ï¼Œæœ‰å…´è¶£å¯ä»¥äº†è§£ä¸€ä¸‹ æ ¹æ®æ–‡æ¡£æˆ‘ä»¬ç®€å•çš„ç¿»é˜…äº†ä¸€ä¸‹vuejs&#x2F;core&#x2F;â€¦&#x2F;baseHandlers.tsçš„æºç  æºç åœ°å€ï¼šhttps://github.com/vuejs/core/blob/main/packages/reactivity/src/baseHandlers.ts line 131 - 134 createGetter() line 131 - 134 createSetter() å¯ä»¥å‘ç°ï¼Œé€»è¾‘å®ç°ä¸æ–‡æ¡£æè¿°ç›¸ç¬¦ã€‚ æœ€åå†çœ‹ä¸€ä¸‹æˆ‘ä»¬çš„piniaæºç ä¸­createSetupStoreå‡½æ•°ä¸­storeå£°æ˜çš„é‚£ä¸€æ®µå‡½æ•°ï¼Œè¿™ä¾¿è§£é‡Šäº†ä¸ºä»€ä¹ˆåœ¨ä½¿ç”¨piniaä¿®æ”¹å€¼ã€è¯»å–å€¼çš„æ—¶å€™éƒ½ä¸éœ€è¦è¿›è¡Œ.valueäº†ã€‚ 12345678910111213const store: Store&lt;Id, S, G, A&gt; = reactive( assign( // ... partialStore ) ) as unknown as Store&lt;Id, S, G, A&gt;;// .....if (isVue2) &#123; // ...&#125; else &#123; assign(toRaw(store), setupStore); // å°†defineStoreçš„æ•°æ®åˆå¹¶åˆ°reactiveå£°æ˜çš„storeä¸­&#125; ç»“è¯­â€‹ è™½ç„¶ä»£ç é‡æ¯”è¾ƒå¤§ï¼Œä½†æ˜¯æ ¸å¿ƒé€»è¾‘å°±æ˜¯å°†stateå¤„ç†ä¸ºrefï¼Œå°†getterså¤„ç†ä¸ºcomputedï¼Œå°†actionè¿›è¡ŒäºŒæ¬¡å°è£…ï¼Œæä¾›è‹¥å¹²æ–¹æ³•ï¼Œæœ€åç»„åˆå¯¹è±¡å­˜å‚¨åˆ°Piniaä¸­ã€‚ â€‹ åœ¨è¿™ä¸€ç« æˆ‘ä»¬å®Œæˆäº†æœ€æ ¸å¿ƒstoreåˆ›å»ºæµç¨‹çš„æºç åˆ†æï¼Œä½†æ˜¯é€šè¿‡partialStoreå¢åŠ çš„æ–¹æ³•æˆ‘ä»¬è¿˜æ²¡æœ‰ä¸€ä¸€äº†è§£ã€‚ä¸‹ä¸€ç¯‡æˆ‘ä»¬å°†ä¼šé‡ç‚¹ä»‹ç»storeç›¸å…³Methodsçš„å…·ä½“å®ç°ã€‚","categories":[{"name":"JavaScript-2022","slug":"JavaScript-2022","permalink":"https://vkcyan.github.io/categories/JavaScript-2022/"}],"tags":[{"name":"Pinia","slug":"Pinia","permalink":"https://vkcyan.github.io/tags/Pinia/"}]},{"title":"piniaæºç åˆ†æã€4ã€‘- Pinia Methods","slug":"piniaæºç è§£è¯»/piniaæºç åˆ†æã€4ã€‘- Pinia Methods","date":"2022-07-17T16:00:00.000Z","updated":"2022-12-11T13:51:24.081Z","comments":true,"path":"2022/07/18/piniaæºç è§£è¯»/piniaæºç åˆ†æã€4ã€‘- Pinia Methods/","link":"","permalink":"https://vkcyan.github.io/2022/07/18/pinia%E6%BA%90%E7%A0%81%E8%A7%A3%E8%AF%BB/pinia%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90%E3%80%904%E3%80%91-%20Pinia%20Methods/","excerpt":"","text":"ä¸“æ å¯¼èˆªåˆ†æpiniaæºç ä¹‹å‰å¿…é¡»çŸ¥é“çš„API Piniaæºç åˆ†æã€1ã€‘- æºç åˆ†æç¯å¢ƒæ­å»º Piniaæºç åˆ†æã€2ã€‘- createPinia piniaæºç åˆ†æã€3ã€‘- defineStore piniaæºç åˆ†æã€4ã€‘- Pinia Methods å‰è¨€æœ¬ç³»åˆ—æ–‡ç« å‚è€ƒæºç pinia V2.0.14 æºç åˆ†æä»“åº“ï¼šhttps://github.com/vkcyan/goto-pinia â€‹ ä¸Šä¸€ç« æˆ‘ä»¬å¯¹storeçš„æ ¸å¿ƒæµç¨‹å®Œæˆäº†åˆ†æï¼Œä»è€Œäº†è§£äº†ä¸€ä¸ªstoreä»å®šä¹‰åˆ°è¢«ä½¿ç”¨çš„å®ç°é€»è¾‘ï¼Œä½†æ˜¯storeç›¸å…³çš„æ–¹æ³•ï¼Œæˆ‘ä»¬è¿˜æœªè¿›è¡Œåˆ†æï¼Œæœ¬ç« æˆ‘ä»¬å°±é‡ç‚¹åˆ†æåˆ†æstoreè‡ªå¸¦çš„Methods $onActionä½¿ç”¨ç¤ºä¾‹è®¢é˜…å½“å‰storeæ‰€æœ‰actionæ“ä½œï¼Œæ¯å½“actionè¢«æ‰§è¡Œçš„æ—¶å€™ï¼Œä¾¿ä¼šè§¦å‘è¯¥æ–¹æ³• 12345678910onMounted(() =&gt; &#123; useCounter1.$onAction((option) =&gt; &#123; let &#123; after, onError, args, name, store &#125; = option; &#125;); setInterval(() =&gt; &#123; useCounter1.counter++; // useCounter1.increment(); &#125;, 1000);&#125;); æºç åˆ†æè®¢é˜…åœ¨$Actionå£°æ˜çš„åœ°æ–¹ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ä¸€æ®µè¿™æ ·çš„å‡½æ•° ç¬¬ä¸€ä¸ªå‚æ•°ä¼ nullï¼Œåˆ™ä¸æ”¹å˜thisæŒ‡å‘ï¼Œå¹¶ä¸”åœ¨åç»­çš„è°ƒç”¨ä¾æ—§æ˜¯è¯¥thisã€‚ 123const partialStore = &#123; $onAction: addSubscription.bind(null, actionSubscriptions), // actionäº‹ä»¶æ³¨å†Œå‡½æ•°&#125; â€‹ ä¹Ÿå°±æ˜¯è¯´ï¼Œå½“æˆ‘ä»¬ä½¿ç”¨store.$Actionçš„æ—¶å€™å®é™…ä¸Šè§¦å‘çš„æ˜¯addSubscriptionå‡½æ•°ï¼Œå¹¶å°†æˆ‘ä»¬$Actionä¸­çš„å›è°ƒå‡½æ•°ä¼ å…¥createSetupStoreä¸­çš„actionSubscriptionsä¸­ï¼Œä¹Ÿå°±æ˜¯è®¢é˜…äº†æˆ‘ä»¬çš„callback â€‹ è¿è¡Œstore.$Actionåå¾—åˆ°äº†addSubscriptionæ–¹æ³•çš„è¿”å›å€¼removeSubscriptionæ–¹æ³•ï¼Œè®©æˆ‘ä»¬å¯ä»¥æ‰§è¡Œå…¶è¿”å›å€¼ï¼Œè¾¾åˆ°å–æ¶ˆè®¢é˜…çš„ç›®çš„ã€‚ 1234567891011121314151617181920212223export function addSubscription&lt;T extends _Method&gt;( subscriptions: T[], // createSetupStoreä¸­çš„actionSubscriptions callback: T, // æˆ‘ä»¬ä¼ å…¥çš„callback detached?: boolean, // å¦‚æœä¸ºtrueï¼Œåˆ™è¯¥$Actionåœ¨é¡µé¢é”€æ¯ä¹‹åä¾æ—§æœ‰æ•ˆ onCleanup: () =&gt; void = noop) &#123; // ä½¿ç”¨$Actionçš„æ—¶å€™å°±ä¼šè§¦å‘æœ¬å‡½æ•° subscriptions.push(callback) const removeSubscription = () =&gt; &#123; const idx = subscriptions.indexOf(callback) if (idx &gt; -1) &#123; subscriptions.splice(idx, 1) onCleanup() &#125; &#125; if (!detached &amp;&amp; getCurrentInstance()) &#123; // å¦‚æœdetachedå‚æ•°ä¸å­˜åœ¨ï¼Œåˆ™åœ¨å½“å‰é¡µé¢å¸è½½çš„æ—¶å€™ï¼Œå»é™¤è¯¥è®¢é˜…äº‹ä»¶ onUnmounted(removeSubscription) &#125; return removeSubscription&#125; è§¦å‘è®¢é˜…â€‹ åœ¨useStoreä¸­å¯¹actionè¿›è¡Œå¤„ç†çš„é€»è¾‘ä¸­ï¼Œå­˜åœ¨è¿™æ ·çš„ä¸€æ®µä»£ç ï¼Œè¿™æ®µä»£ç ä¸­çš„hotåœ¨æ­£å¸¸ä½¿ç”¨çš„ä¸šåŠ¡åœºæ™¯ä¸‹éƒ½æ˜¯undefinedï¼Œæ‰€ä»¥ä¼šèµ°åé¢çš„é€»è¾‘ã€‚ 1const actionValue = wrapAction(key, prop) // hotä¸ºundefinedçš„æƒ…å†µä¸‹ â€‹ æ‰€æœ‰çš„actionåœ¨åˆå§‹åŒ–é˜¶æ®µéƒ½ä¼šè¢«wrapActionæ–¹æ³•æ‹¦æˆªï¼Œä¹Ÿå°±ä»£è¡¨æˆ‘ä»¬æ‰§è¡Œactionçš„æ—¶å€™ï¼Œå®é™…ä¸Šæ‰§è¡Œçš„æ˜¯wrapActionå‡½æ•°ï¼Œé‚£å°±è®©æˆ‘ä»¬å°±çœ‹çœ‹ï¼Œåœ¨wrapActionä¸­ç©¶ç«Ÿå‘ç”Ÿäº†ä»€ä¹ˆ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364/*** åŒ…è£…ä¸€ä¸ªactionæ¥å¤„ç†è®¢é˜…** @param name - storeçš„åç§°* @param action - éœ€è¦è¢«åŒ…è£…çš„action* @returns a wrapped action to handle subscriptions*/function wrapAction(name: string, action: _Method) &#123; return function (this: any) &#123; setActivePinia(pinia); // è·å–å½“å‰actionçš„å‚æ•° const args = Array.from(arguments); const afterCallbackList: Array&lt;(resolvedReturn: any) =&gt; any&gt; = []; const onErrorCallbackList: Array&lt;(error: unknown) =&gt; unknown&gt; = []; // å£°æ˜afteræ–¹æ³• function after(callback: _ArrayType&lt;typeof afterCallbackList&gt;) &#123; // å°†afterçš„callæ”¾å…¥listä¸­ afterCallbackList.push(callback); &#125; // å£°æ˜erroræ–¹æ³• function onError(callback: _ArrayType&lt;typeof onErrorCallbackList&gt;) &#123; onErrorCallbackList.push(callback); &#125; // @ts-expect-error // è§¦å‘actionSubscriptionsä¸­è®¢é˜…çš„store.$Actionçš„å…¨éƒ¨å›è°ƒå‡½æ•°,å¹¶å°†å‚æ•°ä¼ å…¥ // æ­¤æ—¶store.$Actionçš„callbackå·²ç»æ‰§è¡Œ,ä½†æ˜¯after onErrorçš„å›è°ƒå‡½æ•°å°šæœªæ‰§è¡Œ triggerSubscriptions(actionSubscriptions, &#123; args, name, store, after, onError, &#125;); let ret: any; // retä¸ºactionçš„è¿”å›å€¼ try &#123; ret = action.apply(this &amp;&amp; this.$id === $id ? this : store, args); // handle sync errors &#125; catch (error) &#123; // å¦‚æœactionæ‰§è¡Œå‡ºé”™,åˆ™ç›´æ¥æ‰§è¡Œé”™è¯¯å›è°ƒ,ç»ˆæ­¢å‡½æ•° triggerSubscriptions(onErrorCallbackList, error); throw error; &#125; // å¦‚æœretæ˜¯promise,åˆ™å½“å‰ç»“æœæœªçŸ¥ï¼Œä¼šé€šè¿‡ä¸Šæ–¹çš„try catchï¼Œä½†æ˜¯ä¼šåœ¨actionç»“å°¾å¢åŠ then catchè¿›è¡Œç»“æœæ•æ‰ if (ret instanceof Promise) &#123; return ret .then((value) =&gt; &#123; triggerSubscriptions(afterCallbackList, value); return value; &#125;) .catch((error) =&gt; &#123; triggerSubscriptions(onErrorCallbackList, error); return Promise.reject(error); &#125;); &#125; // allow the afterCallback to override the return value // å¦‚æœtry catch é€šè¿‡ï¼Œå¹¶ä¸”å½“å‰actionä¸æ˜¯Promiseï¼Œåˆ™é€»è¾‘è¿›è¡Œåˆ°æ­¤å¤„ï¼Œè§¦å‘æ‰€æœ‰ è§¦å‘çœŸæ­£çš„afterå‡½æ•°ï¼Œå¹¶å°†å½“å‰actionçš„è¿”å›å€¼ä¼ å…¥å…¶ä¸­ï¼Œè‡³æ­¤å®Œæˆå¯¹actionè§¦å‘çš„ç›‘å¬ã€‚ triggerSubscriptions(afterCallbackList, ret); return ret; &#125;;&#125; â€‹ ä¹‹å‰åœ¨$Actionä¸­çš„å›è°ƒå‡½æ•°åœ¨æ­¤å¤„å‘æŒ¥äº†ä½œç”¨ï¼Œæ¯å½“ä¸€ä¸ªactionè§¦å‘çš„éƒ½ä¼šéå†ä¹‹å‰è®¢é˜…çš„æ‰€æœ‰$Actionçš„å›è°ƒå‡½æ•°ï¼Œå…¶å†…éƒ¨æ‰§è¡Œactionæ–¹æ³•ï¼Œactionæ‰§è¡Œæ­£å¸¸åœ¨è§¦å‘afterçš„callbackï¼Œæ‰§è¡Œå¼‚å¸¸åˆ™è§¦å‘onErrorçš„callbackã€‚ å°ç»“ æœ¬è´¨ä¸Šæ¥è¯´$Actionå°±æ˜¯ä¸€ä¸ªè®¢é˜…å‘å¸ƒæ¨¡å¼ã€‚ $Action è®¢é˜…è€… store.action å‘å¸ƒè€… actionSubscriptions - äº‹ä»¶æ³¨å†Œä¸­å¿ƒ triggerSubscriptions - è°ƒåº¦ä¸­å¿ƒ â€‹ é€šè¿‡è®¢é˜…è€…ï¼ˆ$Actionï¼‰æŠŠå¯¹å‘å¸ƒè€…ï¼ˆactionï¼‰çš„è®¢é˜…æ³¨å†Œåˆ°äº‹ä»¶æ³¨å†Œä¸­å¿ƒï¼ˆactionSubscriptionsï¼‰ä¸­ï¼Œå½“å‘å¸ƒè€…ï¼ˆactionï¼‰è§¦å‘æ—¶ï¼Œé€šçŸ¥è°ƒåº¦ä¸­å¿ƒï¼ˆtriggerSubscriptionsï¼‰ï¼Œè°ƒåº¦ä¸­å¿ƒï¼ˆtriggerSubscriptionsï¼‰è§¦å‘äº‹ä»¶æ³¨å†Œä¸­å¿ƒä¸­çš„æ‰€æœ‰è®¢é˜…ã€‚ $subscribeä½¿ç”¨ç¤ºä¾‹â€‹ è®¢é˜…å½“å‰storeä¸­çš„stateçš„å˜åŒ–ï¼Œstateå‘ç”Ÿä»»æ„æ›´æ”¹éƒ½ä¼šè§¦å‘å…¶å›è°ƒå‡½æ•°ï¼Œä»–è¿˜ä¼šè¿”å›ä¸€ä¸ªç”¨æ¥åˆ é™¤çš„å›è°ƒå‡½æ•° 12345678910111213let abc = useCounter1.$subscribe( (option, state) =&gt; &#123; // é€šè¿‡store.num = xxxxä¿®æ”¹ï¼Œtypeä¸ºdirect // é€šè¿‡store.$patch(&#123; num: &#x27;xxx&#x27; &#125;)ä¿®æ”¹ï¼Œtypeä¸ºdirectpatchObject // é€šè¿‡store.$patch((state) =&gt; num.name=&#x27;xxx&#x27;)ä¿®æ”¹ï¼Œtypeä¸ºpatchFunction // storeIdä¸ºå½“å‰storeçš„id // events å½“å‰æ”¹åŠ¨è¯´æ˜ let &#123; events, storeId, type &#125; = option; console.log(events, storeId, type, state); &#125;, &#123; detached: false &#125;); æºç åˆ†æå½“æˆ‘ä»¬ä½¿ç”¨$subscribeå¹¶ä¼ å…¥callbackçš„æ—¶å€™ï¼Œé¦–å…ˆä¼šå°†å½“å‰çš„callbackåŠ å…¥æ³¨å†Œä¸­å¿ƒä¸­ 123456const removeSubscription = addSubscription( subscriptions, // äº‹ä»¶æ³¨å†Œä¸­å¿ƒ callback, // $subscribeä¼ å…¥çš„callback options.detached, // é¡µé¢å¸è½½çš„æ—¶å€™æ˜¯å¦å–æ¶ˆç›‘å¬ () =&gt; stopWatcher() // æ‰§è¡ŒstopWatcherå®é™…ä¸Šæ‰§è¡Œçš„æ˜¯scope.runè¿”å›çš„watchï¼Œè€Œæ‰§è¡Œwatchçš„è¿”å›å‡½æ•°ï¼Œä¹Ÿå°±æ˜¯åœæ­¢å½“å‰watch); â€‹ å‰ä¸‰ä¸ªå‚æ•°ç»è¿‡å¯¹$Actionçš„åˆ†æåå·²ç»æ¯”è¾ƒç†Ÿæ‚‰ï¼Œè¿™é‡Œæˆ‘ä»¬é‡ç‚¹è¯´æ˜ä¸€ä¸‹ç¬¬å››ä¸ªå‚æ•° â€‹ stopWatcheræ˜¯å½“å‰storeä¸­çš„effectScopeï¼Œæˆ‘ä»¬å°†å¯¹å½“å‰stateçš„watchæ”¾å…¥scopeä¸­ï¼Œä»¥ä¾¿äºé”€æ¯storeçš„æ—¶å€™ç»Ÿä¸€å¤„ç†ã€‚ 12345678910111213141516171819const stopWatcher = scope.run(() =&gt; watch( () =&gt; pinia.state.value[$id] as UnwrapRef&lt;S&gt;, // ç›‘å¬stateçš„å˜åŒ– (state) =&gt; &#123; // åœ¨ä¸ä½¿ç”¨$patchçš„æƒ…å†µä¸‹ï¼Œåˆ™ä¸¤ä¸ªå‚æ•°éƒ½ä¸ºtrueï¼Œcallbackä¸€å®šä¼šæ‰§è¡Œ if (options.flush === &quot;sync&quot; ? isSyncListening : isListening) &#123; callback( &#123; storeId: $id, // type: MutationType.direct, events: debuggerEvents as DebuggerEvent, &#125;, state ); &#125; &#125;, assign(&#123;&#125;, $subscribeOptions, options) ) ) å°ç»“ â€‹ $subscribeä¸»è¦ä¾èµ–vue3çš„watchè¿›è¡Œå®ç°ï¼Œåœ¨subscriptionsä¸­æ³¨å†Œcallbackï¼Œä½†æ˜¯æ³¨å†Œçš„callbackä¸é€šè¿‡triggerSubscriptionsè¿›è¡Œè§¦å‘ï¼Œä»…ä»…ä½œä¸ºä¿å­˜ï¼Œwatchçš„è§¦å‘å‡½æ•°ä¸­é€šè¿‡é—­åŒ…è§¦å‘$subscribeä¸­çš„callbackï¼Œè¾¾åˆ°storeä¸­ä»»æ„å€¼å‘ç”Ÿå˜åŒ–çš„æ—¶å€™éƒ½æ‰§è¡Œcallbackçš„ç›®çš„ â€‹ åœ¨addSubscriptionçš„è¿”å›å€¼removeSubscriptionä¸­ï¼Œä¸ä»…ä¼šåœ¨subscriptions(æ³¨å†Œä¸­å¿ƒ)åˆ é™¤è®¢é˜…ï¼ŒåŒæ—¶ä¹Ÿä¼šæ‰§è¡Œ() =&gt; stopWatcher()ï¼Œåœæ­¢watchç›‘å¬ã€‚è¾¾åˆ°å®Œå…¨åœæ­¢ç›‘å¬çš„ç›®çš„ã€‚ $patchä½¿ç”¨ç¤ºä¾‹ç›´æ¥æ›´æ–°å½“å‰stateï¼Œå¯ä»¥é€šè¿‡ä¼ å…¥å¯¹è±¡ä¸callbackä¸¤ç§æ–¹å¼è¿›è¡Œstateæ›´æ–°ï¼Œå…è®¸ä¼ é€’åµŒå¥—å€¼ 123456// å¯¹è±¡useCounter1.$patch(&#123; counter: 2 &#125;);// functionuseCounter1.$patch((state) =&gt; &#123; state.counter = 2;&#125;); æºç åˆ†æâ€‹ $patchçš„ä¸»ä½“é€»è¾‘ä¸ç®—å¾ˆå¤æ‚ï¼Œé’ˆå¯¹ä¸åŒçš„å‚æ•°ç±»å‹è¿›è¡Œåˆ†åˆ«å¤„ç†ï¼Œå…¶ä¸­partialStateOrMutatoræ˜¯ä¼ å…¥çš„æ–¹æ³•ï¼Œæˆ‘ä»¬å°†å½“å‰storeä¼ å…¥å…¶ä¸­ï¼Œé€šè¿‡å…¶callbackç›´æ¥å®Œæˆstateçš„ä¿®æ”¹ï¼Œè€Œä¼ å…¥ç±»å‹ä¸ºobjectçš„æ—¶å€™ï¼Œåˆ™é€šè¿‡mergeReactiveObjectsè¿›è¡Œå¤„ç†ã€‚ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748function $patch(stateMutation: (state: UnwrapRef&lt;S&gt;) =&gt; void): void; // Funä¼ å‚function $patch(partialState: _DeepPartial&lt;UnwrapRef&lt;S&gt;&gt;): void; // å¯¹è±¡ä¼ å‚function $patch(partialStateOrMutator: | _DeepPartial&lt;UnwrapRef&lt;S&gt;&gt; | ((state: UnwrapRef&lt;S&gt;) =&gt; void)): void &#123; let subscriptionMutation: SubscriptionCallbackMutation&lt;S&gt;; isListening = isSyncListening = false; // reset the debugger events since patches are sync /* istanbul ignore else */ if (__DEV__) &#123; debuggerEvents = []; &#125; // å¦‚æœå‚æ•°æ˜¯æ–¹æ³•ï¼Œèµ°ä»¥ä¸‹å¤„ç†é€»è¾‘ if (typeof partialStateOrMutator === &quot;function&quot;) &#123; partialStateOrMutator(pinia.state.value[$id] as UnwrapRef&lt;S&gt;); subscriptionMutation = &#123; type: MutationType.patchFunction, storeId: $id, events: debuggerEvents as DebuggerEvent[], &#125;; &#125; else &#123; // å¦‚æœå‚æ•°æ˜¯å¯¹è±¡ï¼Œèµ°ä»¥ä¸‹å¤„ç†é€»è¾‘ mergeReactiveObjects(pinia.state.value[$id], partialStateOrMutator); subscriptionMutation = &#123; type: MutationType.patchObject, payload: partialStateOrMutator, storeId: $id, events: debuggerEvents as DebuggerEvent[], &#125;; &#125; const myListenerId = (activeListener = Symbol()); nextTick().then(() =&gt; &#123; if (activeListener === myListenerId) &#123; isListening = true; &#125; &#125;); isSyncListening = true; // åœ¨ä¸Šæ–¹é€»è¾‘ä¸­ï¼Œæˆ‘ä»¬å°†isListening isSyncListening é‡ç½®ä¸ºfalseï¼Œä¸ä¼šè§¦å‘$subscribeä¸­çš„callbackï¼Œæ‰€ä»¥éœ€è¦æ‰‹åŠ¨è¿›è¡Œè®¢é˜…å‘å¸ƒ triggerSubscriptions( subscriptions, subscriptionMutation, pinia.state.value[$id] as UnwrapRef&lt;S&gt; );&#125; 12345678910111213141516171819202122232425262728// $patchä¼ å…¥å‚æ•°ä¸ºObjectçš„å¤„ç†é€»è¾‘function mergeReactiveObjects&lt;T extends StateTree&gt;( target: T, patchToApply: _DeepPartial&lt;T&gt;): T &#123; // no need to go through symbols because they cannot be serialized anyway for (const key in patchToApply) &#123; if (!patchToApply.hasOwnProperty(key)) continue; const subPatch = patchToApply[key]; const targetValue = target[key]; if ( isPlainObject(targetValue) &amp;&amp; isPlainObject(subPatch) &amp;&amp; target.hasOwnProperty(key) &amp;&amp; !isRef(subPatch) &amp;&amp; !isReactive(subPatch) ) &#123; // å¦‚æœè¢«ä¿®æ”¹çš„å€¼ ä¿®æ”¹å‰ä¿®æ”¹åéƒ½æ˜¯objectç±»å‹å¹¶ä¸”ä¸æ˜¯Functionç±»å‹ã€å¹¶ä¸”ä¸æ˜¯ref ä¸æ˜¯isReactiveï¼Œåˆ™é€’å½’mergeReactiveObjectsè¾¾åˆ°ä¿®æ”¹åµŒå¥—objectçš„ç›®çš„ target[key] = mergeReactiveObjects(targetValue, subPatch); &#125; else &#123; // @ts-expect-error: subPatch is a valid value // å¦‚æœæ˜¯ç®€å•ç±»å‹ åˆ™ç›´æ¥è¿›è¡Œstateçš„ä¿®æ”¹ï¼Œè¿™é‡Œçš„targetä¸ºpinia.state.value[$id] // æŒ‰æˆ‘ä»¬çš„ç¤ºä¾‹æ¥å®é™…åˆ†æï¼špinia.state.value[$id].counter = 2 target[key] = subPatch; &#125; &#125; return target;&#125; â€‹ å®Œæˆå¯¹mergeReactiveObjectsçš„åˆ†æåï¼Œ$patchçš„æ ¸å¿ƒé€»è¾‘å°±å…¨éƒ¨ç»“æŸäº†ï¼Œä½†æ˜¯è¿˜æœ‰ä¸€ç‚¹æˆ‘ä»¬æ²¡å®Œæˆï¼Œå°±æ˜¯é€šè¿‡$patchä¿®æ”¹çš„stateï¼Œ$subscribeæ˜¯å¦å¯ä»¥ç›‘å¬åˆ°ã€‚ $patchè§¦å‘$subscribeâ€‹ åœ¨$patchæ‰§è¡Œçš„ä¸­ï¼Œæˆ‘ä»¬ä¼šä¿®æ”¹å½“å‰storeä¸­çš„stateï¼Œ$subscribeä¸­çš„watchåœ¨flush=&#39;sync&#39;çš„æƒ…å†µä¸‹å¯ä»¥ç«‹åˆ»ç›‘å¬åˆ°ï¼Œä½†æ˜¯ä¹Ÿæ— æ³•æ‰§è¡Œcallbackï¼Œå› ä¸º$patchå‡½æ•°æœ€å¼€å§‹çš„åœ°æ–¹å°†isListeningï¼ŒisSyncListeningç½®ä¸ºfalse â€‹ åœ¨å¯¹å€¼å®Œæˆä¿®æ”¹åï¼Œæˆ‘ä»¬å°†isSyncListeningç½®ä¸ºtrueï¼Œå¹¶ä¸”æ‰‹åŠ¨è®¢é˜…$subscribeçš„callbackï¼Œè¾¾åˆ°é€šè¿‡$patchä¿®æ”¹stateä¹Ÿèƒ½è¢«$subscribeç›‘å¬åˆ°çš„ç›®çš„ã€‚ å°ç»“â€‹ $patchçš„æºç ç›¸å¯¹æ¥è¯´æ¯”è¾ƒç®€å•ï¼Œä½†æ˜¯å…³äºè§¦å‘$subscribeçš„éƒ¨åˆ†ä»£ç é€»è¾‘æ¯”è¾ƒå¤æ‚ï¼Œå°¤å…¶æ˜¯å½“$subscribe optionè®¾ç½®ä¸­çš„flushä¸ºsyncçš„æ—¶å€™ï¼Œä¿®æ”¹stateç«‹åˆ»å°±ä¼šè§¦å‘$subscribeçš„watchï¼Œè™½ç„¶æœ€ç»ˆå‘ˆç°å‡ºæ¥çš„ç»“æœæ˜¯ä¸€è‡´çš„ï¼Œä½†æ˜¯å†…éƒ¨å¯¹ä¸åŒæƒ…å†µçš„å…¼å®¹æ²¡æœ‰çœ‹èµ·æ¥é‚£ä¹ˆç®€å•ã€‚ $disposeè°ƒç”¨è¯¥æ–¹æ³•åå°†ä¼šæ³¨é”€å½“å‰store scopeä¸­å­˜å‚¨å½“å‰storeä¸­çš„ç›¸å…³ååº”ï¼Œå½“å‰stateçš„watchï¼Œrefï¼Œç­‰ç­‰effectéƒ½é€šè¿‡scope.runåˆ›å»ºï¼Œå°±æ˜¯ä¸ºäº†æ–¹ä¾¿ç»Ÿä¸€å¤„ç†ï¼Œè¿™é‡Œè°ƒç”¨scope.stop()æ‰€æœ‰çš„effectä¾¿è¢«å…¨éƒ¨æ³¨é”€äº†ã€‚ 123456function $dispose() &#123; scope.stop(); subscriptions = []; // $subscribeæ³¨å†Œä¸­å¿ƒ actionSubscriptions = []; // $Actionçš„æ³¨å†Œä¸­å¿ƒ pinia._s.delete($id); // åˆ é™¤effectMapç»“æ„&#125; $resetè°ƒç”¨è¯¥æ–¹æ³•å¯ä»¥å°†å½“å‰stateé‡ç½®ä¸ºåˆå§‹åŒ–çš„çŠ¶æ€ ä½†æ˜¯æœ‰ç‚¹éœ€è¦æ³¨æ„ï¼Œå¦‚æœdefineStoreé€šè¿‡setupç±»å‹å£°æ˜ï¼Œåˆ™æ— æ³•è°ƒç”¨è¯¥å‡½æ•° 1234567const $reset = __DEV__ ? () =&gt; &#123; throw new Error( `ğŸ: Store &quot;$&#123;$id&#125;&quot; is built using the setup syntax and does not implement $reset().` ); &#125; : noop; // noopä¸ºç©ºå‡½æ•° å¦‚æœé€šè¿‡optionç±»å‹è¿›è¡Œå£°æ˜ï¼Œåˆ™ä¼šé‡å†™$resetæ–¹æ³• 12345678store.$reset = function $reset() &#123; // stateé€šè¿‡é—­åŒ…æœºåˆ¶è·å¾—æœ€åˆstateå®šä¹‰çš„çŠ¶æ€ const newState = state ? state() : &#123;&#125;; // é€šè¿‡$patchå®Œæˆå¯¹stateä¸­æ•°æ®çš„æ›´æ–° this.$patch(($state) =&gt; &#123; assign($state, newState); &#125;);&#125;; æ€»ç»“â€‹ è‡³æ­¤ï¼Œæˆ‘ä»¬å°±å®Œæˆäº†å¯¹piniaæ‰€æœ‰æ–¹æ³•çš„æºç è§£è¯»ï¼Œè€Œpiniaæºç è§£è¯»ç³»åˆ—æ–‡ç« ä¹Ÿå°†å‘Šä¸€æ®µè½ï¼Œæˆ‘ä»¬ä»piniaçš„åˆå§‹åŒ–åˆ°äº†è§£å¦‚ä½•å®ç°stateï¼Œgettersçš„å“åº”å¼ï¼Œæœ€åå®Œæˆå¯¹pinia metnodsçš„å…¨éƒ¨è§£è¯»ï¼Œä¹Ÿç®—æ˜¯å®Œå…¨äº†è§£äº†å…¶æ ¸å¿ƒå®ç°ï¼Œæœ€åæˆ‘ä»¬å°†ä¼šå®ç°ä¸€ä¸ªminiç‰ˆçš„piniaï¼Œä»…ä»…ä¿ç•™æ ¸å¿ƒå®ç°ï¼Œé™ä½é˜…è¯»é—¨æ§›ï¼Œè®©å¤§å¤šæ•°äººå¯ä»¥è½»æ¾äº†è§£piniaçš„æ ¸å¿ƒå®ç°åŸç†~","categories":[{"name":"JavaScript-2022","slug":"JavaScript-2022","permalink":"https://vkcyan.github.io/categories/JavaScript-2022/"}],"tags":[{"name":"Pinia","slug":"Pinia","permalink":"https://vkcyan.github.io/tags/Pinia/"}]},{"title":"Piniaæºç åˆ†æã€2ã€‘- createPinia","slug":"piniaæºç è§£è¯»/piniaæºç åˆ†æã€2ã€‘- createPinia","date":"2022-07-06T16:00:00.000Z","updated":"2022-12-11T13:51:24.080Z","comments":true,"path":"2022/07/07/piniaæºç è§£è¯»/piniaæºç åˆ†æã€2ã€‘- createPinia/","link":"","permalink":"https://vkcyan.github.io/2022/07/07/pinia%E6%BA%90%E7%A0%81%E8%A7%A3%E8%AF%BB/pinia%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90%E3%80%902%E3%80%91-%20createPinia/","excerpt":"","text":"ä¸“æ å¯¼èˆªåˆ†æpiniaæºç ä¹‹å‰å¿…é¡»çŸ¥é“çš„API Piniaæºç åˆ†æã€1ã€‘- æºç åˆ†æç¯å¢ƒæ­å»º Piniaæºç åˆ†æã€2ã€‘- createPinia piniaæºç åˆ†æã€3ã€‘- defineStore piniaæºç åˆ†æã€4ã€‘- Pinia Methods å‰è¨€å‚è€ƒæºç pinia V2.0.14 æºç åˆ†æä»“åº“ï¼šhttps://github.com/vkcyan/goto-pinia ä¸Šä¸€ç¯‡æ–‡ç« æˆ‘ä»¬ä¸»è¦ä»‹ç»äº†å¦‚ä½•æ­å»ºä¸€ä¸ªpiniaæºç é˜…è¯»ç¯å¢ƒï¼›æœ¬æ–‡ä¸»è¦ä»‹ç»piniaåœ¨vue3åˆå§‹åŒ–é˜¶æ®µç›¸å…³é€»è¾‘ï¼Œä»¥åŠå¦‚ä½•æ„å»ºpiniaå¯¹è±¡ã€‚ æ­£æ–‡æ ¹æ®å®˜æ–¹æ–‡æ¡£ï¼Œæˆ‘ä»¬ä½¿ç”¨piniaé¦–å…ˆéœ€è¦æ˜¯å°†å®ƒæ³¨å†Œåˆ°vueä¸­ 12const pinia = createPinia();app.use(pinia); createPiniaé˜¶æ®µç©¶ç«Ÿåšäº†ä»€ä¹ˆï¼Œä»–åˆæ˜¯å¦‚ä½•è¢«æ³¨å†Œåˆ°vueä¸­å‘¢ï¼Ÿæˆ‘ä»¬è¦ä»createPiniaä¸­å¯»æ‰¾ç­”æ¡ˆã€‚ æºç åœ°å€æˆ‘ä»¬é€šè¿‡pinia\\src\\index.tsæ‰¾åˆ° 1export &#123; createPinia &#125; from &#x27;./createPinia&#x27; // `pinia\\src\\createPinia.tsä¸ºæºç æ–‡ä»¶` createPiniaå‡½æ•°â€‹ åœ¨å‡½æ•°çš„æœ€å¼€å¤´ï¼Œæˆ‘ä»¬å°±å¯ä»¥çœ‹åˆ°é€šè¿‡effectScopeå£°æ˜äº†ä¸€ä¸ªrefï¼Œå¹¶èµ‹å€¼ç»™äº†stateï¼Œè¿™é‡Œçš„effectScopeæ˜¯é«˜çº§APIï¼Œæœªæ¥ä¼šå•ç‹¬ä»‹ç»ï¼Œæœ‰å…´è¶£çš„åŒå­¦å¯ä»¥çœ‹ä¸€ä¸‹å®˜æ–¹æ–‡æ¡£ï¼Œæˆ‘ä»¬å°†å…¶ç®€å•ç†è§£ä¸ºå£°æ˜äº†ä¸€ä¸ªrefå¹¶èµ‹å€¼ç»™stateã€‚ 1234567891011export function createPinia(): Pinia &#123; const scope = effectScope(true); const state = scope.run&lt;Ref&lt;Record&lt;string, StateTree&gt;&gt;&gt;(() =&gt; ref&lt;Record&lt;string, StateTree&gt;&gt;(&#123;&#125;) )!; // ç®€åŒ–ç†è§£ // const state = ref(&#123;&#125;) // ...&#125; â€‹ piniaé€šè¿‡markRawè¿›è¡ŒåŒ…è£…ï¼Œå°†å…¶æ ‡è®°ä¸ºä¸ä¼šè½¬åŒ–ä¸ºå“åº”å¼ï¼Œæœ€ç»ˆpiniaå¯¹è±¡è¢«createPiniaå‡½æ•°è¿”å›ï¼Œæ‰§è¡Œvue.use(pinia)çš„æ—¶å€™ä¾¿ä¼šæ‰§è¡Œpiniaå¯¹è±¡ä¸­çš„installå‡½æ•°ã€‚ 12345678910111213141516171819202122232425262728293031323334export function createPinia(): Pinia &#123; // ... let _p: Pinia[&quot;_p&quot;] = []; // æ‰€æœ‰éœ€è¦å®‰è£…çš„æ’ä»¶ let toBeInstalled: PiniaPlugin[] = []; // installä¹‹å‰ä¿å­˜çš„å¾…å®‰è£…æ’ä»¶ // ä½¿ç”¨markRawæ ‡è®°piniaä½¿å…¶ä¸ä¼šè¢«å“åº”å¼ const pinia: Pinia = markRaw(&#123; // vue.useå®é™…æ‰§è¡Œé€»è¾‘ install(app: App) &#123; setActivePinia(pinia); // è®¾ç½®å½“å‰ä½¿ç”¨çš„ pinia if (!isVue2) &#123; // å¦‚æœæ˜¯vue2ï¼Œå…¨å±€æ³¨å†Œå·²ç»åœ¨PiniaVuePluginå®Œæˆï¼Œæ‰€ä»¥è¿™æ®µé€»è¾‘å°†è·³è¿‡ pinia._a = app; // ä¿å­˜appå®ä¾‹ app.provide(piniaSymbol, pinia); // é€šè¿‡provideä¼ é€’piniaå®ä¾‹ï¼Œæä¾›ç»™åç»­ä½¿ç”¨ app.config.globalProperties.$pinia = pinia; // è®¾ç½®å…¨å±€å±æ€§ $pinia toBeInstalled.forEach((plugin) =&gt; _p.push(plugin)); // å¤„ç†æœªæ‰§è¡Œæ’ä»¶ toBeInstalled = []; &#125; &#125;, use(plugin) &#123; if (!this._a &amp;&amp; !isVue2) &#123; // å¦‚æœuseé˜¶æ®µä¸ºåˆå§‹åŒ–å®Œæˆåˆ™æš‚å­˜toBeInstalledä¸­ toBeInstalled.push(plugin); &#125; else &#123; _p.push(plugin); &#125; return this; &#125;, _p, // æ‰€æœ‰piniaçš„æ’ä»¶ _a: null, // appå®ä¾‹ï¼Œåœ¨installçš„æ—¶å€™ä¼šè¢«è®¾ç½® _e: scope, // piniaçš„ä½œç”¨åŸŸå¯¹è±¡ï¼Œæ¯ä¸ªstoreéƒ½æ˜¯å•ç‹¬çš„scope _s: new Map&lt;string, StoreGeneric&gt;(), // storeç¼“å­˜ keyä¸ºpiniaçš„id valueä¸ºpiniaçš„å¯¹å¤–æš´éœ²æ•°æ® state, // piniaæ‰€æœ‰stateçš„åˆé›† keyä¸ºpiniaçš„id valueä¸ºstoreä¸‹çš„æ‰€æœ‰stateï¼ˆæ‰€æœ‰å¯è®¿é—®å˜é‡ï¼‰ &#125;); return pinia;&#125; è¿”å›å€¼çš„å«ä¹‰ä»¥åŠä½œç”¨ â€‹ åˆå§‹åŒ–çš„é€»è¾‘ç›¸å¯¹æ¯”è¾ƒç®€å•ï¼Œåªéœ€è¦äº†è§£effectScope markRawä¾¿èƒ½å®Œå…¨è¯»æ‡‚ï¼Œinstallé˜¶æ®µç»„æˆçš„piniaå¯¹è±¡è¢«setActivePiniaä¿å­˜äº†ä¸‹æ¥ï¼Œè€Œè¿™ä¸ªå¯¹è±¡è´¯ç©¿piniaæ•´ä¸ªç”Ÿå‘½å‘¨æœŸï¼Œæ¯ä¸ªå­—æ®µçš„ä½œç”¨åœ¨åé¢çš„æºç è§£è¯»ä¸­éƒ½ä¼šæœ‰æ‰€ä½“ç°ã€‚ å…³äºVue2â€‹ é€šè¿‡piniaå®˜ç½‘ï¼Œæˆ‘ä»¬å¯ä»¥äº†è§£åˆ°piniaæ”¯æŒvue2ï¼Œä¸è¿‡vue2ç¯å¢ƒéœ€è¦åœ¨ä½¿ç”¨createPiniaä¹‹å‰ï¼Œé¢„å…ˆå®‰è£…æ’ä»¶PiniaVuePluginï¼Œé€šè¿‡piniaçš„å…¥å£æ–‡ä»¶äº†è§£åˆ°PiniaVuePluginçš„æºç å…¥å£ä¸ºpinia\\src\\vue2-plugin.ts â€‹ PiniaVuePluginæ˜¯vue2æ’ä»¶æ¯”è¾ƒä¸»æµçš„å®ç°æ–¹å¼ï¼Œè·å–Vueå®ä¾‹ï¼Œé€šè¿‡mixinå®ç°æ•°æ®å…±äº«ã€‚å¦‚æœäº†è§£è¿‡vuexçš„æºç ï¼Œç›¸ä¿¡å¯¹ä»¥ä¸‹ä»£ç ä¼šååˆ†ç†Ÿæ‚‰ã€‚ 1234567891011121314151617181920212223242526272829303132333435363738394041export const PiniaVuePlugin: Plugin = function (_Vue) &#123; // Equivalent of // app.config.globalProperties.$pinia = pinia // piniaåœ¨vue2ä¸­çš„æ³¨å†Œé€»è¾‘ä¸vuexæ ¸å¿ƒé€»è¾‘å‡ ä¹ä¸€è‡´ï¼Œ // æ³¨å…¥å…¨å±€mixinçš„beforeCreate _Vue.mixin(&#123; beforeCreate() &#123; const options = this.$options; // åœ¨æ ¹èŠ‚ç‚¹é€šè¿‡vue.useä¸­æ³¨å†Œäº†pinia if (options.pinia) &#123; const pinia = options.pinia as Pinia; // definePropertyç‰ˆprovidedå®ç° if (!(this as any)._providedå®ç°) &#123; const provideCache = &#123;&#125;; Object.defineProperty(this, &quot;_provided&quot;, &#123; get: () =&gt; provideCache, set: (v) =&gt; Object.assign(provideCache, v), &#125;); &#125; (this as any)._provided[piniaSymbol as any] = pinia; // é¦–æ¬¡æ³¨å†Œå˜é‡ä¸å­˜åœ¨ï¼Œè¿›è¡Œå­˜å‚¨ if (!this.$pinia) &#123; this.$pinia = pinia; &#125; // ä¿å­˜Vueå®ä¾‹ pinia._a = this as any; if (IS_CLIENT) &#123; setActivePinia(pinia); &#125; &#125; else if (!this.$pinia &amp;&amp; options.parent &amp;&amp; options.parent.$pinia) &#123; // æ‰€æœ‰å­ç»„ä»¶/é¡µé¢éƒ½ç»§æ‰¿ä¸Šä¸€å±‚çš„pinia this.$pinia = options.parent.$pinia; &#125; &#125;, destroyed() &#123; delete this._pStores; &#125;, &#125;);&#125;; å…³äºdevToolåœ¨createPiniaä¸­å­˜åœ¨è¿™æ ·ä¸€æ®µä»£ç  123if (__DEV__ &amp;&amp; IS_CLIENT &amp;&amp; !__TEST__) &#123; pinia.use(devtoolsPlugin);&#125; å¦‚æœæ˜¯å¼€å‘ç¯å¢ƒï¼Œå¹¶ä¸”æ˜¯æµè§ˆå™¨ç¯å¢ƒï¼Œå¹¶ä¸”ä¸æ˜¯æµ‹è¯•ç¯å¢ƒï¼Œå°±ä¼šå‘piniaæ³¨å†ŒdevtoolsPluginï¼Œä¹Ÿå°±æ˜¯å°†piniaæ³¨å†Œåˆ°æµè§ˆå™¨æ’ä»¶Vue.js devtoolsä¸­ã€‚ ç»“è¯­â€‹ createPiniaçš„æºç è§£è¯»å°±å…¨éƒ¨ç»“æŸäº†ï¼Œç°åœ¨æˆ‘ä»¬å·²ç»äº†è§£åˆå§‹åŒ–çš„å…·ä½“æµç¨‹ï¼Œä»¥åŠç”Ÿæˆçš„piniaå¯¹è±¡ä¸­å­˜åœ¨ä»€ä¹ˆå‚æ•°ï¼Œè¿™äº›å‚æ•°åœ¨è¿è¡Œé˜¶æ®µéƒ½ä¼šå‘æŒ¥å®ƒåº”ç”¨çš„ä»·å€¼ã€‚ â€‹ ä¸‹ä¸€ç« æˆ‘ä»¬å°†è¦è§£æåˆ›å»ºä»¥åŠä½¿ç”¨piniaçš„ç›¸å…³æºç ï¼ŒdefindStoreå‡½æ•°å®ç°é€»è¾‘ï¼Œåœ¨defindStoreä¸­æˆ‘ä»¬å°†ä¼šäº†è§£åˆ°installé˜¶æ®µæ¯ä¸ªå­—æ®µçš„å®é™…ç”¨é€”ï¼Œä»¥åŠpiniaçš„æ ¸å¿ƒå“åº”åŸç†ã€‚","categories":[{"name":"JavaScript-2022","slug":"JavaScript-2022","permalink":"https://vkcyan.github.io/categories/JavaScript-2022/"}],"tags":[{"name":"Pinia","slug":"Pinia","permalink":"https://vkcyan.github.io/tags/Pinia/"}]},{"title":"Piniaæºç åˆ†æã€1ã€‘- æºç åˆ†æç¯å¢ƒæ­å»º","slug":"piniaæºç è§£è¯»/piniaæºç åˆ†æã€1ã€‘- æºç åˆ†æç¯å¢ƒæ­å»º","date":"2022-07-05T16:00:00.000Z","updated":"2022-12-11T13:51:24.079Z","comments":true,"path":"2022/07/06/piniaæºç è§£è¯»/piniaæºç åˆ†æã€1ã€‘- æºç åˆ†æç¯å¢ƒæ­å»º/","link":"","permalink":"https://vkcyan.github.io/2022/07/06/pinia%E6%BA%90%E7%A0%81%E8%A7%A3%E8%AF%BB/pinia%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90%E3%80%901%E3%80%91-%20%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/","excerpt":"","text":"ä¸“æ å¯¼èˆªåˆ†æpiniaæºç ä¹‹å‰å¿…é¡»çŸ¥é“çš„API Piniaæºç åˆ†æã€1ã€‘- æºç åˆ†æç¯å¢ƒæ­å»º Piniaæºç åˆ†æã€2ã€‘- createPinia piniaæºç åˆ†æã€3ã€‘- defineStore piniaæºç åˆ†æã€4ã€‘- Pinia Methods å‰è¨€â€‹ ç»è¿‡vue3ä»betaç‰ˆæœ¬èµ°å‘é»˜è®¤ç‰ˆæœ¬ï¼Œvue2.xæ›´æ–°æœ€åä¸€ä¸ªç‰ˆæœ¬Narutoï¼Œå…¨å±€çŠ¶æ€ç®¡ç†ä¹Ÿä»vuexæ…¢æ…¢èµ°å‘æ›´åŠ æ˜“ç”¨æ›´åŠ å¥‘åˆvue3çš„piniaã€‚ æœ¬ç³»åˆ—æ–‡ç« å°†ä¼šå¸¦é¢†å¤§å®¶ä»æºç è§’åº¦å»ç†è§£ä¸‹ä¸€ä»£vueå…¨å±€çŠ¶æ€ç®¡ç†åº“ pinia çš„å®ç°åŸç†ã€‚ å‚è€ƒæºç pinia V2.0.14 æºç åˆ†æä»“åº“ï¼šhttps://github.com/vkcyan/goto-pinia å·¥æ¬²å–„å…¶äº‹ï¼Œå¿…å…ˆåˆ©å…¶å™¨ï¼Œæˆ‘ä»¬åº”è¯¥å¦‚ä½•å»é˜…è¯»piniaçš„æºç å‘¢ï¼Ÿ æœ¬æ–‡å°†æ‰‹æ‘¸æ‰‹æ•™å¤§å®¶å¦‚ä½•åœ¨vue3ç¯å¢ƒæ­å»ºpiniaçš„æºç é˜…è¯»ç¯å¢ƒã€‚ åˆ›å»ºæºç åˆ†æç¯å¢ƒæˆ‘ä»¬ä½¿ç”¨vue3å¼€ç®±å³ç”¨çš„CLIåˆå§‹åŒ–ä¸€ä¸ªé¡¹ç›®ï¼Œåˆ›å»ºé¡¹ç›®éå¸¸ç®€å•ï¼Œä¸åšè¿‡å¤šèµ˜è¿°ã€‚ https://vuejs.org/guide/quick-start.html 1npm init vue@latest piniaæºç å…¥å£åˆ†æå…ˆå»piniaçš„å®˜æ–¹ä»“åº“ä¸‹è½½æºç  æºç åœ°å€ï¼šhttps://github.com/vuejs/piniaï¼Œæˆ‘ä»¬å°†å…¶cloneåˆ°æœ¬åœ° 1git clone https://github.com/vuejs/pinia.git é¦–å…ˆåˆ†æpiniaä»“åº“çš„æ‰“åŒ…æ–‡ä»¶ï¼Œå¯»æ‰¾æºä»£ç ä½ç½® æºç åœ°å€â€‹ åœ¨pinia/packages/package.jsonä¸­ï¼Œæˆ‘ä»¬æ‰¾åˆ°äº†æ‰“åŒ…å‘½ä»¤ï¼Œæ‰“åŒ…å‘½ä»¤ä¸­å¯ä»¥å¾—çŸ¥ï¼Œæ‰“åŒ…æ–‡ä»¶ä¸º../../rollup.config.js â€‹ åœ¨æ‰“åŒ…æ–‡ä»¶ä¸­ï¼Œæˆ‘ä»¬æ‰¾åˆ°äº†è¢«æ‰“åŒ…æºç çš„å…¥å£æ–‡ä»¶ï¼Œå³ä¸ºpinia/packages/pinia/src/index.ts ä»“åº“ä¾èµ–â€‹ åœ¨æ‰“åŒ…æ–‡ä»¶rollup.config.jsä¸­line121æ ‡æ³¨äº†ä¾èµ–æ–‡ä»¶ï¼Œä¸è¿‡æˆ‘ä»¬é€šè¿‡CLIç”Ÿæˆçš„é¡¹ç›®ä¸­å·²ç»åŒ…å«äº†ä»¥ä¸‹ä¾èµ–æ–‡ä»¶ï¼Œæ‰€ä»¥è¿™ä¸€æ­¥æˆ‘ä»¬ä¸éœ€è¦é¢å¤–æ“ä½œã€‚ ç¯å¢ƒå˜é‡â€‹ æºç ä¸­å­˜åœ¨å¤§é‡ç¯å¢ƒå˜é‡æ³¨å…¥ä»£ç ï¼Œå…·ä½“é…ç½®åœ¨rollup.config.jsä¸­line121ï¼›å¦‚æœç¼ºå¤±ç¯å¢ƒå˜é‡å£°æ˜ï¼Œä¼šå¯¼è‡´æºç æ— æ³•æ­£å¸¸è¿è¡Œã€‚ â€‹ æ‰€ä»¥åœ¨æºç é˜…è¯»ç¯å¢ƒï¼Œæˆ‘ä»¬éœ€è¦æ·»åŠ åˆé€‚çš„ç¯å¢ƒå˜é‡ï¼Œè®©æºç æ­£å¸¸è¿è¡Œèµ·æ¥ã€‚ ç¯å¢ƒé€‚é…å°†pinia/packages/piniaç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶å¤åˆ¶åˆ°æˆ‘ä»¬ä¹‹å‰é€šè¿‡CLIç”Ÿæˆé¡¹ç›®çš„/srcä¸­ã€‚ å¹¶æ ¹æ®æˆ‘ä»¬é€šè¿‡æºç å…¥å£åˆ†æè·å–çš„ä¿¡æ¯è¿›è¡Œç¯å¢ƒå˜é‡è¡¥å…¨ã€‚ åœ¨vite.config.tså¢åŠ ç¯å¢ƒå˜é‡1234define: &#123; __DEV__: &quot;true&quot;, // æ˜¯å¦å¼€å‘ç¯å¢ƒ __TEST__: &quot;false&quot;, // æ˜¯å¦æµ‹è¯•ç¯å¢ƒ&#125;, å…¨å±€ç¯å¢ƒå˜é‡æŠ¥é”™â€‹ æˆ‘ä»¬åœ¨viteçš„é…ç½®æ–‡ä»¶ä¸­å‘è¿è¡Œç¯å¢ƒæ³¨å…¥äº†piniaå¿…è¦çš„ç¯å¢ƒå˜é‡ï¼Œä½†æ˜¯TypeScriptå¹¶ä¸è®¤è¯†ç›¸å…³å…¨å±€å˜é‡ï¼Œä¾¿ä¼šå‘å‡ºè­¦å‘Šã€‚ â€‹ æˆ‘ä»¬éœ€è¦å°†æºç ä¸­çš„pinia/packages/pinia/src/global.d.tsæ–‡ä»¶å†…çš„å£°æ˜å¤åˆ¶åˆ°é¡¹ç›®ä¸­çš„env.d.tså³å¯ã€‚ 123456789101112/// &lt;reference types=&quot;vite/client&quot; /&gt;// Global compile-time constantsdeclare var __DEV__: boolean;declare var __TEST__: boolean;declare var __FEATURE_PROD_DEVTOOLS__: boolean;declare var __BROWSER__: boolean;declare var __CI__: boolean;declare var __VUE_DEVTOOLS_TOAST__: ( message: string, type?: &quot;normal&quot; | &quot;error&quot; | &quot;warn&quot;) =&gt; void; è‡³æ­¤ï¼Œæˆ‘ä»¬è§£å†³äº†é¡¹ç›®é™æ€æ£€æŸ¥é˜¶æ®µä¸­æ‰€æœ‰æŠ¥é”™ä¿¡æ¯ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å¯åŠ¨é¡¹ç›®ã€‚ æµè§ˆå™¨æ§åˆ¶å°æŠ¥é”™â€™â€¦ComputedRefâ€™â€‹ å¯åŠ¨é¡¹ç›®åï¼Œåœ¨æµè§ˆå™¨æ§åˆ¶å°æ”¶è·äº†ä¸€ä¸ªæŠ¥é”™ä¿¡æ¯ æˆ‘ä»¬æ‰¾åˆ°æŠ¥é”™ä»£ç type.tsè¿›è¡Œåˆ†æ â€‹ é”™è¯¯æç¤ºå·²ç»éå¸¸è´´å¿ƒï¼Œå¯ä»¥å¾—çŸ¥æ˜¯tsconfig.jsoné…ç½®é—®é¢˜ï¼Œæˆ‘ä»¬æ ¹æ®æŠ¥é”™ä¿¡æ¯ä¿®æ”¹é…ç½® å‡ºç°æŠ¥é”™çš„åŸå› æ˜¯å› ä¸ºè¿™é‡Œvue CLIç”Ÿæˆçš„ä»£ç è‡ªå¸¦ä¸€ä»½é…ç½®æ–‡ä»¶ï¼Œæ­¤æ–‡ä»¶ä¸piniaæºç çš„tsconfigéƒ¨åˆ†é…ç½®å‘ç”Ÿäº†å†²çªã€‚ 123456789101112131415161718&#123; &quot;extends&quot;: &quot;@vue/tsconfig/tsconfig.web.json&quot;, &quot;include&quot;: [&quot;env.d.ts&quot;, &quot;src/**/*&quot;, &quot;src/**/*.vue&quot;], &quot;compilerOptions&quot;: &#123; &quot;baseUrl&quot;: &quot;.&quot;, &quot;paths&quot;: &#123; &quot;@/*&quot;: [&quot;./src/*&quot;] &#125;, &quot;importsNotUsedAsValues&quot;: &quot;remove&quot;, // é»˜è®¤è¢«è®¾ç½®ä¸ºerror erroræƒ…å†µä¸‹ç±»å‹å¯¼å…¥å¿…é¡»å¢åŠ å‰ç¼€type ä»¥åŒºåˆ†ç±»å‹ æ”¹æˆremoveå³å¯ &quot;preserveValueImports&quot;: false // å¯¹äºç±»å‹ï¼Œåœ¨åŒæ—¶å¯ç”¨äº† &quot;preserveValueImports&quot; å’Œ &quot;isolatedModules&quot; æ—¶ï¼Œå¿…é¡»ä½¿ç”¨ä»…ç±»å‹å¯¼å…¥è¿›è¡Œå¯¼å…¥ï¼›æ”¹æˆfalseå³å¯ &#125;, &quot;references&quot;: [ &#123; &quot;path&quot;: &quot;./tsconfig.config.json&quot; &#125; ]&#125; æºç åˆ†æç¯å¢ƒæµ‹è¯•åœ¨æºç å¤„å¢åŠ æ‰“å°ï¼Œæµ‹è¯•piniaæºç æ˜¯å¦æ­£å¸¸è¿è¡Œã€‚ logè¢«æ­£å¸¸æ‰“å°ï¼Œè¯´æ˜piniaæºç å·²ç»è¢«æ­£å¸¸è¿è¡Œã€‚ â€‹ å¦‚æœæ„Ÿè§‰æ­å»ºç¯å¢ƒè¿‡äºç¹çï¼Œåˆæƒ³é˜…è¯»piniaæºç ï¼Œå¯ä»¥ç›´æ¥cloneé¡¹ç›®ï¼Œhttps://github.com/vkcyan/goto-piniaï¼Œå¼€ç®±å³ç”¨~ ç»“è¯­â€‹ è‡³æ­¤ï¼Œæˆ‘ä»¬ä¾¿å®Œæˆäº†ä¸‡é‡Œé•¿å¾ç¬¬ä¸€æ­¥ï¼›æ¤å…¥çš„æºç æ–‡ä»¶è¢«æ­£å¸¸è¿è¡Œï¼Œæˆ‘ä»¬ä¾¿å¯ä»¥é€šè¿‡log debugçš„æ–¹å¼æ¥è¿›è¡Œé€»è¾‘è§‚æµ‹ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å°†æ­£å¼å¼€å§‹piniaæ ¸å¿ƒå®ç°çš„æ¢ç´¢ä¹‹æ—…~","categories":[{"name":"JavaScript-2022","slug":"JavaScript-2022","permalink":"https://vkcyan.github.io/categories/JavaScript-2022/"}],"tags":[{"name":"Pinia","slug":"Pinia","permalink":"https://vkcyan.github.io/tags/Pinia/"}]},{"title":"åˆ†æpiniaæºç ä¹‹å‰å¿…é¡»çŸ¥é“çš„API","slug":"piniaæºç è§£è¯»/åˆ†æpiniaæºç ä¹‹å‰å¿…é¡»çŸ¥é“çš„API","date":"2022-07-04T16:00:00.000Z","updated":"2022-12-11T13:51:24.082Z","comments":true,"path":"2022/07/05/piniaæºç è§£è¯»/åˆ†æpiniaæºç ä¹‹å‰å¿…é¡»çŸ¥é“çš„API/","link":"","permalink":"https://vkcyan.github.io/2022/07/05/pinia%E6%BA%90%E7%A0%81%E8%A7%A3%E8%AF%BB/%E5%88%86%E6%9E%90pinia%E6%BA%90%E7%A0%81%E4%B9%8B%E5%89%8D%E5%BF%85%E9%A1%BB%E7%9F%A5%E9%81%93%E7%9A%84API/","excerpt":"","text":"ä¸“æ å¯¼èˆªåˆ†æpiniaæºç ä¹‹å‰å¿…é¡»çŸ¥é“çš„API Piniaæºç åˆ†æã€1ã€‘- æºç åˆ†æç¯å¢ƒæ­å»º Piniaæºç åˆ†æã€2ã€‘- createPinia piniaæºç åˆ†æã€3ã€‘- defineStore piniaæºç åˆ†æã€4ã€‘- Pinia Methods å‰è¨€â€‹ åœ¨piniaæºç ä¸­æœ‰ä¸€äº›ä¸šåŠ¡åœºæ™¯ä¸‹ä¸å¸¸ç”¨çš„vue3 apiï¼Œå¦‚æœæ²¡æœ‰é¢„å…ˆäº†è§£å°†ä¼šç»™æºç è§£è¯»å¸¦æ¥è¾ƒå¤§å›°éš¾ï¼Œå»ºè®®å…ˆææ¸…æ¥šç›¸å…³APIï¼Œé˜…è¯»ä»£ç å°†ä¼šäº‹åŠåŠŸå€~ effectScopeâ€‹ åœ¨createPiniaä¸­çš„é‡åˆ°çš„ç¬¬ä¸€è¡Œå°±æ˜¯ä¸è®¤è¯†çš„vue3 APIï¼Œæ‰“å¼€å®˜ç½‘çœ‹äº†ä¸€ä¸‹ï¼Œæœ€ä¸Šæ–¹infoä¸­å†™é“ effectä½œç”¨åŸŸæ˜¯ä¸€ä¸ªé«˜é˜¶APIï¼Œä¸“ä¸ºåº“ä½œè€…æœåŠ¡ã€‚ â€‹ ä»–çš„ä½œç”¨æ˜¯åˆ›å»ºä¸€ç‰‡å•ç‹¬çš„effectç©ºé—´ï¼Œè¯¥ç©ºé—´å†…çš„effectå°†å¯ä»¥ä¸€èµ·è¢«å¤„ç†ï¼Œæœ‰ç‚¹ç±»ä¼¼dockerä¸k8sçš„å…³ç³»ï¼Œä¾‹å¦‚ref computed watchEffect éƒ½æ˜¯dockerä¸­çš„å®¹å™¨ï¼Œè€ŒeffectScopeå°±æ˜¯k8sï¼Œå®ƒå¯ä»¥ç»Ÿä¸€ç®¡ç†effecté›†ç¾¤ã€‚ ç±»å‹ï¼š 123456function effectScope(detached?: boolean): EffectScopeinterface EffectScope &#123; run&lt;T&gt;(fn: () =&gt; T): T | undefined // å¦‚æœè¿™ä¸ªåŸŸä¸æ´»è·ƒåˆ™ä¸º undefined stop(): void&#125; â€‹ é€šè¿‡å®˜ç½‘çš„ç±»å‹å¯ä»¥çœ‹åˆ°ï¼ŒeffectScopeå­˜åœ¨ä¸€ä¸ªbooleanç±»å‹çš„å‚æ•°ï¼Œä½†æ˜¯åœ¨vue3æ–‡æ¡£ä¸­å¹¶æœªæ‰¾åˆ°å‚æ•°è¯´æ˜ï¼Œè€Œåœ¨RFCä¸­æ‰¾åˆ°äº†æ›´åŠ è¯¦ç»†çš„æ–‡æ¡£ã€‚æ¥ä¸‹æ¥ä¸ºeffectScopeçš„ç›¸å…³APIè¯´æ˜ã€‚ run æ¥å—ä¸€ä¸ªå‡½æ•°å¹¶è¿”å›è¯¥å‡½æ•°çš„è¿”å›å€¼ 1234567891011121314const scope = effectScope();const counter = ref(1);const setupStore = scope.run(() =&gt; &#123; const doubled = computed(() =&gt; counter.value * 2); watch(doubled, () =&gt; console.log(&#x27;doubled&#x27;,doubled.value)); watchEffect(() =&gt; console.log(&quot;count:&quot;, doubled.value)); return &#123; doubled, &#125;;&#125;);// æ‰“å° &#x27;count 2&#x27; watchEffectè§¦å‘console.log(setupStore!.counter.value); // æ‰“å°&#x27;1&#x27;,å¯ä»¥æ­£å¸¸è®¿é—®è¿”å›å€¼setupStore!.counter.value = 2; // æ‰“å° &#x27;doubled 4&#x27; &#x27;count: 4&#x27; counterä¿®æ”¹è§¦å‘watchä¸watchEffect stop é€’å½’ç»“æŸæ‰€æœ‰effectï¼ŒåŒ…æ‹¬åä»£effectScope 12345678910111213141516171819const setupStore = scope.run(() =&gt; &#123; const counter = ref(1); const doubled = computed(() =&gt; counter.value * 2); nestedScope = effectScope(true /* detached */); nestedScope.run(() =&gt; &#123; watch(counter, () =&gt; console.log(&quot;doubled&quot;, counter.value * 2)); watchEffect(() =&gt; console.log(&quot;count:&quot;, counter.value*2)); &#125;); return &#123; counter, doubled, &#125;;&#125;);scope.stop();setupStore!.counter.value = 2;// æ‰“å° doubled 4 count: 4 // å› ä¸ºnestedScopeè¢«æŒ‡å®šä¸ºtrueï¼Œæ‰€ä»¥å°±ç®—çˆ¶çº§è¢«é”€æ¯ï¼ŒnestedScopeä¾æ—§å­˜åœ¨ååº”ã€‚// å¦‚æœæƒ³ç»“æŸnestedScopeï¼Œéœ€è¦æ‰‹åŠ¨è¿›è¡Œé”€æ¯nestedScope.stop() detachedè¡¨ç¤ºæ˜¯å¦åœ¨åˆ†ç¦»æ¨¡å¼ä¸‹åˆ›å»ºï¼Œè¯¥å‚æ•°é»˜è®¤ä¸ºfalseï¼›å½“ä¸ºtrueçš„æ—¶å€™ï¼Œçˆ¶çº§è¢«åœæ­¢ï¼Œå­é›†ä¹Ÿä¸ä¼šå—å½±å“ã€‚ 12345678910111213141516171819202122232425const scope = effectScope();let nestedScope: any;const setupStore = scope.run(() =&gt; &#123; const counter = ref(1); const doubled = computed(() =&gt; counter.value * 2); nestedScope = effectScope(true /* detached */); nestedScope.run(() =&gt; &#123; watch(counter, () =&gt; console.log(&quot;doubled&quot;, counter.value * 2)); watchEffect(() =&gt; console.log(&quot;count:&quot;, counter.value * 2)); &#125;); return &#123; counter, doubled, &#125;;&#125;);scope.stop();setupStore!.counter.value = 2;// æ‰“å° doubled 4 count: 4// å› ä¸ºnestedScopeè¢«æŒ‡å®šä¸ºtrueï¼Œæ‰€ä»¥å°±ç®—çˆ¶çº§è¢«é”€æ¯ï¼ŒnestedScopeä¾æ—§å­˜åœ¨ååº”ã€‚// å¦‚æœæƒ³ç»“æŸnestedScopeï¼Œéœ€è¦æ‰‹åŠ¨è¿›è¡Œé”€æ¯nestedScope.stop()nestedScope.stop();setupStore!.counter.value = 3;// ä¸ä¼šå‡ºç°ä»»ä½•æ‰“å° markRawæ ‡è®°ä¸€ä¸ªå¯¹è±¡ï¼Œä½¿å…¶æ°¸è¿œä¸ä¼šè½¬æ¢ä¸º proxyã€‚è¿”å›å¯¹è±¡æœ¬èº«ã€‚ 123456const foo = markRaw(&#123;&#125;)console.log(isReactive(reactive(foo))) // false// åµŒå¥—åœ¨å…¶ä»–å“åº”å¼å¯¹è±¡ä¸­æ—¶ä¹Ÿå¯ä»¥ä½¿ç”¨const bar = reactive(&#123; foo &#125;)console.log(isReactive(bar.foo)) // false markRawåœ¨piniaæºç ä¸­éå¸¸å¸¸è§ï¼Œä¸»è¦ç”¨äºä¼˜åŒ–piniaçš„è‡ªèº«æ€§èƒ½ã€‚ toRaw toRawå¯ä»¥è·å–ä¸€ä¸ªå“åº”å¼å¯¹è±¡çš„åŸå§‹å±æ€§ 1234567const foo = &#123;&#125;;const reactiveFoo = reactive(foo);console.log(&quot;toRaw&quot;, toRaw(reactiveFoo) === foo); // trueconst foo1 = &#123;&#125;;const refFoo1 = ref(foo1);console.log(&quot;toRaw&quot;, toRaw(refFoo1.value) === foo1); // true åœ¨piniaæºç ä¸­ç”¨äºè·å–reactiveçš„åŸå§‹æ•°æ®ï¼Œå¹¶æ·»åŠ å­—æ®µåˆ°å…¶ä¸­ toRefsâ€‹ toRefsæ¯”è¾ƒå¸¸è§ï¼Œç®€å•æ¥è¯´ï¼šç»“æœä¸­çš„æ¯ä¸ªå¯¹è±¡éƒ½æŒ‡å‘åŸå§‹å±æ€§ï¼›åœ¨å®é™…å¼€å‘ä¸­å¸¸ç”¨äºreactiveçš„è§£æ„ã€‚ â€‹ åœ¨piniaçš„æºç ä¸­ï¼Œé’ˆå¯¹storeä¸­çš„stateçš„å¤„ç†ç”¨åˆ°äº†toRefsï¼Œä¸è¿‡å®ƒè§£æ„çš„æ˜¯stateï¼ˆrefç±»å‹ï¼‰å¯¹è±¡ï¼Œå¦‚æœè§£æ„çš„æ˜¯æ™®é€šå¯¹è±¡å°†ä¸å…·å¤‡å“åº”å¼ã€‚ ç»“è¯­â€‹ ä»¥ä¸Šå°±æ˜¯piniaæºç ä¸­ä½¿ç”¨è¾ƒå¤šçš„vue3 apiï¼Œè¿˜æœ‰äº›éå¸¸åŸºç¡€çš„ä¾‹å¦‚ref reactiveï¼Œå°±ä¸åšè¿‡å¤šèµ˜è¿°äº†ã€‚","categories":[{"name":"JavaScript-2022","slug":"JavaScript-2022","permalink":"https://vkcyan.github.io/categories/JavaScript-2022/"}],"tags":[{"name":"Pinia","slug":"Pinia","permalink":"https://vkcyan.github.io/tags/Pinia/"}]},{"title":"å…³äºæˆ‘ä½¿ç”¨Hexoæ­å»ºä¸ªäººåšå®¢è¿™æ¡£å­äº‹","slug":"å…³äºå¼€æº/å…³äºæˆ‘ä½¿ç”¨Hexoæ­å»ºä¸ªäººåšå®¢è¿™æ¡£å­äº‹","date":"2022-06-29T16:00:00.000Z","updated":"2022-12-11T13:51:24.085Z","comments":true,"path":"2022/06/30/å…³äºå¼€æº/å…³äºæˆ‘ä½¿ç”¨Hexoæ­å»ºä¸ªäººåšå®¢è¿™æ¡£å­äº‹/","link":"","permalink":"https://vkcyan.github.io/2022/06/30/%E5%85%B3%E4%BA%8E%E5%BC%80%E6%BA%90/%E5%85%B3%E4%BA%8E%E6%88%91%E4%BD%BF%E7%94%A8Hexo%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2%E8%BF%99%E6%A1%A3%E5%AD%90%E4%BA%8B/","excerpt":"","text":"å‰è¨€â€‹ åœ¨æˆ‘åˆšå·¥ä½œçš„é‚£å¹´ï¼Œä¾¿æ­å»ºè¿‡ä¸€æ¬¡Hexoé™æ€ç«™ç‚¹åˆ°github Pagesï¼Œé‚£æ—¶å€™è¾“å‡ºä¸å¤šï¼Œå‡ ä¹å…¨éƒ½æ˜¯æŠ€æœ¯ç±»æ–‡ç« ï¼Œäºæ˜¯æˆ‘ä¾¿æŠŠå­¦ä¹ è®°å½•ã€æ–‡ç« éƒ½æ”¾åœ¨githubä»“åº“ä¸­ï¼Œä¹Ÿä¼šæŠŠç²¾å“æ–‡ç« å‘å¸ƒåˆ°æ˜é‡‘ï¼›è¿™æ ·çš„æƒ…å†µä¸‹ï¼Œè‡ªå»ºåšå®¢æ²¡æœ‰è¢«ç»´æŠ¤ä¸‹å»ã€‚ â€‹ æ—¶é—´æ¥åˆ°2022å¹´ï¼Œéšç€è¾“å‡ºç±»å‹è¶Šæ¥è¶Šå¤šï¼Œè‡ªç„¶ä¾¿éœ€è¦ä¸€ä¸ªç©ºé—´æ¥å­˜å‚¨æ‰€æœ‰çš„è¾“å‡ºï¼Œè°ƒç ”äº†å¾ˆå¤šåœ¨çº¿æ–‡æ¡£å·¥å…·ï¼Œæ¯”å¦‚è¯­é›€ï¼Œé£ä¹¦ï¼ŒNotionï¼Œéƒ½æ˜¯éå¸¸ä¸é”™çš„ï¼Œä¸è¿‡æˆ‘ä¸ªäººéå¸¸å–œæ¬¢ç”¨Typoraï¼Œä¹Ÿä¸å¤ªä¹ æƒ¯å…¶ä»–æ–‡æ¡£å·¥å…·ï¼ŒåŒæ—¶ä½œè€…ä¹Ÿæ˜¯æ¯”è¾ƒå–œæ¬¢è‡ªç”±çš„äººï¼Œæ€æ¥æƒ³å»è¿˜æ˜¯è‡ªå»ºåšå®¢å§ï¼Œè¿™ä¾¿æ˜¯å†æ¬¡æ­å»ºgithub Pagesçš„åŸå› ã€‚ â€‹ åšå®¢æ­å»ºè¿‡ç¨‹ä¹ŸèŠ±è´¹äº†ä¸€äº›æ—¶é—´ï¼Œé‡åˆ°äº†è‹¥å¹²å°é—®é¢˜ï¼Œå¸Œæœ›åæ¥äººä¸è¦è¸©å‰äººå·²ç»è¸©è¿‡çš„å‘ï¼Œè¿™ä¹Ÿæ˜¯è¿™ç¯‡æ–‡ç« çš„ç”±æ¥ï¼Œå¸Œæœ›å€Ÿæ­¤å¯ä»¥å¸®åˆ°å¤§å®¶ã€‚ â€‹ æ¥ä¸‹æ¥å°±è®©æˆ‘ä»¬æ­£å¼å¼€å§‹å§ã€‚ é€‚åˆäººç¾¤ çˆ±æŠ˜è…¾ã€çˆ±è‡ªç”±çš„å¼€å‘è€… éœ€è¦ä¸€ä¸ªç¾è§‚çš„ç©ºé—´æ¥å­˜å‚¨å„ç±»æ–‡ç« çš„å¼€å‘è€… é€šè¿‡ä¸ªäººåšå®¢è®©é¢è¯•åŠ åˆ†çš„å¼€å‘è€… Hexoä»‹ç»â€‹ Hexoæ˜¯ä¸€ä¸ªå¿«é€Ÿã€ç®€æ´ä¸”é«˜æ•ˆçš„åšå®¢æ¡†æ¶ã€‚Hexo ä½¿ç”¨ Markdownï¼ˆæˆ–å…¶ä»–æ¸²æŸ“å¼•æ“ï¼‰è§£ææ–‡ç« ï¼Œåœ¨å‡ ç§’å†…ï¼Œå³å¯åˆ©ç”¨é“ä¸½çš„ä¸»é¢˜ç”Ÿæˆé™æ€ç½‘é¡µã€‚å³æŠŠç”¨æˆ·çš„markdownæ–‡ä»¶ï¼ŒæŒ‰ç…§æŒ‡å®šçš„ä¸»é¢˜è§£ææˆé™æ€ç½‘é¡µã€‚ githubPagesä»‹ç»â€‹ GitHub Pages æ˜¯ä¸€ç§é™æ€ç«™ç‚¹æ‰˜ç®¡æœåŠ¡ï¼Œå®ƒç›´æ¥ä» GitHub ä¸Šçš„å­˜å‚¨åº“è·å– HTMLã€CSS å’Œ JavaScript æ–‡ä»¶ï¼Œå¯é€‰æ‹©é€šè¿‡æ„å»ºè¿‡ç¨‹è¿è¡Œæ–‡ä»¶ï¼Œç„¶åå‘å¸ƒç½‘ç«™ã€‚æ‚¨å¯ä»¥åœ¨GitHub Pages ç¤ºä¾‹é›†åˆä¸­æŸ¥çœ‹ GitHub Pages ç«™ç‚¹ç¤ºä¾‹ã€‚ â€‹ é€šè¿‡ä¸Šé¢çš„ä»‹ç»æˆ‘ä»¬ä¾¿å¯ä»¥å¾—åˆ°ä¸€ä¸ªç»“è®ºï¼šgithubPages + Hexo &#x3D; ä¸ªäººåšå®¢ï¼Œä¸‹é¢è®©æˆ‘ä»¬æ­£å¼å¼€å§‹æ­å»ºä¸ªäººåšå®¢å§ï¼ ç¯å¢ƒè¦æ±‚ nodejsç¯å¢ƒ å®‰è£…gitå¹¶ æ³¨å†Œgithubè´¦å·ï¼Œå¹¶å·²ç»å°†å½“å‰ç”µè„‘çš„sshç§˜é’¥æ·»åŠ åˆ°äº†Githubï¼ˆç›¸å½“äºå‘Šè¯‰githubï¼Œè¿™å°ç”µè„‘æœ‰æƒæ“ä½œä½ çš„githubæ•°æ®ï¼‰ åˆ›å»ºgithub Pagesä»“åº“ æœ€åç‚¹å‡»ä¸‹æ–¹çš„ Create repository ï¼Œå®Œæˆåˆ›å»ºå³å¯ã€‚ é…ç½®hexoæ­å»ºç¯å¢ƒé¦–å…ˆå…¨å±€å®‰è£…hexo 1npm install -g hexo-cli ç„¶ååˆ›å»ºå­˜æ”¾ç«™ç‚¹èµ„æºçš„æ–‡ä»¶å¤¹ï¼Œåœ¨ä½ è®¤ä¸ºåˆé€‚çš„ç›®å½•ä¸‹æ‰§è¡Œ 123hexo init æ–‡ä»¶å¤¹åç§° // å»ºè®®username.github.iocd username.github.io // åˆšæ‰åˆ›å»ºçš„æ–‡ä»¶å¤¹npm install installå®Œæˆåï¼Œåœ¨è¯¥æ–‡ä»¶å¤¹ä¸‹æ‰§è¡Œ 1hexo s // hexo serverçš„ç¼©å†™ æ­£å¸¸æƒ…å†µä¸‹ä¼šçœ‹åˆ°ä»¥ä¸‹ä¿¡æ¯ ç„¶åæˆ‘ä»¬è®¿é—®http://localhost:4000/,ä¾¿å¯ä»¥çœ‹åˆ°hexoç”Ÿæˆçš„ç«™ç‚¹ èƒ½åˆ°è¿™ä¸€æ­¥å°±ç®—æ­å»ºæˆåŠŸäº†ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬éœ€è¦è®¤è¯†hexoç”Ÿæˆæ–‡ä»¶ä¸­çš„é…ç½®ï¼Œæ¥ä¸ªæ€§åŒ–å®šåˆ¶æˆ‘ä»¬çš„ä¸ªäººç«™ç‚¹ hexoæ–‡ä»¶è¯´æ˜_config.yml ä¸€å®šè¦ä»”ç»†çœ‹æ¯ä¸€é¡¹é…ç½®å“¦ï¼Œæ¯”å¦‚è¯­è¨€ï¼Œåšå®¢ç®€ä»‹ï¼Œç­‰ç­‰ éå¸¸é‡è¦çš„æ–‡ä»¶ï¼Œé…ç½®ç½‘ç«™çš„åŸºæœ¬ä¿¡æ¯ä¿¡æ¯ï¼Œæ¯”å¦‚åç§° æè¿° åˆ†é¡µ ä¸»é¢˜ç­‰ä¿¡æ¯ã€‚å…·ä½“å«ä¹‰çœ‹è¿™é‡Œ é…ç½®å‚æ•° themesâ€‹ ç¬¬ä¸‰æ–¹ç½‘ç«™ä¸»é¢˜å­˜æ”¾ç›®å½•ï¼Œåé¢æˆ‘ä»¬ä¼šç”¨åˆ° sourceâ€‹ è¯¥æ–‡ä»¶å¤¹æ˜¯å­˜æ”¾ç«™ç‚¹æ–‡ç« çš„åœ°æ–¹ï¼Œ_postç›®å½•ä¸ºæ–‡ç« å­˜æ”¾å¤„ï¼Œé™¤ _posts æ–‡ä»¶å¤¹ä¹‹å¤–ï¼Œå¼€å¤´å‘½åä¸º _ (ä¸‹åˆ’çº¿)çš„æ–‡ä»¶ &#x2F; æ–‡ä»¶å¤¹å’Œéšè—çš„æ–‡ä»¶å°†ä¼šè¢«å¿½ç•¥ã€‚ publicâ€‹ æ‰€æœ‰æ‰“åŒ…ç”Ÿäº§çš„æ–‡ä»¶éƒ½ä¼šè¢«è¾“å‡ºåˆ°publicä¸­ï¼Œå…¶ä¸­MD htmlæ–‡ä»¶å°†ä¼šè¢«è§£æå†å­˜æ”¾åœ¨å…¶ä¸­ï¼Œå…¶ä»–æ–‡ä»¶ä¼šè¢«æ‹·è´è¿›å»ã€‚ å°†æ–‡ç« å‘å¸ƒåˆ°Hexoä¸­ å¯ä»¥å°†æ¬è¿åˆ°hexoï¼Œä½†æ˜¯éœ€è¦ä¿®æ”¹&#x2F;å¢åŠ æ–‡ç« å¤´éƒ¨çš„é…ç½®ä¿¡æ¯ï¼Œè®©hexoå¾—ä»¥è‡ªåŠ¨åŒ–å½’ç±» æˆ‘ä»¬åœ¨_postä¸­å¢åŠ ä¸€ä¸ªmdæ–‡ä»¶ï¼Œç„¶åæ–‡ç« å¼€å¤´å¤„å†™å…¥ä»¥ä¸‹ä¿¡æ¯ï¼Œä½¿ç”¨è¿‡wordPressçš„åŒå­¦åº”è¯¥å¾ˆç†Ÿæ‚‰ï¼Œè¿™æ˜¯å¯¹å½“å‰æ–‡ç« çš„å±æ€§æè¿°ï¼Œå…·ä½“é…ç½®å¯ä»¥çœ‹å®˜æ–¹é…ç½®ï¼Œä¹‹åä¾¿æ˜¯å¡«å…¥æ–‡ç« å†…å®¹ï¼Œè¿˜è®°å¾—æˆ‘ä»¬é€šè¿‡hexo så¯åŠ¨çš„æœ¬åœ°æœåŠ¡å™¨å—ï¼Œæ–‡ç« ç¼–å†™å®Œæˆåï¼Œè®©æˆ‘ä»¬å»çœ‹çœ‹æ˜¯æ˜¯å¦å­˜åœ¨å˜åŒ–ã€‚ ä¸å‡ºæ„å¤–çš„è¯åº”è¯¥å¯ä»¥çœ‹åˆ°æˆ‘ä»¬åˆšæ‰å†™çš„æ–‡ç« å‡ºç°åœ¨ç½‘é¡µä¸­äº†,å¦‚æœè¿™é‡Œæœªæ˜¾ç¤ºå¯ä»¥å°è¯•é‡å¯æœåŠ¡ åœ¨æ–‡ç« å¤´éƒ¨ç¼–å†™çš„categoriesï¼Œtagså­—æ®µï¼Œhexoä¼šæŒ‰ç…§å…³é”®å­—è‡ªåŠ¨ç”Ÿæˆç´¢å¼•ã€‚ ä¸‹ä¸€æ­¥æˆ‘ä»¬ä¾¿è¦å°†å…¶å‘å¸ƒåˆ°github Pagesä¸­ï¼Œè®©æ‰€æœ‰äººéƒ½å¯ä»¥è®¿é—®åˆ°ã€‚ å°†hexoå‘å¸ƒåˆ°githubPagesâ€‹ æˆ‘ä»¬ä¹‹å‰å·²ç»å¤„ç†è¿‡äº†gitæœ¬åœ°ç¯å¢ƒä¸ä»“åº“ï¼Œhexoçš„éƒ¨ç½²ååˆ†ç®€å• å®‰è£…å¿«é€Ÿéƒ¨ç½²è„šæœ¬ è¯¥è„šæœ¬ä¼šåœ¨ä½ çš„ç›®å½•ä¸‹ç”Ÿæˆ.deploy_git/æ‰§è¡Œæ›´æ–°å‘½ä»¤çš„æ—¶å€™å°±ä¼šå°†è¯¥æ–‡ä»¶å¤¹ä¸‹çš„æ‰€æœ‰æ–‡ä»¶ä¸Šä¼ åˆ°æŒ‡å®šçš„ä»“åº“ä¸­ã€‚ 1npm install hexo-deployer-git --save å¡«å†™ç›¸å…³é…ç½® 12345deploy: type: git repo: https://github.com/username/username.github.io // æ›¿æ¢è¿™é‡Œçš„username branch: master // å¡«å†™éƒ¨ç½²çš„GitHubåˆ†æ”¯ï¼Œé»˜è®¤ä¸ºgh-pages message: &#x27;&#x27; // æäº¤ä¿¡æ¯ï¼Œå­˜åœ¨é»˜è®¤å€¼ï¼Œå¯ä»¥ä¸å¡«å†™ éƒ¨ç½²åˆ°ä»“åº“ 12hexo clean // æ¸…é™¤ç¼“å­˜æ–‡ä»¶ db.jsonä¸public/ (å»ºè®®æ¯æ¬¡éƒ¨ç½²ä¹‹å‰æ¸…é™¤ç¼“å­˜)hexo d // deployçš„ç¼©å†™ï¼Œè¯»å–ymlä¸­deployçš„é…ç½®å¹¶éƒ¨ç½² çœ‹åˆ°ä»¥ä¸Šæ—¥å¿—åˆ™è¯´æ˜éƒ¨ç½²æˆåŠŸ æ¥ä¸‹æ¥æˆ‘ä»¬å‰å¾€ä»“åº“ï¼Œå°±ä¼šå‘ç°ä»“åº“masteråˆ†æ”¯ä¸­å·²ç»å­˜åœ¨ä»£ç ï¼Œå†è®¾ç½®ä¸€ä¸‹github Pagesçš„åˆ†æ”¯ï¼Œè®©åšå®¢èµ„æºæ–‡ä»¶å¯ä»¥è¢«æ­£å¸¸è¯»å–ã€‚ æœ€åç‚¹å‡»ActionæŸ¥çœ‹éƒ¨ç½²ä»»åŠ¡æ˜¯å¦æ­£å¸¸å®Œæˆï¼Œæ­£å¸¸æƒ…å†µä¸‹Actionä¼šåœ¨60så·¦å³å®Œæˆï¼Œéƒ¨ç½²å®Œæˆåæˆ‘ä»¬ä¾¿å¯ä»¥è®¿é—®çº¿ä¸Šç«™ç‚¹äº†ï¼Œhttps://username.github.io/ åªè¦å¯ä»¥çœ‹åˆ°æˆ‘ä»¬çš„æ–‡ç« ï¼Œä¾¿æ˜¯éƒ¨ç½²æˆåŠŸäº†~ï¼ˆå¯èƒ½è®¿é—®é€Ÿåº¦è¿˜æœ‰äº›æ…¢ï¼Œæˆ‘ä»¬åé¢å†ä¼˜åŒ–ï¼‰ è¿™é‡Œè‚¯å®šæœ‰å¥½å¥‡çš„å°ä¼™ä¼´è¦é—®äº†ï¼Œä¸ºä»€ä¹ˆä½ çš„æ ·å­å’Œæˆ‘éƒ¨ç½²çš„ä¸ä¸€æ ·ï¼Ÿ è¿™å°±æ˜¯ä¸‹é¢è¦è¯´çš„ï¼Œè‡ªå®šä¹‰ä¸»é¢˜ã€‚ è‡ªå®šä¹‰ä¸»é¢˜â€‹ ä¸€ä¸ªé£æ ¼ä¼˜ç¾çš„åšå®¢å¯ä»¥ä¸ºè¯»è€…å¸¦æ¥æ›´å¥½çš„ä½“éªŒï¼Œä¹Ÿæ˜¯ä½œè€…ä¸ªæ€§çš„ä¸€ç§è¡¨è¾¾ï¼Œè¿™ä¹Ÿæ˜¯è‡ªå»ºåšå®¢çš„ä¼˜åŠ¿æ‰€åœ¨ï¼Œ hexoä¸­å­˜åœ¨å¤§é‡å®˜æ–¹æä¾› + ä¸ªäººç»´æŠ¤çš„Themes â€‹ å¦‚æœå‡ºç°Hexoå®˜ç½‘çš„Themesæ— æ³•æ­£å¸¸è®¿é—®ï¼Œå¯ä»¥åœ¨githubä¸­æœç´¢hexo-themeï¼ŒåŒæ ·å¯ä»¥çœ‹åˆ°å—æ¬¢è¿çš„hexoä¸»é¢˜ï¼Œæ¯ä¸ªä¸»é¢˜éƒ½ä¼šæœ‰ä½¿ç”¨æ–‡æ¡£ï¼Œåªéœ€è¦ä»”ç»†é˜…è¯»æ–‡æ¡£å¹¶è¿›è¡Œé…ç½®å³å¯ä½¿ç”¨ä¸»é¢˜ï¼Œæ„Ÿè°¢å¼€æºå¤§ä½¬ä»¬ï¼Œåˆ«å¿˜è®°ç»™ä»–ä»¬ä¸€ä¸ªStarã€‚ â€‹ ä¸»é¢˜æ–‡ä»¶éƒ½å­˜åœ¨åœ¨é¡¹ç›®çš„themesæ–‡ä»¶å¤¹ä¸­ï¼Œå¹¶ä¸”éœ€è¦å°†æ ¹ç›®å½•çš„_config.ymlçš„themeså­—æ®µæ”¹ä¸ºä¸»é¢˜åç§°ã€‚ æ’ä»¶åŠŸèƒ½â€‹ è‡ªå»ºåšå®¢çš„è™½ç„¶ä¸å­˜åœ¨åç«¯æœåŠ¡ï¼Œä½†æ˜¯å€ŸåŠ©ç¬¬ä¸‰æ–¹æœåŠ¡ä¾æ—§å¯ä»¥å®ç°äº¤äº’èƒ½åŠ›ï¼Œä¾‹å¦‚è¯„è®ºç³»ç»Ÿï¼Œç»Ÿè®¡ç³»ç»Ÿï¼Œç­‰ç­‰éå¸¸æœ‰è¶£çš„æ’ä»¶ï¼Œå¸¸è§çš„æ’ä»¶ç¬¬ä¸‰æ–¹ä¸»é¢˜çš„READMEä¸­éƒ½ä¼šæœ‰ç›¸å…³ä»‹ç»ï¼Œæœ¬æ–‡å°±ä¸åšè¿‡å¤šèµ˜è¿°äº†ï¼Œå»ºè®®å¤§å®¶çœ‹ä¸“é—¨ä»‹ç»ç›¸å…³å†…å®¹çš„æ–‡ç« ã€‚ å¸¸è§é—®é¢˜ç«™ç‚¹å¾ˆæ…¢â€‹ github Pagesè®¿é—®å¾ˆæ…¢ï¼Œç»å¤§éƒ¨åˆ†åŸå› éƒ½æ˜¯å› ä¸ºJSè„šæœ¬åŠ è½½é˜»å¡é—®é¢˜ï¼Œåœ¨ä¸åŠ ä»»ä½•å¼‚æ­¥å±æ€§çš„æƒ…å†µä¸‹ï¼Œscriptçš„ä¸‹è½½å’Œæ‰§è¡Œéƒ½ä¼šé˜»å¡domçš„æ¸²æŸ“ã€‚ â€‹ ä¾‹å¦‚é¡¹ç›®ä¾èµ–äº†jQueryï¼Œä½†æ˜¯å…¶CDNå› ä¸ºæŸäº›åŸå› åŠ è½½ç¼“æ…¢ç”šè‡³è¶…æ—¶å¤±è´¥ï¼Œéƒ½ä¼šå¯¼è‡´é¡µé¢çš„é•¿æ—¶é—´ç™½å±ï¼Œè¿™ä¼šéå¸¸å½±å“è®¿é—®è€…çš„ç”¨æˆ·ä½“éªŒï¼Œä»¥åŠä½œè€…çš„åˆ›ä½œçƒ­æƒ…ã€‚ â€‹ å¦‚æœå‡ºç°æ­¤ç±»æƒ…å†µï¼Œæˆ‘ä»¬å°±æ‰“å¼€Chrome devToolæŸ¥çœ‹NetWorkä¸­åŠ è½½ç¼“æ…¢çš„è„šæœ¬æ–‡ä»¶ï¼Œç„¶åå¤åˆ¶å…¶åç§°ï¼Œåœ¨hexoæºç ä¸­æ‰¾åˆ°ï¼Œå†ç™¾åº¦æœç´¢å›½å†…çš„é«˜é€ŸCDNæ›¿æ¢æ‰å³å¯ã€‚ï¼ˆæ³¨æ„ä¸è¦ä¿®æ”¹æ‰“åŒ…åä»£ç ï¼‰ ç‚¹å‡»èœå•404â€‹ æœ‰äº›ç¬¬ä¸‰æ–¹ä¸»é¢˜è‡ªå¸¦çš„ä¸€äº›èœå•ç‚¹å‡»å¯èƒ½ä¼šå‡ºç°ç™½å±çš„æƒ…å†µï¼Œè¿™æ˜¯å› ä¸ºæ²¡æœ‰å»ºç«‹æ ‡ç­¾é¡µ æ‰§è¡Œä»¥ä¸‹å‘½ä»¤å»ºç«‹ä¸å­˜åœ¨çš„é¡µé¢å³å¯ï¼Œæ–°å»ºçš„mdå…·ä½“å†…å®¹è¿˜æ˜¯éœ€è¦å‚è€ƒä½¿ç”¨çš„ä¸»é¢˜æ–‡æ¡£ 1hexo new page books // ç¼“å­˜é—®é¢˜â€‹ ä¿®æ”¹äº†ä¸€ç¯‡æ–‡ç« ï¼Œä½†æ˜¯æ‰“åŒ…åˆ°github Pagesä¾æ—§æ²¡æœ‰è¢«åˆ é™¤ï¼Œç±»ä¼¼è¿™æ ·çš„ç¼“å­˜é—®é¢˜æ€ä¹ˆåŠï¼Ÿ â€‹ æˆ‘ä»¬åªéœ€è¦åœ¨æ¯æ¬¡pushåˆ°githubä¹‹å‰æ¸…é™¤hexoç”Ÿæˆçš„ç¼“å­˜æ–‡ä»¶å³å¯ 1hexo clean éƒ¨ç½²æŠ¥é”™æ‰§è¡Œhexo dï¼Œå¾—åˆ°é”™è¯¯ï¼š 12345678910fatal: unable to access &#x27;https://github.com/username/username.github.io/&#x27;: OpenSSL SSL_read: Connection was reset, errno 10054FATAL &#123; err: Error: Spawn failed at ChildProcess.&lt;anonymous&gt; (xxx\\username.github.io\\node_modules\\hexo-util\\lib\\spawn.js:51:21) at ChildProcess.emit (node:events:390:28) at ChildProcess.cp.emit (xxx\\username.github.io\\node_modules\\cross-spawn\\lib\\enoent.js:34:29) at Process.ChildProcess._handle.onexit (node:internal/child_process:290:12) &#123; code: 128 &#125;&#125; Something&#x27;s wrong. Maybe you can find the solution here: %s https://hexo.io/docs/troubleshooting.html â€‹ ç½‘ç»œé—®é¢˜ï¼Œé‡è¯•å³å¯ã€‚ å…¶ä»–é™æ€æ„å»ºå·¥å…·Vuepressâ€‹ Vueå‡ºå“çš„é™æ€ç«™ç‚¹ç”Ÿæˆå·¥å…·ï¼Œç”¨æ¥å†™æ–‡æ¡£éå¸¸ä¸é”™ï¼Œä½†æ˜¯å¦‚æœä½ å¯¹ä¸ªæ€§åŒ–è¦æ±‚è¾ƒé«˜ï¼Œå¯èƒ½ä»–ä¸æ˜¯å¾ˆé€‚åˆä½ ã€‚ jekyllâ€‹ éå¸¸è€ç‰Œçš„é™æ€ç½‘ç«™ç”Ÿæˆå·¥å…·ï¼Œä½¿ç”¨Rubyè¯­è¨€è¿›è¡Œå¼€å‘ï¼Œè¿™å°±æ„å‘³ç€ä½¿ç”¨jekylléœ€è¦å®‰è£…Rubyç¯å¢ƒï¼Œæ®è¯´æ„å»ºé€Ÿåº¦ç›¸å¯¹è¾ƒæ…¢ï¼Œç›¸å¯¹äºHexoæœªå‘ç°æ˜æ˜¾ä¼˜åŠ¿ï¼Œå–œæ¬¢çš„å°ä¼™ä¼´å¯ä»¥è¯•ç”¨ä¸€ä¸‹ã€‚ Hugoâ€‹ åŸºäºGoè¯­è¨€å¼€å‘çš„é™æ€ç½‘ç«™æ„å»ºå·¥å…·ï¼Œä¸è¿‡å®ƒå¹¶ä¸éœ€è¦Goç¯å¢ƒï¼Œå¯¹äºéå‰ç«¯å¼€å‘è€…è¿˜æ˜¯ä¸é”™çš„é€‰æ‹©ï¼Œä»–å·ç§°æ˜¯æœ€å¿«çš„æ„å»ºæ¡†æ¶ï¼›åœ¨æ­å»ºå®Œhexoåæ‰çœ‹åˆ°hugoï¼Œæ„Ÿè§‰æœ‰ç‚¹æ„æ€ï¼Œå–œæ¬¢æŠ˜è…¾çš„æœ‹å‹å¯ä»¥è¯•ç”¨ä¸€ä¸‹ï¼Œç›®å‰æ‹¥æœ‰59.8kçš„Starï¼Œæ˜¯é™æ€æ„å»ºå·¥å…·ä¸­æœ€å—æ¬¢è¿çš„é¡¹ç›®ã€‚ ç»“è¯­â€‹ æ­å»ºå¥½github Pageså¹¶ä¸æ˜¯ä¸€ä»¶å¾ˆå›°éš¾çš„äº‹æƒ…ï¼Œä½†æ˜¯ä¿æŒè¾“å‡ºä¹ æƒ¯å´æ˜¯ä¸€ä»¶æœ‰éš¾åº¦çš„äº‹æƒ…ï¼Œé€šè¿‡è¿™ç¯‡æ–‡ç« æˆåŠŸæ­å»ºèµ·äº†ä¸ªäººåšå®¢ï¼Œéå¸¸æ­å–œï¼Œä½ å®Œæˆäº†ä¸‡é‡Œé•¿å¾éå¸¸é‡è¦çš„ç¬¬ä¸€æ­¥ï¼Œå¸Œæœ›ä½ å¯ä»¥åšæŒè¾“å‡ºï¼Œä»å°çš„çŸ¥è¯†ç‚¹å¼€å§‹åšèµ·ï¼Œä¿æŒå¯¹å¯è¾“å‡ºç‚¹çš„æ•æ„Ÿå—…è§‰ï¼Œå¹¶å°†å…¶è¾“å‡ºï¼Œé€æ¸æ­å»ºèµ·è‡ªå·±çš„çŸ¥è¯†åº“ï¼Œè¿™å¯¹çŸ¥è¯†ç§¯ç´¯ï¼Œå°†æ¥è·³æ§½ä¹Ÿæœ‰å¾ˆå¤§çš„å¸®åŠ©ã€‚ â€‹ å¦‚æœä¸€ä¸ªæ­£åœ¨è¢«ä½¿ç”¨çš„æŠ€æœ¯æ–¹æ¡ˆå½“äº‹äººå´æ— æ³•æ•™ä¼šåˆ«äººï¼Œè¿™ä¾¿ä¸ç®—å®Œå…¨æŒæ¡ï¼Œæµ…å°è¾„æ­¢æ˜¯æŠ€æœ¯å²—ä½çš„å¤§å¿Œã€‚åœ¨è¾“å‡ºçš„è¿‡ç¨‹ä¸­ï¼Œä¹Ÿæ˜¯é‡æ–°æ¢³ç†çš„è¿‡ç¨‹ï¼Œåœ¨è¿‡ç¨‹ä¸­ä¼šå‘ç°ä¸€äº›å¼€å‘ä¸­æœªæ³¨æ„åˆ°æ½œåœ¨é—®é¢˜ï¼Œé€»è¾‘æ¼æ´ï¼Œè€Œä¸ºäº†å®Œæˆè¾“å‡ºï¼Œä¾¿ä¼šè‡ªæˆ‘é©±åŠ¨è§£å†³é‡åˆ°çš„é—®é¢˜ï¼› â€‹ ç”¨è¾“å…¥é©±åŠ¨è¾“å‡ºï¼Œç”¨è¾“å‡ºå€’é€¼è¾“å…¥ï¼Œå°†å¤æ‚çš„çŸ¥è¯†é€šè¿‡ç®€å•å¹³å®çš„è¯è¯´å‡ºæ¥ï¼Œå¹¶æ•™ä¼šåˆ«äººï¼Œæ‰æ˜¯å®Œå…¨æŒæ¡ï¼Œè¿™ä¹Ÿæ˜¯è¾“å‡ºçš„æ„ä¹‰ï¼Œè¿™ä¹Ÿæ˜¯ä¸ªäººåšå®¢çš„æ„ä¹‰ã€‚ â€‹","categories":[{"name":"JavaScript-2022","slug":"JavaScript-2022","permalink":"https://vkcyan.github.io/categories/JavaScript-2022/"}],"tags":[{"name":"Hexo","slug":"Hexo","permalink":"https://vkcyan.github.io/tags/Hexo/"},{"name":"ä¸ªäººåšå®¢","slug":"ä¸ªäººåšå®¢","permalink":"https://vkcyan.github.io/tags/%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/"}]},{"title":"å…³äºæ¶ˆè´¹é™çº§","slug":"éšæƒ³/å…³äºæ¶ˆè´¹é™çº§","date":"2022-06-27T16:00:00.000Z","updated":"2022-12-11T13:51:24.096Z","comments":true,"path":"2022/06/28/éšæƒ³/å…³äºæ¶ˆè´¹é™çº§/","link":"","permalink":"https://vkcyan.github.io/2022/06/28/%E9%9A%8F%E6%83%B3/%E5%85%B3%E4%BA%8E%E6%B6%88%E8%B4%B9%E9%99%8D%E7%BA%A7/","excerpt":"","text":"å½“æˆ‘ä»¬ä¹°ä¸œè¥¿çš„æ—¶å€™ï¼Œæˆ‘ä»¬æ”¯ä»˜çš„ä¸æ˜¯é’±ã€‚ æˆ‘ä»¬æ”¯ä»˜çš„æ˜¯æˆ‘ä»¬ç”Ÿå‘½ä¸­ï¼Œå»æŒ£è¿™ç¬”é’±æ‰€èŠ±æ‰çš„æ—¶é—´ã€‚ åœ¨æˆ‘ä»¬åˆ›é€ çš„æ¶ˆè´¹æ€§ç¤¾ä¼šï¼Œå®ƒè¿˜ä¼šæŒç»­ä¸æ–­çš„å¢é•¿ã€‚ æ¯å½“æ— æ³•å¢é•¿çš„æ—¶å€™ï¼Œå˜æˆäº†æ‚²å‰§ã€‚ æˆ‘ä»¬ä¸ºè‡ªå·±é€ äº†ä¸€åº§åå«ã€éœ€æ±‚è¿‡å‰©ã€‘çš„å¤§å±±ã€‚ ä½ å¾—ä¸åœçš„è´­ä¹°ç„¶åæŠ›å¼ƒï¼Œåœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œä½ å´ä¹°ä¸æ¥ç”Ÿå‘½ï¼Œç”Ÿå‘½åªä¼šé€å»ã€‚ æµªè´¹ç”Ÿå‘½ï¼Œå¤±å»è‡ªç”±æ˜¯éå¸¸ç³Ÿç³•çš„ è¦æ‡‚å¾—çŸ¥è¶³ï¼Œä¸è¦ç»™è‡ªå·±è¿‡é‡çš„è´Ÿæ‹…ï¼Œä¿æŒå†…å¿ƒçš„å¹¸ç¦ï¼Œå¦åˆ™ä½ å°†ä¸€äº‹æ— æˆã€‚ å‡ºè‡ªã€Šäººç±»Humanã€‹ï¼ˆ2015ï¼‰","categories":[{"name":"æ‚è°ˆ","slug":"æ‚è°ˆ","permalink":"https://vkcyan.github.io/categories/%E6%9D%82%E8%B0%88/"}],"tags":[{"name":"ä»·å€¼è§‚","slug":"ä»·å€¼è§‚","permalink":"https://vkcyan.github.io/tags/%E4%BB%B7%E5%80%BC%E8%A7%82/"}]},{"title":"ç§»åŠ¨ç«¯å…¼å®¹æ€§é‚£äº›äº‹å„¿","slug":"æŠ€æœ¯æ–‡ç« /ç§»åŠ¨ç«¯å…¼å®¹æ€§é‚£äº›äº‹å„¿","date":"2022-06-23T16:00:00.000Z","updated":"2022-12-11T13:51:24.089Z","comments":true,"path":"2022/06/24/æŠ€æœ¯æ–‡ç« /ç§»åŠ¨ç«¯å…¼å®¹æ€§é‚£äº›äº‹å„¿/","link":"","permalink":"https://vkcyan.github.io/2022/06/24/%E6%8A%80%E6%9C%AF%E6%96%87%E7%AB%A0/%E7%A7%BB%E5%8A%A8%E7%AB%AF%E5%85%BC%E5%AE%B9%E6%80%A7%E9%82%A3%E4%BA%9B%E4%BA%8B%E5%84%BF/","excerpt":"","text":"ä½ç‰ˆæœ¬IOSç³»ç»ŸPromiseä¸å­˜åœ¨finallyäº‹ä»¶â€‹ è¿™æ˜¯å‡ å¹´å‰ç”Ÿäº§ç¯å¢ƒå‘ç”Ÿçš„é—®é¢˜ï¼Œé€šè¿‡é”™è¯¯ç›‘æ§çœ‹åˆ°äº†è¯¥é”™è¯¯ï¼Œå¹¶ä¸”é›†ä¸­å‡ºç°åœ¨ios10.0.xç‰ˆæœ¬ä¸­ï¼Œå‡ºç°äº†ï¼Œç½‘ä¸Šä¹Ÿæœ‰å¼€å‘è€…é‡åˆ°äº†IOS 10 Promiseä¸å­˜åœ¨é—®é¢˜ï¼Œæˆ‘ä»¬æ²¡é‡åˆ°è¯¥æƒ…å†µï¼Œå¦‚æœPromiseå¯¹è±¡ä¸å­˜åœ¨ï¼Œåˆ™å¼•å…¥Promiseçš„polyfillï¼Œå¦‚æœä»…ä»…æ˜¯finallyå‡½æ•°ä¸å­˜åœ¨åˆ™åªéœ€è¦æ‰‹åŠ¨è¡¥å……å³å¯ 12345678910Promise.prototype.finally = function (callback: any) &#123; let P = this.constructor return this.then( (value) =&gt; P.resolve(callback()).then(() =&gt; value), (reason) =&gt; P.resolve(callback()).then(() =&gt; &#123; throw reason &#125;) ) &#125; IOSæ—¶é—´æˆ³å…¼å®¹æ€§é—®é¢˜â€‹ åœ¨iosæ— æ³•è§£æä½¿ç”¨-åˆ†å‰²çš„æ—¶é—´å­—ç¬¦ä¸² 123new Date(&#x27;2022-6-27 12:00:00&#x27;).getTime() // Android æ­£å¸¸è·å– IOS NaNnew Date(&#x27;2022/6/27 12:00:00&#x27;).getTime() // å‡æ­£å¸¸new Date(1656302400000) // å‡æ­£å¸¸ â€‹ åœ¨ç§»åŠ¨ç«¯å¼€å‘ä¸­å»ºè®®ç»Ÿä¸€é‡‡ç”¨æ—¶é—´æˆ³è®°å½•æ—¶é—´ï¼Œå…·ä½“æ ¼å¼äº¤ç»™æ—¶é—´å¤„ç†å‡½æ•°å³å¯ã€‚ ç§»åŠ¨ç«¯1pxé—®é¢˜ç‚¹å‡»äº‹ä»¶300mså»¶æ—¶é—®é¢˜â€‹ å› ä¸ºå†å²åŸå› ï¼Œç§»åŠ¨æµè§ˆå™¨ä¼šåœ¨touchå’Œclickäº‹ä»¶ä¹‹é—´å¢åŠ 300msç­‰å¾…æ—¶é—´ï¼Œæ¥åˆ¤æ–­ç”¨æˆ·æ˜¯å¦ä¼šè¿›è¡ŒåŒå‡»æ‰‹åŠ¿æ¥ç¼©æ”¾é¡µé¢ï¼Œè‡ªç„¶è¯¥ç‰¹æ€§ä¹Ÿä¼šå½±å“åˆ°å•å‡»äº‹ä»¶ï¼Œåæ¥åœ¨Chromeå›¢é˜Ÿçš„æ¨åŠ¨ä¸‹ï¼Œè¯¥é—®é¢˜é€æ¸æœ‰äº†æ¸…æ™°çš„è§£å†³æ–¹æ¡ˆ 1&lt;meta name=&quot;viewport&quot; content=&quot;width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no&quot; /&gt; // çª—å£è‡ªåŠ¨è°ƒæ•´åˆ°è®¾å¤‡å®½åº¦ï¼Œå¹¶ç¦æ­¢ç”¨æˆ·ç¼©æ”¾é¡µé¢ â€‹ éšç€å“åº”å¼è®¾è®¡çš„é€æ­¥æ¨è¿›ï¼Œå¼€å‘è€…ä»¬å·²ç»æ ¹æ®è®¾å¤‡æœ¬èº«çš„å°ºå¯¸å¯¹ç«™ç‚¹è¿›è¡Œäº†ä¼˜åŒ–ï¼Œä¹Ÿå°±é€æ¸æ·˜æ±°äº†è¯¸å¦‚åŒå‡»ç¼©æ”¾çš„çº¦å®šã€‚ ç§»åŠ¨ç«¯é•¿æŒ‰è¯†åˆ«äºŒç»´ç æ— æ•ˆâ€‹ æœ‰äº›ç§»åŠ¨ç«¯å¼€å‘è€…åœ¨ä½¿ç”¨ç±»ä¼¼uniappè¿™æ ·çš„æ¡†æ¶åœ¨å¼€å‘H5åº”ç”¨ä¸­çš„ï¼Œé•¿æŒ‰è¯†åˆ«äºŒç»´ç çš„æ—¶å€™ä¼šå‡ºç°ä¸è§¦å‘è¯†åˆ«çš„æƒ…å†µï¼Œè¿™æ˜¯å› ä¸ºï¼Œé•¿æŒ‰è¯†åˆ«å›¾ç‰‡ä¿¡æ¯ä»…ä»…åœ¨imgæ ‡ç­¾ç”Ÿæ•ˆï¼Œæ‰€ä»¥åªéœ€è¦ä½¿ç”¨åŸç”Ÿimgæ ‡ç­¾å³å¯ã€‚ å¾®ä¿¡å°ç¨‹åºæŒ‰é’®è¾¹æ¡†æ— æ³•è¦†ç›–é—®é¢˜â€‹ éå¸¸å¸¸è§çš„é—®é¢˜ï¼Œbuttonçš„è¾¹æ¡†æ— æ³•è¢«cssä¸­çš„borderæ­£å¸¸è¦†ç›–æ‰ï¼Œé‚£æ˜¯å› ä¸ºè‡ªå¸¦çš„è¾¹æ¡†æ˜¯é€šè¿‡ä¼ªç±»å®ç°çš„ 123button::after&#123; border: none;&#125; IOS inputæ ‡ç­¾typeä¸ºsearchæ—¶å€™å³è¾¹æœ‰æ”¾å¤§é•œâ€‹ åœ¨iosä¸­inputçš„typeå€¼ä¸ºsearchçš„æ—¶å€™ï¼Œä¼šè‡ªå¸¦ä¸€ä¸ªæœç´¢iconï¼Œè€Œå®‰å“åˆ™æ²¡æœ‰æ­¤iconï¼Œä¸ºäº†ä¿è¯ä¸€è‡´æ€§ï¼Œæˆ‘ä»¬éœ€è¦åˆ é™¤iosè‡ªå¸¦çš„æœç´¢icon 12input[type=&quot;search&quot;]&#123;-webkit-appearance:none;&#125; input::-webkit-search-cancel-button &#123;display: none;&#125; å…¬ä¼—å·ç™»å½•è·¯ç”±æ ˆæ— æ³•å»é™¤é—®é¢˜IOSç³»ç»Ÿå¾®ä¿¡å…¬ä¼—å·locationè·³è½¬åï¼Œå›é€€é¡µé¢ä¸åˆ·æ–°Vue2.x æŠ¥é”™Cannot read property â€˜_wrapperâ€™ of undefinedâ€‹ è¿™ä¸ªé”™è¯¯åŸåˆ™ä¸Šä¹Ÿä¸ç®—ç§»åŠ¨ç«¯é”™è¯¯äº†ï¼Œä½†æ˜¯è¿™ä¸ªæŠ¥é”™ä¿¡æ¯ç¡®å®ä¼šè®©äººæ‘¸ä¸ç€å¤´è„‘ï¼Œå †æ ˆä¿¡æ¯ä¹Ÿæ— æ³•æ˜ç¡®çœ‹åˆ°å…·ä½“æŠ¥é”™ä½ç½®ï¼Œä½†æ˜¯å‡ºç°è¿™ä¸ªé”™è¯¯å…«æˆæ˜¯å› ä¸º@clickäº‹ä»¶åœ¨methodsä¸­æœªå®šä¹‰ vue2.x æ’åºkeyå€¼é—®é¢˜å¦‚æœJSON.stringifyè¿›è¡Œæ·±æ‹·è´æ—¶ï¼Œä¸€äº›å¼•ç”¨ç±»å‹çš„å¼‚å¸¸æƒ…å†µã€‚replaceAllå…¼å®¹é—®é¢˜uniappv3ç‰ˆæœ¬å¼€å‘å°ç¨‹åº textareaäº‹ä»¶ç»‘å®šé”™ä¹±","categories":[{"name":"æ—¥å¸¸å¼€å‘","slug":"æ—¥å¸¸å¼€å‘","permalink":"https://vkcyan.github.io/categories/%E6%97%A5%E5%B8%B8%E5%BC%80%E5%8F%91/"}],"tags":[{"name":"ç§»åŠ¨ç«¯","slug":"ç§»åŠ¨ç«¯","permalink":"https://vkcyan.github.io/tags/%E7%A7%BB%E5%8A%A8%E7%AB%AF/"},{"name":"å…¼å®¹æ€§","slug":"å…¼å®¹æ€§","permalink":"https://vkcyan.github.io/tags/%E5%85%BC%E5%AE%B9%E6%80%A7/"}]},{"title":"JavaScriptè®¾è®¡æ¨¡å¼","slug":"è®¾è®¡æ¨¡å¼/JavaScriptè®¾è®¡æ¨¡å¼","date":"2022-06-17T16:00:00.000Z","updated":"2022-12-11T13:51:24.096Z","comments":true,"path":"2022/06/18/è®¾è®¡æ¨¡å¼/JavaScriptè®¾è®¡æ¨¡å¼/","link":"","permalink":"https://vkcyan.github.io/2022/06/18/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/JavaScript%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/","excerpt":"","text":"JavaScriptè®¾è®¡æ¨¡å¼åŸºç¡€JavaScriptæ˜¯ä¸€é—¨ç»å…¸åŠ¨æ€ç±»å‹è¯­è¨€ï¼Œå¯¹å˜é‡ç±»å‹çš„å®½å®¹ç»™å®é™…ç¼–ç å¸¦æ¥äº†å¾ˆå¤§çµæ´»æ€§ã€‚ç”±äºæ— éœ€è¿›è¡Œç±»å‹æ£€æµ‹ï¼Œæˆ‘ä»¬å¯èƒ½å°è¯•è°ƒç”¨å¯¹è±¡çš„ä»»ä½•æ–¹æ³•ï¼Œè€Œæ— éœ€å»è€ƒè™‘å®ƒåŸæœ¬æ˜¯å¦è¢«è®¾è®¡æ‹¥æœ‰è¯¥æ–¹æ³•ã€‚ â€‹ è¿™ä¸€åˆ‡éƒ½å»ºç«‹åœ¨é¸­å­ç±»å‹çš„æ¦‚å¿µä¸Šï¼Œé¸­å­ç±»å‹ï¼šå¦‚æœå®ƒèµ°èµ·è·¯æ¥åƒé¸­å­ï¼Œå«èµ·æ¥åƒé¸­å­ï¼Œé‚£ä»–å°±æ˜¯é¸­å­ â€‹ åˆ©ç”¨é¸­å­ç±»å‹ï¼Œæˆ‘ä»¬å°±ä¸å¿…å€ŸåŠ©ç±»å‹çš„å¸®åŠ©ï¼Œå®ç°ä¸€ä¸ªåŠ¨æ€è¯­è¨€ä¸“æœ‰åŸåˆ™ï¼šé¢å‘æ¥å£ç¼–ç¨‹ï¼Œè€Œä¸æ˜¯é¢å‘å®ç°å˜æˆï¼Œä¾‹å¦‚ä¸€ä¸ªå¯¹è±¡ï¼Œå…·å¤‡lengthå±æ€§ï¼Œé‚£æˆ‘ä»¬å°±å¯ä»¥å°†å…¶è§†ä¸ºæ•°ç»„ï¼Œè€Œä¸éœ€è¦å…³å¿ƒå®ƒçš„å®é™…ç±»å‹ã€‚ å¤šæ€â€‹ åŒä¸€ä¸ªæ“ä½œä½œç”¨äºä¸åŒçš„å¯¹è±¡ä¸Šé¢ï¼Œå¯ä»¥äº§ç”Ÿä¸åŒçš„è§£é‡Šå’Œä¸åŒçš„æ‰§è¡Œç»“æœ â€‹ ä¾‹å¦‚ï¼šå°ç‹—æ±ªæ±ªå« å°çŒ«å–µå–µå« ä»–ä»¬éƒ½æ˜¯åŠ¨ç‰©ï¼Œéƒ½ä¼šå‘ç”Ÿï¼Œä½†æ˜¯å„è‡ªå‘å‡ºçš„å£°éŸ³å¹¶ä¸ä¸€æ · â€‹ å…¶èƒŒåçš„æ€æƒ³æ˜¯å°†â€œåšä»€ä¹ˆâ€äºâ€œè°å»åšä»¥åŠæ€ä¹ˆæ ·â€åˆ†ç¦»å¼€æ¥ï¼Œä¹Ÿå°±æ˜¯å°†â€œä¸å˜çš„äº‹ç‰©â€äºâ€œå˜åŒ–çš„äº‹ç‰©â€åˆ†ç¦»å¼€æ¥ã€‚è¿™ç»™äºˆäº†æˆ‘ä»¬æ‹“å±•ç¨‹åºçš„èƒ½åŠ›ï¼Œç¨‹åºçœ‹èµ·æ¥æ˜¯å¯ç”Ÿé•¿çš„ï¼Œä¹Ÿæ˜¯ç¬¦åˆå¼€æ”¾å°é—­åŸåˆ™çš„ï¼Œç›¸å¯¹äºä¿®æ”¹ä»£ç ï¼Œå¢åŠ ä»£ç æ˜¾ç„¶ä¼˜é›…å®‰å…¨çš„å¤šã€‚ 12345678910111213141516function sound(animal) &#123; animal.sound();&#125;var Dog = function () &#123;&#125;;Dog.prototype.sound = () =&gt; &#123; console.log(&quot;æ±ªæ±ªæ±ª&quot;);&#125;;var Cat = function () &#123;&#125;;Cat.prototype.sound = () =&gt; &#123; console.log(&quot;å–µå–µå–µ&quot;);&#125;;new Dog().sound()new Cat().sound() å¦‚æœæ˜¯å¼ºç±»å‹è¯­è¨€å°±éœ€è¦å€ŸåŠ©ç»§æ‰¿æ¥å®ç°å‘ä¸Šè½¬å‹ï¼Œä»ç‹—å¯ä»¥å‘å‡ºå«å£°è½¬å˜ä¸ºåŠ¨ç‰©å¯ä»¥å‘å‡ºå«å£°ï¼Œä»è€Œé¿å…æˆ‘ä»¬æŒ‡å®šäº†å‘å‡ºå£°éŸ³å¯¹è±¡æ˜¯æŸä¸€ä¸ªç±»å‹ï¼Œä»–å°±ä¸å¯èƒ½è¢«æ›¿æ¢æˆä¸ºå¦ä¸€ä¸ªç±»å‹ã€‚ â€‹ å¤šæ€æœ€æ ¹æœ¬çš„ä½œç”¨å°±æ˜¯é€šè¿‡æŠŠè¿‡ç¨‹åŒ–çš„æ¡ä»¶åˆ†æ”¯è¯­å¥è½¬åŒ–ä¸ºå¯¹è±¡çš„å¤šæ€æ€§ï¼Œä»è€Œæ¶ˆé™¤è¿™äº›æ¡ä»¶åˆ†æ”¯è¯­å¥ã€‚ å°è£…å°è£…çš„ç›®çš„æ˜¯å°†ä¿¡æ¯éšè—ï¼Œå°è£…åº”è¯¥è¢«è§†ä¸ºâ€œä»»ä½•å½¢å¼çš„å°è£…â€ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå°è£…ä¸ä»…ä»…æ˜¯éšè—æ•°æ®ï¼Œè¿˜åŒ…æ‹¬éšè—å®ç°ç»†èŠ‚ï¼Œè®¾è®¡ç»†èŠ‚ä»¥åŠéšè—å¯¹è±¡çš„ç±»å‹ã€‚ åŸå‹ç¼–ç¨‹JavaScriptæœ¬èº«å°±æ˜¯åŸºäºåŸå‹çš„é¢å‘å¯¹è±¡è¯­è¨€ï¼Œå®ƒçš„å¯¹è±¡ç³»ç»Ÿå°±æ˜¯ä½¿ç”¨åŸå‹æ¨¡å¼æ¥æ­å»ºçš„ï¼Œåœ¨è¿™é‡Œç§°ä¹‹ä¸ºåŸå‹ç¼–ç¨‹èŒƒå‹ä¸šåŠ¡æ›´åŠ åˆé€‚ã€‚ â€‹ åœ¨JavaScriptä¸­ä¸å­˜åœ¨ç±»çš„æ¦‚å¿µï¼Œå¯¹è±¡ä¹Ÿå¹¶éä»ç±»ä¸­åˆ›å»ºå‡ºæ¥ï¼Œæ‰€æœ‰çš„JavaScriptå¯¹è±¡éƒ½æ˜¯ä»æŸä¸ªå¯¹è±¡ä¸Šå¤åˆ¶å‡ºæ¥çš„ã€‚ â€‹ åŸå‹ç¼–ç¨‹å­˜åœ¨ä¸€ä¸ªé‡è¦ç‰¹æ€§ï¼Œå³å½“å¯¹è±¡æ— æ³•å“åº”æŸä¸ªè¯·æ±‚çš„æ—¶å€™ï¼Œå°±ä¼šæŠŠè¯¥è¯·æ±‚å§”æ‰˜ç»™è‡ªå·±çš„åŸå‹ï¼›è¿™é‡Œæ›´å¥½çš„è¯´æ³•æ˜¯æŠŠè¯·æ±‚å§”æ‰˜ç»™å®ƒçš„æ„é€ å™¨çš„åŸå‹ â€‹ åœ¨JavaScriptä¸­ï¼Œä¸€ä¸ªfunctionå¹¶ä¸ä¸€å®šä»…ä»…æ˜¯ä¸€ä¸ªæ™®é€šå‡½æ•°ï¼Œä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªå‡½æ•°æ„é€ å™¨ï¼Œå½“ä½¿ç”¨newè¿ç®—ç¬¦æ¥è°ƒç”¨å‡½æ•°çš„æ—¶å€™ï¼Œæ­¤æ—¶å‡½æ•°å°±æ˜¯ä¸€ä¸ªæ„é€ å™¨ã€‚ä½¿ç”¨newè¿ç®—ç¬¦æ¥åˆ›å»ºå¯¹è±¡çš„è¿‡ç¨‹ï¼Œå®é™…ä¸Šä¹Ÿåªæ˜¯å…ˆå…‹éš†Object.prototypeï¼Œå†è¿›è¡Œä¸€äº›å…¶ä»–é¢å¤–æ“ä½œçš„è¿‡ç¨‹ã€‚ åŸå‹é“¾æŸ¥æ‰¾å¯¹è±¡çš„è¿‡ç¨‹12345678var A = function () &#123;&#125;;A.prototype = &#123; name: &quot;sven&quot; &#125;;var B = function () &#123;&#125;;B.prototype = new A();var b = new B();console.log(b.name); é¦–å…ˆå°è¯•éå†å¯¹è±¡bä¸­çš„æ‰€æœ‰å±æ€§ï¼Œä½†æ˜¯æ²¡æœ‰æ‰¾åˆ°nameè¿™ä¸ªå±æ€§ æŸ¥æ‰¾nameå±æ€§çš„è¯·æ±‚è¢«å§”æ‰˜åˆ°å¯¹è±¡bçš„æ„é€ å™¨åŸå‹ï¼Œå®ƒè¢«b._proto_è®°å½•å¹¶æŒ‡å‘B.prototypeï¼Œè€ŒB.prototypeåˆç›´çº¿new A()åˆ›å»ºçš„å¯¹è±¡ å†è¯¥å¯¹è±¡ä¸­ä¾æ—§æ²¡æœ‰æ‰¾åˆ°nameå±æ€§ï¼Œäºæ˜¯è¯·æ±‚åˆè¢«å§”æ‰˜åˆ°è¿™ä¸ªå¯¹è±¡çš„æ„é€ å™¨çš„åŸå‹A.prototype åœ¨A.prototypeä¸­æ‰¾åˆ°äº†nameå±æ€§ï¼Œè¿”å›å€¼ é—­åŒ…é—­åŒ…æ¡ˆä¾‹123456789101112var func = function () &#123; var a = 1; return function () &#123; a++; alert(a); &#125;;&#125;;var ff = func();ff();ff();ff(); â€‹ å±€éƒ¨å˜é‡åœ¨å‡½æ•°æ‰§è¡Œç»“æŸåå°†ä¼šè¢«é”€æ¯ï¼Œä½†æ˜¯ä»¥ä¸Šçš„ä¾‹å­ä¸­ï¼Œå±€éƒ¨å˜é‡aå¹¶æ²¡æœ‰æ¶ˆå¤±ï¼Œè€Œæ˜¯ä¼¼ä¹ä¸€ç›´åœ¨æŸä¸ªåœ°æ–¹å­˜æ´»ç€ã€‚è¿™æ˜¯å› ä¸ºå½“æ‰§è¡Œfuncçš„æ—¶å€™ï¼Œfuncè¿”å›äº†ä¸€ä¸ªåŒ¿åå‡½æ•°çš„å¼•ç”¨ï¼Œå®ƒå¯ä»¥è®¿é—®åˆ°funcè¢«è°ƒç”¨æ—¶äº§ç”Ÿçš„ç¯å¢ƒï¼Œè€Œå±€éƒ¨å˜é‡æ‰€åœ¨çš„ç¯å¢ƒä¸€ç›´å¤„äºè¿™ä¸ªç¯å¢ƒä¸­ã€‚æ—¢ç„¶å±€éƒ¨å˜é‡æ‰€å¤„çš„ç¯å¢ƒè¿˜èƒ½è¢«å¤–ç•Œè®¿é—®ï¼Œè¿™ä¸ªå±€éƒ¨å˜é‡å°±æœ‰äº†ä¸è¢«é”€æ¯çš„ç†ç”±ï¼›åœ¨è¿™æ ·çš„é—­åŒ…ç»“æ„ä¸­ï¼Œå±€éƒ¨å˜é‡å®ç°äº†ç”Ÿå‘½çš„å»¶ç»­ã€‚ é—­åŒ…ä¸é¢å‘å¯¹è±¡è¿‡ç¨‹ä¸æ•°æ®çš„ç»“åˆæ˜¯å½¢å®¹é¢å‘å¯¹è±¡ä¸­çš„å¯¹è±¡æ—¶å¸¸ç”¨çš„è¡¨è¾¾ å¯¹è±¡ä»¥æ–¹æ³•çš„å½¢å¼åŒ…å«äº†è¿‡ç¨‹ï¼Œè€Œé—­åŒ…åˆ™æ˜¯åœ¨è¿‡ç¨‹ä¸­ä»¥ç¯å¢ƒçš„å½¢å¼åŒ…å«äº†æ•°æ® é€šå¸¸ç”¨é¢å‘å¯¹è±¡å®ç°çš„åŠŸèƒ½ï¼Œç”¨é—­åŒ…ä¹Ÿèƒ½å®ç°ï¼Œåä¹‹äº¦ç„¶ã€‚ é—­åŒ…ç‰ˆæœ¬ 1234567891011121314var app = function () &#123; var value = 0; return &#123; call: function () &#123; value++; console.log(value); &#125;, &#125;;&#125;;var App = app();App.call(); // 1App.call(); // 2App.call(); // 3 å¯¹è±¡ç‰ˆæœ¬1234567891011var app = &#123; value: 0, call: function () &#123; this.value++; console.log(this.value); &#125;,&#125;;app.call(); // 1app.call(); // 2app.call(); // 3 ç±»ç‰ˆæœ¬12345678910111213var App = function () &#123; this.value = 0;&#125;;App.prototype.call = function () &#123; this.value++; console.log(this.value);&#125;;var app = new App();app.call(); // 1app.call(); // 2app.call(); // 3 é«˜é˜¶å‡½æ•°é«˜é˜¶å‡½æ•°æ˜¯æŒ‡æœ€å°‘æ»¡è¶³ä¸‹åˆ—æ¡ä»¶ä¹‹ä¸€çš„å‡½æ•° å‡½æ•°å¯ä»¥ä½œä¸ºå‚æ•°è¢«ä¼ é€’ å‡½æ•°å¯ä»¥ä½œä¸ºè¿”å›å€¼è¾“å‡º â€‹ JavaScriptè¯­è¨€çš„å‡½æ•°æ˜¾ç„¶æ»¡è¶³é«˜é˜¶å‡½æ•°ï¼Œåœ¨å®é™…å¼€å‘ä¸­å°†å‡½æ•°ä½œä¸ºå‚æ•°è¿›è¡Œä¼ é€’ï¼Œè®©å‡½æ•°çš„æ‰§è¡Œç»“æœè¿”å›ä¸€ä¸ªå¦ä¸€ä¸ªå‡½æ•°éƒ½æ˜¯éå¸¸æ™®éçš„æƒ…å†µï¼Œä¾‹å¦‚å‡½æ•°æ‰§è¡Œçš„callbackå‡½æ•°ã€‚ â€‹ é€šè¿‡é«˜é˜¶ç‰¹æ€§ï¼Œæˆ‘ä»¬å¯ä»¥å®ç°AOPï¼Œä¹Ÿå°±æ˜¯é¢å‘åˆ‡é¢ç¼–ç¨‹ 1234567891011121314151617181920212223242526272829303132// é¢å‘åˆ‡é¢ç¼–ç¨‹Function.prototype.before = function (beforeFn) &#123; console.log(&quot;before&quot;); var _self = this; return function () &#123; beforeFn.apply(this, arguments); // æ‰§è¡Œbeforeæœ¬èº« return _self.apply(this, arguments); // è¿”å›å‡½æ•°æœ¬èº« &#125;;&#125;;Function.prototype.after = function (afterFn) &#123; console.log(&quot;after&quot;); var _self = this; return function () &#123; var ret = _self.apply(this, arguments); // å…ˆæ‰§è¡Œbefore afterFn.apply(this, arguments); // æœ€åæ‰§è¡Œafter return ret; &#125;;&#125;;var func = function () &#123; console.log(2);&#125;;func = func .before(function () &#123; console.log(1);&#125;) .after(function () &#123; console.log(3);&#125;);func(); é¦–å…ˆæ‰§è¡Œbeforeï¼Œæ‰“å°â€˜beforeâ€™ï¼Œç„¶åæ‰§è¡Œafterï¼Œæ‰“å°â€˜afterâ€™ æ‰§è¡Œfunc()ï¼Œå¼€å§‹æ‰§è¡Œafterï¼Œè¿›å…¥afteré—­åŒ…ä¸­ï¼Œç„¶åæ‰§è¡Œretï¼Œè¿›å…¥before beforeä¸­é¦–å…ˆæ‰§è¡Œäº†è‡ªå·±beforeFnï¼Œæ‰“å°â€˜1â€™ï¼Œç„¶åæ‰§è¡Œfuncæœ¬èº«ï¼Œæ‰“å°â€˜2â€™ï¼Œå¹¶è¿”å›æœ¬èº« retæ‰§è¡Œç»“æŸï¼Œå¼€å§‹æ‰§è¡ŒafterFnï¼Œæ‰“å°â€˜3â€™ï¼Œè¿”å›funcæœ¬èº« é«˜é˜¶åº”ç”¨ - å‡½æ•°æŸ¯é‡ŒåŒ–â€‹ æŸ¯é‡ŒåŒ–åˆè¢«ç§°ä¸ºéƒ¨åˆ†æ±‚å€¼ï¼Œä¸€ä¸ªæŸ¯é‡ŒåŒ–å‡½æ•°é¦–å…ˆä¼šæ¥å—ä¸€äº›å‚æ•°ï¼Œæ¥æ”¶å‚æ•°åä¸ä¼šç«‹åˆ»æ±‚èŒè€Œæ˜¯ç»§ç»­è¿”å›å½“å‰å‡½æ•°ï¼Œä¹‹å‰ä¼ å…¥çš„å€¼åœ¨å‡½æ•°å½¢æˆçš„é—­åŒ…ç§è¢«ä¿å­˜äº†èµ·æ¥ã€‚å¾…å‡½æ•°çœŸæ­£éœ€è¦æ±‚å€¼çš„æ—¶å€™ï¼Œä¹‹å‰ä¼ å…¥çš„æ‰€æœ‰å‚æ•°éƒ½ä¼šè¢«ä¸€æ¬¡æ€§æ±‚å€¼ã€‚ â€‹ ä¾‹å¦‚å®ç°ä¸€ä¸ªè®¡ç®—æ¯ä¸ªæœˆèŠ±è´¹å¤šå°‘é’±çš„å‡½æ•°ï¼Œä½†æ˜¯åœ¨å®ç°ä¸­ï¼Œæˆ‘ä»¬å¹¶ä¸å…³å¿ƒå—ï¼Œæ¯å¤©èŠ±è´¹äº†å¤šå°‘ï¼Œåªæƒ³çŸ¥é“æœˆåº•èŠ±æ‰äº†å¤šå°‘ï¼Œå®é™…ä¸Šåªéœ€è¦è®¡ç®—ä¸€æ¬¡ 12345678910111213141516171819202122232425262728function currying(fn) &#123; var args = []; return function () &#123; if (arguments.length == 0) &#123; var res = fn.apply(this, args); args = []; return res; &#125; else &#123; [].push.apply(args, arguments); return arguments.callee; // å½“å‰æ­£åœ¨æ‰§è¡Œçš„å‡½æ•° &#125; &#125;;&#125;var cost = (function () &#123; var money = 0; return function () &#123; for (var i = 0, l = arguments.length; i &lt; l; i++) &#123; money += arguments[i]; &#125; return money; &#125;;&#125;)();var cost = currying(cost);cost(100)(100)(100)(100);cost(100);console.log(cost()); 500cost(100);console.log(cost()); 600 å•ä¾‹æ¨¡å¼â€‹ è¦å®ç°ä¸€ä¸ªå•ä¾‹æ¨¡å¼å¹¶ä¸å¤æ‚ï¼Œæ— éæ˜¯ç”¨ä¸€ä¸ªå˜é‡æ¥æ ‡å¿—æ˜¯å¦å·²ç»ä¸ºæŸä¸ªç±»åˆ›å»ºè¿‡å¯¹è±¡ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™ä¸‹ä¸€æ¬¡è·å–è¯¥ç±»çš„å®ä¾‹ï¼Œç›´æ¥è¿”å›ä¹‹å‰åˆ›å»ºçš„å¯¹è±¡ã€‚ vue2.x ä¸­çš„vuexåœ¨é¡µé¢ä¸ç»„ä»¶ä¸­è¿›è¡ŒæŒ‚è½½ä½¿ç”¨çš„å°±æ˜¯å•ä¾‹æ¨¡å¼ ä½¿ç”¨ä»£ç†å®ç°å•ä¾‹æ¨¡å¼12345678910111213141516171819202122var createDiv = function (html) &#123; this.html = html; this.init();&#125;;createDiv.prototype.init = function () &#123; var div = document.createElement(&quot;div&quot;); div.innerHTML = this.html; document.body.appendChild(div);&#125;;var proxySingletonCreateDiv = (function () &#123; var instance; return function (html) &#123; if (!instance) &#123; instance = new createDiv(html); &#125; return instance; &#125;;&#125;)();var a = new proxySingletonCreateDiv(&quot;one&quot;);var b = new proxySingletonCreateDiv(&quot;two&quot;);console.log(a === b); // true JavaScriptçš„å•ä¾‹æ¨¡å¼â€‹ å•ä¾‹æ¨¡å¼çš„æ ¸å¿ƒæ˜¯ç¡®ä¿åªæœ‰ä¸€ä¸ªå®ä¾‹ï¼Œæ¯”æä¾›å…¨å±€è®¿é—®ã€‚åœ¨JavaScriptä¸­å¾ˆå¤šéƒ½ä¼šé€šè¿‡å…¨å±€å˜é‡è¿›è¡Œå®ç°ï¼Œä½†æ˜¯JavaScriptçš„å…¨å±€å˜é‡å¹¶ä¸æ˜¯éå¸¸å¥½çš„ç‰¹æ€§ï¼Œåœ¨ä¸­å¤§å‹é¡¹ç›®ä¸­ä¼šå­˜åœ¨å‘½åå†²çªé—®é¢˜ï¼Œæ‰€ä»¥åº”å½“å°½é‡ä½¿ç”¨å‘½åç©ºé—´ã€‚ æƒ°æ€§å•ä¾‹â€‹ åœ¨æœªä½¿ç”¨ä¹‹å‰ï¼Œç›¸å…³é€»è¾‘ä¸ä¼šè¢«åˆ›å»ºï¼Œå¹¶ä¸”åªæœ‰ç¬¬ä¸€æ¬¡ä½¿ç”¨çš„æ—¶å€™æ‰ä¼šåˆ›å»ºï¼ŒåŒæ—¶æˆ‘ä»¬åˆ«å¿˜è®°äº†å•ä¸€èŒè´£åŸåˆ™ â€‹ åœ¨ä¸‹é¢çš„ä»£ç ä¸­ï¼Œæˆ‘ä»¬å°†åˆ›å»ºå•ä¾‹ä¸å…·ä½“å•ä¾‹é€»è¾‘è¿›è¡Œåˆ†ç¦»ï¼Œè¿™ä¸¤ä¸ªæ–¹æ³•ç‹¬ç«‹å˜åŒ–è€Œä¸”äº’ä¸å½±å“ï¼Œè¿™æ ·é¿å…äº†ä¸‹æ¬¡å‡ºç°å…¶ä»–å…ƒç´ ï¼Œæˆ‘ä»¬éœ€è¦å°†æ•´ä¸ªå•ä¾‹å‡½æ•°éƒ½å¤åˆ¶ä¸€éçš„æƒ…å†µï¼Œè€Œæ˜¯åªéœ€è¦åˆ›å»ºå¯¹åº”çš„åˆ›å»ºå‡½æ•°å³å¯ã€‚ 123456789101112131415161718192021function getSingle(fn) &#123; let result; return function () &#123; return result || (result = fn.apply(this, arguments)); &#125;;&#125;function createLoginLayer() &#123; var div = document.createElement(&quot;div&quot;); div.innerHTML = &quot;æˆ‘æ˜¯ç™»å½•å¼¹çª—&quot;; div.style.display = &quot;none&quot;; document.body.appendChild(div); return div;&#125;var createSingLoginLayer = getSingle(createLoginLayer);document.getElementById(&quot;loginBtn&quot;).onclick = function () &#123; var loginLayer = createSingLoginLayer(); loginLayer.style.display = &quot;block&quot;;&#125;; å°ç»“â€‹ å•ä¾‹æ¨¡å¼æ˜¯ä¸€ç§ç®€å•ï¼Œä½†æ˜¯éå¸¸å®ç”¨çš„æ¨¡å¼ï¼Œç‰¹åˆ«æ˜¯æƒ°æ€§å•ä¾‹æŠ€æœ¯ï¼Œåœ¨åˆé€‚çš„æ—¶å€™å†å»åˆ›å»ºå¯¹è±¡ï¼Œå¹¶ä¸”åªåˆ›å»ºå”¯ä¸€ä¸€ä¸ªï¼ŒåŒæ—¶æˆ‘ä»¬å°†åˆ›å»ºå¯¹è±¡ä¸ç®¡ç†å•ä¾‹çš„èŒè´£åˆ†å¼€åˆ°ä¸åŒæ–¹æ³•ä¸­ï¼Œè¿™æ ·çš„æ¨¡å¼æ›´åŠ ä½“éªŒå•ä¾‹æ¨¡å¼çš„ä¼˜åŠ¿ã€‚ ç­–ç•¥æ¨¡å¼â€‹ ç­–ç•¥æ¨¡å¼ï¼šå®šä¹‰ä¸€ç³»åˆ—çš„ç®—æ³•ï¼ŒæŠŠå®ƒä»¬ä¸€ä¸ªä¸ªçš„å°è£…èµ·æ¥ï¼Œå¹¶ä¸”ä½¿å®ƒä»¬å¯ä»¥ç›¸äº’æ›¿æ¢ã€‚ â€‹ æ¡ˆä¾‹ï¼šæŸä¸ªå…¬å¸å¹´ç»ˆå¥–æ–¹å¼ä¸ºåŸºç¡€å·¥èµ„ä¹˜ä»¥æ•ˆç»©ç­‰çº§ï¼ŒSä¸ºåŸºç¡€å·¥èµ„çš„4å€ï¼ŒAä¸ºåŸºç¡€å·¥èµ„çš„3å€ï¼Œæˆ‘ä»¬å®ç”¨ç­–ç•¥æ¨¡å¼è¿›è¡Œå®ç° 1234567891011121314151617181920212223242526272829303132var performatceS = function () &#123;&#125;; // æ•ˆç»©ä¸ºS å·¥èµ„ç®—æ³•performatceS.prototype.calculate = function (salary) &#123; return salary * 4;&#125;;var performatceA = function () &#123;&#125;; // æ•ˆç»©ä¸ºA å·¥èµ„ç®—æ³•performatceA.prototype.calculate = function (salary) &#123; return salary * 3;&#125;;var Bonus = function () &#123; this.salary = null; // åŸºç¡€å·¥èµ„ this.strategy = null; // å…·ä½“ç®—æ³•&#125;;Bonus.prototype.setSalary = function (salary) &#123; this.salary = salary;&#125;;Bonus.prototype.setStrategy = function (strategy) &#123; this.strategy = strategy;&#125;;Bonus.prototype.getBonus = function () &#123; return this.strategy.calculate(this.salary);&#125;;var bonus1 = new Bonus();bonus1.setSalary(10000);bonus1.setStrategy(new performatceS());console.log(&quot;æ•ˆç»©ä¸ºA&quot;, bonus1.getBonus()); // 40000bonus1.setStrategy(new performatceA());console.log(&quot;æ•ˆç»©ä¸ºA&quot;, bonus1.getBonus()); // 30000 JavaScriptä¸­ç­–ç•¥æ¨¡å¼çš„ä½“ç°ä»¥ä¸Šæ˜¯ç±»çš„å®ç°æ–¹æ³•ï¼Œåœ¨JavaScriptä¸­æˆ‘ä»¬å¯ä»¥é€šè¿‡å‡½æ•°è¿›è¡Œå®ç°ï¼Œä»£ç å°†ä¼šç®€æ´å¾ˆå¤š 123456789101112var srtategies = &#123;&#125;;srtategies.S = function (salary) &#123; return salary * 4;&#125;;srtategies.A = function (salary) &#123; return salary * 3;&#125;;var calclateBonus = function (level, salary) &#123; return srtategies[level](salary);&#125;;console.log(&quot;æ•ˆç»©ä¸ºS&quot;, calclateBonus(&quot;S&quot;, 10000));console.log(&quot;æ•ˆç»©ä¸ºA&quot;, calclateBonus(&quot;A&quot;, 10000)); å¤šæ€åœ¨ç­–ç•¥æ¨¡å¼ä¸­çš„ä½“ç°â€‹ é€šè¿‡ä½¿ç”¨ç­–ç•¥æ¨¡å¼ï¼Œæˆ‘ä»¬å¯ä»¥æ¶ˆé™¤ç¨‹åºä¸­å¤§é‡çš„ifelseè¯­å¥ï¼Œå¹¶å°†æˆ‘ä»¬å°†å…·ä½“é€»è¾‘ä¸å®é™…æ‰§è¡Œå‡½æ•°è¿›è¡Œåˆ†ç¦»ï¼Œæ‰§è¡Œå‡½æ•°æ²¡æœ‰è®¡ç®—èƒ½åŠ›ï¼Œè€Œæ˜¯å§”æ‰˜æŸä¸ªç­–ç•¥å¯¹è±¡æ¥å®Œæˆå¥–é‡‘è®¡ç®—ï¼Œè¿™æ­£æ˜¯å¤šæ€æ€§çš„ä½“ç°ã€‚ ç­–ç•¥æ¨¡å¼åœ¨è¡¨å•æ ¡éªŒçš„åº”ç”¨â€‹ åœ¨é€šè¿‡JavaScriptè¡¨å•æ ¡éªŒçš„åœºæ™¯ä¸­,æˆ‘ä»¬å¯ä»¥é€šè¿‡ifelseè¿›è¡Œæ ¡éªŒåˆ¤æ–­ï¼Œä½†æ˜¯è¿™ç§æ–¹å¼ä¸ç¬¦åˆå•ä¸€èŒè´£ï¼Œå¼€æ”¾å°é—­åŸåˆ™ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ç­–ç•¥æ¨¡å¼æ¥ä¼˜åŒ–ä»–ï¼Œå°†é€šç”¨çš„æ ¡éªŒé€»è¾‘ä¸å…·ä½“æ ¡éªŒæ¡ä»¶è¿›è¡Œè§£è€¦åˆã€‚ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172// æ ¡éªŒé€»è¾‘/** * å¦‚æœåŒæ—¶è®¾ç½®äº†requiredä¸verifyï¼Œå°†ä¼šå¿½ç•¥required * verifyä¸ºè‡ªå®šä¹‰æ ¡éªŒå‡½æ•° å¯ä»¥ç†è§£ä¸ºä¸€æ—¦å†™äº†verify,å…¶ä»–å‚æ•°éƒ½ä¸éœ€è¦å†™äº† * @param data è¢«æ ¡éªŒå¯¹è±¡ * @param validate æ ¡éªŒè§„åˆ™ * @param isOne æ˜¯å¦æ ¡éªŒåˆ°é”™è¯¯å°±ç«‹åˆ»è¿”å› * @returns */function starValidate(data, validate, isOne) &#123; let errBack: any[] = [] for (const key in data) &#123; if (validate[key]) &#123; if (validate[key].verify) &#123; validate[key].verify(&#123; data: data[key], allData: data &#125;, (errMsg) =&gt; &#123; if (errMsg) &#123; errBack.push(errMsg) &#125; else &#123; errBack.push(validate[key].callback(data)) &#125; &#125;) &#125; else &#123; // å¼€å¯æ ¡éªŒ if (validate[key].required) &#123; // æ•°æ®ä¸å­˜åœ¨ if (!data[key]) &#123; errBack.push(validate[key].callback(data)) &#125; &#125; &#125; &#125; if (isOne &amp;&amp; errBack.length != 0) &#123; break &#125; &#125; console.log(&#x27;å¤„ç†ç»“æœ&#x27;, errBack) if (errBack.length == 0) &#123; return Promise.resolve() &#125; else &#123; if (isOne) &#123; return Promise.reject(errBack[0]) &#125; else &#123; return Promise.reject(errBack) &#125; &#125;&#125;// æ ¡éªŒæ¡ä»¶const validateRules = &#123; cashingInstructions: &#123; required: true, callback: () =&gt; (&#123; selector: &#x27;.open_prize&#x27;, message: &#x27;è¯·è¾“å…¥å­—æ®µcashingInstructions&#x27; &#125;), &#125;, lotteryDescription: &#123; verify: (&#123; data &#125;, err) =&gt; &#123; if (data == &#x27;[]&#x27;) &#123; err(&#123; selector: &#x27;.launch_total&#x27;, message: &#x27;è¯·è¾“å…¥å­—æ®µlotteryDescription&#x27;, &#125;) &#125; &#125;, &#125;,&#125;let data = &#123; cashingInstructions:&#x27;&#x27;, lotteryDescription:&#x27;[]&#x27;&#125;// å®ç°è¡¨å•æ ¡éªŒ starValidate(data, validateRules, true) ç­–ç•¥æ¨¡å¼çš„ä¼˜ç¼ºç‚¹ä¼˜ç‚¹ ç­–ç•¥æ¨¡å¼åˆ©ç”¨ç»„åˆï¼Œå§”æ‰˜å’Œå¤šæ€ç­‰æŠ€æœ¯ä¸æ€æƒ³ï¼Œå¯ä»¥æœ‰æ•ˆé¿å…å¤šé‡æ¡ä»¶é€‰æ‹©è¯­å¥ ç­–ç•¥æ¨¡å¼ç¬¦åˆå¼€æ”¾å°é—­åŸåˆ™ï¼Œå°†å…·ä½“é€»è¾‘å•ç‹¬å°è£…ï¼Œä½¿å…¶æ˜“äºç†è§£æ˜“äºæ‹“å±• ç­–ç•¥æ¨¡å¼çš„ç­–ç•¥å‡½æ•°å¯ä»¥å†å¤šé¡¹ç›®ä¹‹é—´å¤ç”¨ï¼Œé¿å…å¤åˆ¶ç²˜è´´å·¥ä½œ ç¼ºç‚¹ ç›¸å¯¹äºifelseï¼Œç­–ç•¥æ¨¡å¼çš„æ•´ä½“ä»£ç é‡ä¼šæœ‰æ‰€å¢åŠ  è°ƒç”¨è€…éœ€è¦å¯¹ç­–ç•¥ç»†èŠ‚å¯èƒ½äº†è§£ï¼Œæ‰èƒ½å¾ˆå¥½çš„ä½¿ç”¨è¯¥ç­–ç•¥ï¼Œè¿™è¿åäº†æœ€å°‘çŸ¥è¯†åŸåˆ™ï¼Œå¢åŠ äº†ä½¿ç”¨æˆæœ¬ ä¸€ç­‰å…¬æ°‘å‡½æ•°ä¸ç­–ç•¥æ¨¡å¼â€‹ åœ¨å‡½æ•°ä½œä¸ºä¸€ç­‰å…¬æ°‘çš„è¯­è¨€ä¸­ï¼Œç­–ç•¥æ¨¡å¼æ˜¯éšå½¢çš„å…·ä½“ç­–ç•¥çš„å€¼å°±æ˜¯å‡½æ•°å˜é‡ã€‚ â€‹ åœ¨JavaScriptè¿™ç§å°†å‡½æ•°ä½œä¸ºä¸€ç­‰å¯¹è±¡çš„è¯­è¨€ä¸­ï¼Œç­–ç•¥æ¨¡å¼å·²ç»èå…¥åˆ°è¯­è¨€ä¸­ï¼Œä¾‹å¦‚æˆ‘ä»¬ç»å¸¸ä½¿ç”¨é«˜é˜¶å‡½æ•°æ¥å°è£…ä¸åŒè¡Œä¸ºï¼Œå¹¶ä¸”å°†å®ƒä¼ é€’åˆ°å¦ä¸€ä¸ªå‡½æ•°ä¸­ï¼Œå½“æˆ‘ä»¬å¯¹è¿™äº›å‡½æ•°å‘å‡ºâ€œè°ƒç”¨â€çš„æ¶ˆæ¯ï¼Œä¸åŒçš„å‡½æ•°ä¼šè¿”å›ä¸åŒçš„ç»“æœï¼Œå‡½æ•°å¯¹è±¡çš„å¤šæ€æ€§æ¥åˆ°æ›´åŠ ç®€å•ã€‚ ä»£ç†æ¨¡å¼â€‹ ä»£ç†æ¨¡å¼çš„å…³é”®æ˜¯ï¼Œå½“å®¢æˆ·ä¸æ–¹ä¾¿ç›´æ¥è®¿é—®ä¸€ä¸ªå¯¹è±¡æˆ–è€…ä¸æ»¡è¶³éœ€è¦çš„æ—¶å€™ï¼Œæä¾›ä¸€ä¸ªæå‡å¯¹è±¡æ¥æ§åˆ¶å¯¹è¿™ä¸ªå¯¹è±¡çš„è®¿é—®ï¼Œå®¢æˆ·å®é™…ä¸Šè®¿é—®çš„æ˜¯æ›¿èº«å¯¹è±¡ã€‚ å°çº¢æƒ³æ‰¾å¿ƒä»ªçš„å¯¹è±¡è®©å°æ˜ä½œä¸ºè‡ªå·±çš„åª’äºº(ä»£ç†äºº) ä¿æŠ¤ä»£ç†ï¼šå¼ ä¸‰æ‰¾è¿‡æ¥äº†ï¼Œä½†æ˜¯å¼ ä¸‰æ²¡è½¦æ²¡æˆ¿ï¼Œå°çº¢ä¾¿ç›´æ¥å¸®ä»–æ‹’ç» è™šæ‹Ÿä»£ç†ï¼šä»‹ç»ç»™å°æ˜æ˜¯éå¸¸é‡è¦çš„äº‹æƒ…ï¼Œæå››å¯¹å°çº¢æœ‰å…´è¶£ï¼Œç»™å°æ˜å¥½å¤„è´¹ï¼Œå°æ˜ä¾¿åœ¨å°çº¢å¿ƒæƒ…å¥½çš„æ—¶å€™ç»™å…¶ä»‹ç»ï¼ˆå»¶è¿Ÿåˆ°æ­£å¸¸éœ€è¦çš„æ—¶å€™å†åˆ›å»ºï¼‰ å•ä¸€èŒè´£åŸåˆ™â€‹ å¯¹ä¸€ä¸ªç±»&#x2F;å‡½æ•°&#x2F;å¯¹è±¡è€Œè¨€ï¼Œåº”è¯¥ä»…æœ‰ä¸€ä¸ªå¼•èµ·å®ƒå˜åŒ–çš„åŸå› ï¼Œå¦‚æœä¸€ä¸ªå¯¹è±¡æ‰¿æ‹…äº†å¤šç§èŒè´£ï¼Œå°±æ„å‘³ç€è¿™ä¸ªå¯¹è±¡å°†å˜å¾—å·¨å¤§ï¼Œå¼•èµ·å®ƒå˜åŒ–çš„åŸå› å°†ä¼šæœ‰å¤šç§ã€‚é¢å‘å¯¹è±¡ä¼°è®¡è®¾è®¡å°†è¡Œä¸ºåˆ†å¸ƒåˆ°ç»†é¢—ç²’åº¦çš„å¯¹è±¡ä¸­ï¼Œå¦‚æœä¸€ä¸ªå¯¹è±¡æ‰¿æ‹…çš„èŒè´£è¿‡å¤šï¼Œç­‰äºæŠŠè¿™äº›èŒè´£è€¦åˆåœ¨ä¸€èµ·ï¼Œè¿™ç§è€¦åˆä¼šå¯¼è‡´è„†å¼±å’Œä½å†…èšçš„è®¾è®¡ï¼Œå½“å˜åŒ–å‘ç”Ÿæ—¶ï¼Œè®¾è®¡ä¼šé­åˆ°æ„å¤–çš„ç ´åã€‚ å¼€æ”¾å°é—­åŸåˆ™â€‹ ä¾‹å¦‚æˆ‘ä»¬ä¸ºäº†æ›´å¥½çš„æ€§èƒ½å°†ä¸€äº›æ•°æ®å¤„ç†æˆä¸ºå¦å¤–çš„æ•°æ®æ ¼å¼ï¼Œä½†æ˜¯2å¹´åä¸Šæ¸¸å¸®åŠ©æˆ‘ä»¬å¤„ç†è¿‡äº†ï¼Œæˆ‘ä»¬ä¸å†éœ€è¦é¢å¤–å¤„ç†ï¼Œå°±ä¸å¾—ä¸åœ¨æ”¹åŠ¨åŸæœ¬å‡½æ•°ä¸­çš„ä»£ç  â€‹ æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä»£ç†æ¨¡å¼ è¾¾åˆ°ä¸æ”¹åŠ¨åŸå¯¹è±¡çš„æƒ…å†µä¸‹ï¼Œä¸ºå…¶æä¾›æ–°çš„è¡Œä¸ºï¼Œä»–ä»¬å„è‡ªå˜åŒ–ï¼Œä¹Ÿä¸å½±å“å¯¹è±¡ã€‚ ä»£ç†ä¸æœ¬ä½“æ¥å£çš„ä¸€è‡´æ€§â€‹ é€šå¸¸æ¥è¯´ï¼Œä»£ç†å¯¹è±¡å¯¹å¤–æä¾›çš„æ–¹æ³•åç§°ä¼šä¸æœ¬ä½“åç§°ä¿æŒä¸€è‡´ï¼Œè¿™æ ·å¯ä»¥åœ¨ä»»ä½•ä½¿ç”¨æœ¬ä½“çš„åœ°æ–¹æ›¿æ¢æˆä½¿ç”¨ä»£ç† ä»£ç†æ¨¡å¼-åˆå¹¶httpè¯·æ±‚â€‹ è¿™æ˜¯ä¸€ä¸ªåº”ç”¨æ¡ˆä¾‹ï¼Œæ–‡ä¸­çš„ä¾‹å­æˆ‘åœ¨æ—¥å¸¸ç”Ÿæ´»ä¸­ä¹Ÿç»å†è¿‡ï¼Œå°†æ¯æ¬¡ç‚¹å‡»éƒ½è¯·æ±‚è½¬å˜ä¸ºæ”¶é›†2sç±»æ‰€æœ‰è¯·æ±‚ï¼Œå¹¶ç»Ÿä¸€å‘é€å‡ºå»ï¼Œå‘é€è¯·æ±‚æ—¶ä¸€ä¸ªå‡½æ•°ï¼Œä½•æ—¶å‘é€ï¼Œå‘é€ä»€ä¹ˆï¼Œæ—¶å¦ä¸€ä¸ªå‡½æ•°ï¼Œå…¶ä¸­ç”¨åˆ°äº†èŠ‚æµå‡½æ•°æ¥æ§åˆ¶è¯·æ±‚é¢‘ç‡ ä»£ç†æ¨¡å¼ - ç©ºé—´å¤æ‚åº¦æ¢å–æ—¶é—´å¤æ‚åº¦é¢å¯¹éå¸¸å¤æ‚çš„è®¡ç®—é€»è¾‘ï¼Œæˆ‘ä»¬å¯ä»¥ä¿å­˜æ¯ä¸€æ¬¡çš„è®¡ç®—ç»“æœï¼Œä¸‹ä¸€ä¸ªå†æ¥åŒæ ·çš„å‚æ•°å¯ä»¥ç›´æ¥èµ°ç¼“å­˜ï¼Œä¸å†éœ€è¦è®¡ç®—ï¼Œè¿™æ ·å¢åŠ ç©ºé—´ï¼Œä½†æ˜¯ç¼©å°äº†æ—¶é—´ã€‚ ä»£ç†æ¨¡å¼ç¤ºä¾‹12345678910111213141516171819202122232425262728293031323334353637var muit = function () &#123; var a = 1; for (let i = 0; i &lt; arguments.length; i++) &#123; a = a * arguments[i]; &#125; return a;&#125;;var plus = function () &#123; var a = 0; for (let i = 0; i &lt; arguments.length; i++) &#123; a = a + arguments[i]; &#125; return a;&#125;;// ä»£ç†æ¨¡å¼å‡½æ•°var ceateProxyFactory = function (fn) &#123; var cache = &#123;&#125;; return function () &#123; var args = Array.prototype.join.call(arguments, &quot;,&quot;); if (args in cache) &#123; console.log(&quot;å­˜åœ¨ç¼“å­˜&quot;, args,cache); return cache[args]; &#125; cache[args] = fn.apply(this, arguments); return cache[args]; &#125;;&#125;;var muitFun = ceateProxyFactory(muit);var plusFun = ceateProxyFactory(plus);console.log(muitFun(1, 2, 3, 4, 5)); // 120console.log(muitFun(1, 2, 3, 4, 5)); // èµ°ç¼“å­˜ 120console.log(plusFun(1, 2, 3, 4, 5)); // 15console.log(plusFun(1, 2, 3, 4, 5)); // èµ°ç¼“å­˜ 15 æ€»ç»“â€‹ æ€»ä½“æ¥è¯´ä»£ç†æ¨¡å¼ç›¸å¯¹ç®€å•å¹¶ä¸”å¸¸ç”¨ï¼Œå°±ç®—ä¸€åå¼€å‘äººå‘˜æ²¡å¬è¿‡è¿™ä¸ªåè¯ä¹Ÿä¼šå†™å‡ºæ¯”è¾ƒä¼˜ç§€çš„ä»£ç†æ¨¡å¼ä»£ç ï¼Œå¹¶ä¸”ä»£ç†æ¨¡å¼ä¸éœ€è¦é¢„å…ˆè€ƒè™‘ï¼Œéœ€è¦ç”¨åˆ°çš„æ—¶å€™å†ç¼–å†™ä»£ç†å‡½æ•°ä¹Ÿä¸è¿Ÿã€‚ è¿­ä»£å™¨æ¨¡å¼å†…éƒ¨è¿­ä»£å™¨â€‹ å®Œå…¨æ¥æ‰‹æ•´ä¸ªè¿­ä»£è¿‡ç¨‹ï¼Œå¤–éƒ¨åªéœ€è¦åˆå§‹è°ƒç”¨å³å¯ï¼Œå¤–ç•Œä¸éœ€è¦å…³å¿ƒè¿­ä»£å™¨çš„å†…éƒ¨å®ç°ï¼Œä½†æ˜¯è¿™ä¹Ÿæ˜¯å†…éƒ¨è¿­ä»£å™¨çš„ç¼ºç‚¹ â€‹ ä¾‹å¦‚JavaScriptçš„map forEach å¤–éƒ¨è¿­ä»£å™¨â€‹ å¤–éƒ¨è¿­ä»£å™¨å¿…é¡»æ˜¾å¼çš„è¯·æ±‚è¿­ä»£ä¸‹ä¸€ä¸ªå…ƒç´ ï¼Œå¤–éƒ¨è¿­ä»£å™¨å¢åŠ äº†ç¨‹åºçš„å¤æ‚åº¦ï¼Œä½†æ˜¯ä¹Ÿå¢å¼ºäº†è¿­ä»£å™¨çš„çµæ´»æ€§ã€‚ 12345678910111213var current = 0;var aa = function (obj) &#123; var next = function () &#123; current += 1; &#125;; var getItem = function () &#123; return obj[current]; &#125;; return &#123; next, getItem, &#125;;&#125;; â€‹ å†å…·ä½“ä¸šåŠ¡ä¸­ï¼Œä½¿ç”¨ä½•ç§è¿­ä»£å™¨å¹¶æ— ä¼˜åŠ£ï¼Œæ ¹æ®å®é™…åœºæ™¯è€Œå®šã€‚ æ€»ç»“â€‹ å¤§éƒ¨åˆ†è¯­è¨€å·²ç»å†…ç½®äº†è¿­ä»£å™¨ï¼Œå¹¶ä¸”ä½¿ç”¨é¢‘ç‡é«˜ã€é—¨æ§›ä½ï¼›è¿­ä»£å™¨æ˜¯ä¸€ç§éå¸¸ç®€å•è®¾è®¡æ¨¡å¼ï¼Œç®€å•åˆ°å¤§éƒ¨åˆ†äººä¸è®¤ä¸ºä»–æ˜¯ä¸€ç§è¿­ä»£å™¨ã€‚ å‘å¸ƒ-è®¢é˜…æ¨¡å¼â€‹ å‘å¸ƒ-è®¢é˜…æ¨¡å¼å®ƒè®¢é˜…äº†ä¸€ç§ä¸€å¯¹å¤šçš„ä¾èµ–å…³ç³»,å½“ä¸€ä¸ªå¯¹è±¡çš„çŠ¶æ€å‘ç”Ÿæ”¹å˜çš„æ—¶ï¼Œæ‰€æœ‰ä¾èµ–äºå®ƒçš„å¯¹è±¡éƒ½å°†å¾—åˆ°é€šçŸ¥ æ¡ˆä¾‹â€‹ å°æ˜çœ‹é‡äº†æŸä¸€ä¸ªå°åŒºçš„çƒ­é—¨æˆ·å‹ï¼Œå¹¶ä¸”å¾—åˆ°æ¶ˆæ¯ï¼ŒåæœŸè¿˜ä¼šå¼€æ”¾ä¸€æ‰¹ï¼Œä½†æ˜¯æ—¶é—´æœªçŸ¥ï¼Œäºæ˜¯å°æ˜æ‰¾åˆ°å”®æ¥¼å¤„ï¼Œé¢„ç•™äº†è‡ªå·±çš„ç”µè¯å·ç ï¼Œè®©å”®æ¥¼å¤„åœ¨å¼€å‘æˆ¿æºçš„æ—¶å€™é€šçŸ¥ä»–ï¼ŒåŒç†ï¼Œå°å¼ ã€å°ç‹éƒ½é¢„ç•™äº†æ‰‹æœºå·ç ï¼Œäºæ˜¯å”®æ¥¼å¤„å°±ä¼šåœ¨æˆ¿æºå‘å¸ƒçš„æ—¶å€™é€šçŸ¥é¢„ç•™ç”µè¯çš„å®¢æˆ·ã€‚ â€‹ å®¢æˆ·æƒ³çŸ¥é“æˆ¿æºå¼€å”®æ¶ˆæ¯ï¼Œäºæ˜¯ä»–è®¢é˜…äº†å”®æ¥¼å¤„ï¼Œå”®æ¥¼å¤„å¾—åˆ°æ¶ˆæ¯åï¼Œç¬¬ä¸€æ—¶é—´å°†æ¶ˆæ¯å‘å¸ƒç»™è®¢é˜…è€…ï¼Œè¿™æ ·å…·å¤‡æ˜¾è€Œæ˜“è§çš„ä¼˜ç‚¹ã€‚ å°æ˜ä¸éœ€è¦å¤©å¤©ç»™å”®æ¥¼å¤„æ‰“ç”µè¯ï¼Œåœ¨åˆé€‚çš„æ—¶é—´å”®æ¥¼å¤„ä¼šé€šçŸ¥è´­æˆ¿è€… è´­æˆ¿è€…äºå”®æ¥¼å¤„ä¸å†æœ‰å¼ºè€¦åˆå…³ç³» å‘å¸ƒ-è®¢é˜…æ¨¡å¼çš„ä½œç”¨â€‹ ä»¥ä¸Šåœºæ™¯äºç¨‹åºä¸­çš„å¼‚æ­¥åœºæ™¯æ˜¯éå¸¸ç›¸ä¼¼çš„ï¼Œä¾‹å¦‚æˆ‘ä»¬è®¢é˜…ajaxçš„erroräº‹ä»¶ï¼Œæˆ‘ä»¬æ— éœ€å…³å¿ƒå¼‚æ­¥è¿è¡ŒæœŸé—´çš„å†…éƒ¨çŠ¶æ€ï¼Œåªéœ€è¦è®¢é˜…éœ€è¦çš„äº‹ä»¶å‘ç”Ÿç‚¹å³å¯ã€‚ â€‹ å¦å¤–å‘å¸ƒ-è®¢é˜…æ¨¡å¼å¯ä»¥å–ä»£å¯¹è±¡ä¹‹é—´ç¡¬ç¼–ç çš„é€šçŸ¥æœºåˆ¶ï¼Œä¸€ä¸ªå¯¹è±¡ä¸ç”¨å†æ˜¾å¼çš„è°ƒç”¨å¦ä¸€ä¸ªå¯¹è±¡çš„æŸä¸ªæ¥å£ã€‚ domäº‹ä»¶â€‹ æˆ‘ä»¬ä½¿ç”¨domç»‘å®šäº‹ä»¶å‡½æ•°å°±æ˜¯å‘å¸ƒ-è®¢é˜…æ¨¡å¼çš„å®é™…åº”ç”¨ï¼Œæˆ‘ä»¬ä¸çŸ¥é“ç”¨æˆ·ä¼šåœ¨ä»€ä¹ˆæ—¶å€™ç‚¹å‡»ç‚¹å‡»ï¼Œæ‰€ä»¥æˆ‘ä»¬è®¢é˜…äº†domæœ¬èº«çš„clickäº‹ä»¶ã€‚ è‡ªå®šä¹‰å‘å¸ƒ-è®¢é˜…äº‹ä»¶12345678910111213141516171819202122232425262728293031323334353637383940414243444546var salesOffices = &#123;&#125;;salesOffices.clientList = [];salesOffices.listen = function (key, fn) &#123; // åˆ›å»ºè®¢é˜…å…³è”å…³ç³» if (!this.clientList[key]) &#123; this.clientList[key] = []; &#125; this.clientList[key].push(fn);&#125;;salesOffices.trigger = function () &#123; // è·å–è®¢é˜…æ•°ç»„ var key = Array.prototype.shift.call(arguments); var fns = this.clientList[key]; // ä¸å­˜åœ¨è®¢é˜…æ•°ç»„åˆ™ç›´æ¥è¿”å› if (!fns || fns.length === 0) &#123; return false; &#125; // æ‰§è¡Œè®¢é˜…æ•°ç»„ for (let i = 0; i &lt; fns.length; i++) &#123; let fn = fns[i]; fn.apply(this, arguments); &#125;&#125;;// å°æ˜è®¢é˜…salesOffices.listen(&quot;sq88&quot;, function (price) &#123; console.log(&quot;æˆ‘æ˜¯å°æ˜ï¼Œ88å¹³æ–¹&quot;); console.log(&quot;ä»·æ ¼=&quot;, price);&#125;);salesOffices.listen(&quot;sq88&quot;, function (price) &#123; console.log(&quot;æˆ‘æ˜¯å°å¼ºï¼Œ88å¹³æ–¹&quot;); console.log(&quot;ä»·æ ¼=&quot;, price);&#125;);// å°çº¢è®¢é˜…salesOffices.listen(&#x27;sq110&#x27;, function (price) &#123; console.log(&quot;æˆ‘æ˜¯å°çº¢ï¼Œ110å¹³æ–¹&quot;); console.log(&quot;ä»·æ ¼=&quot;, price);&#125;);salesOffices.trigger(&quot;sq88&quot;, 20000000);salesOffices.trigger(&quot;sq110&quot;, 30000000);// æˆ‘æ˜¯å°æ˜ï¼Œ88å¹³æ–¹// ä»·æ ¼=20000000// æˆ‘æ˜¯å°å¼ºï¼Œ88å¹³æ–¹// ä»·æ ¼=20000000// æˆ‘æ˜¯å°çº¢ï¼Œ110å¹³æ–¹// ä»·æ ¼=30000000 å–æ¶ˆè®¢é˜…â€‹ å–æ¶ˆè®¢é˜…åªéœ€è¦å°†è®¢é˜…æ•°ç»„ä¸­çš„æŒ‡å®šè®¢é˜…å‡½æ•°åˆ é™¤å³å¯ 123456789101112131415161718192021222324/** * key è®¢é˜…ç±»å‹ * fn è®¢é˜…å‡½æ•° */salesOffices.remove = function (key, fn) &#123; var fns = this.clientList[key]; if (!fns) &#123; return false; &#125; if (!fn) &#123; // æ²¡æœ‰ä¼ å…¥å…·ä½“çš„å›è°ƒåœ°å€ï¼Œåˆ™å–æ¶ˆæ‰€æœ‰è®¢é˜…å‡½æ•° if (fns) &#123; fns.length = 0; &#125; &#125; else &#123; for (let i = 0; i &lt; fns.length; i++) &#123; const fnItem = fns[i]; if (fnItem === fn) &#123; fns.splice(i, 1); // åˆ é™¤è®¢é˜…å‡½æ•°å›è°ƒ break; &#125; &#125; &#125;&#125;; å…³äºç½‘ç«™ç™»å½•çš„å®é™…åº”ç”¨åœºæ™¯ï¼šç”¨æˆ·ç™»å½•å®Œæˆåï¼Œæˆ‘ä»¬éœ€è¦åˆ·æ–°ä¸ç›¸é‚»æ¨¡å—çš„æ•°æ®ï¼Œè¿™ç§å¼‚æ­¥é—®é¢˜ï¼Œæˆ‘ä»¬ä¸€èˆ¬é€šè¿‡å›è°ƒå‡½æ•°çš„æ–¹å¼è§£å†³ 123456login.succ(() =&gt; &#123; header.setAvatar(data.avatar) nav.setAvatar(data.avatar) message.refresh() // ....&#125;) â€‹ è¿™ç§ç¼–å†™æ–¹å¼å°†ç»„ä»¶æ•°æ®äºä¿¡æ¯äº§ç”Ÿäº†å¼ºè€¦åˆå…³ç³»ï¼Œå¦‚æœåœ¨æœªæ¥ï¼Œæˆ‘ä»¬åˆå¢åŠ äº†ä¸€ä¸ªæ¨¡å—ï¼Œåˆ™éœ€è¦å†æ¬¡ä¿®æ”¹æ”¹å›è°ƒå‡½æ•° â€‹ è€Œé€šè¿‡å‘å¸ƒ-è®¢é˜…æ¨¡å¼ï¼Œæˆ‘ä»¬å°±å¯ä»¥åœ¨ä¸åŒæ¨¡å—ä¸­è®¢é˜…ç”¨æˆ·ä¿¡æ¯çŠ¶æ€çš„å˜åŒ–ï¼Œå½“ç™»å½•æˆåŠŸçš„æ—¶å€™ï¼Œç™»å½•æ¨¡å—å‘å¸ƒæ¶ˆæ¯åˆ°è®¢é˜…ä»–çš„æ¨¡å—ä¸­ï¼Œè‡³äºå„ä¸ªæ¨¡å—åšäº†ä»€ä¹ˆï¼Œç™»å½•æ¨¡å—å¹¶ä¸å…³å¿ƒã€‚ 123login.listen(&#x27;loginSucc&#x27;,() =&gt; &#123; // ç™»å½•æˆåŠŸï¼Œç”¨æˆ·æ•°æ®è·å–å®Œæ¯•&#125;) å…¨å±€æ¨¡å¼ä¸‹çš„å‘å¸ƒ-è®¢é˜…æ¨¡å¼â€‹ å…¨å±€çŠ¶æ€ä¸‹çš„å‘å¸ƒ-è®¢é˜…å¯ä»¥åœ¨ä¸¤ä¸ªæ¯«ä¸ç›¸å…³çš„æ¨¡å—ä¹‹é—´è¿›è¡Œä½¿ç”¨ï¼Œè¿™æ ·å°±èƒ½ä¿æŒæ¨¡å—çš„å°è£…æ€§ â€‹ ä½†æ˜¯è¿™é‡Œä¹Ÿéœ€è¦ç•™æ„ä¸€ä¸ªé—®é¢˜ï¼Œå¦‚æœæ¨¡å—ä¹‹é—´åˆå¤ªå¤šçš„å…¨å±€å‘å¸ƒ-è®¢é˜…æ¨¡å¼ï¼Œå°±ä¼šé€ æˆæ¶ˆæ¯æµå‘æ··ä¹±é—®é¢˜ï¼Œè¿™ä¼šå¯¼è‡´ç»´æŠ¤ä¸Šå‡ºç°ä¸€äº›é—®é¢˜ã€‚ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960var Event = (function () &#123; var clientList = &#123;&#125;; var listen; var trigger; var remove; listen = function (key, fn) &#123; // åˆ›å»ºè®¢é˜…å…³è”å…³ç³» if (!clientList[key]) &#123; clientList[key] = []; &#125; clientList[key].push(fn); &#125;; trigger = function () &#123; // è·å–è®¢é˜…æ•°ç»„ var key = Array.prototype.shift.call(arguments); var fns = clientList[key]; // ä¸å­˜åœ¨è®¢é˜…æ•°ç»„åˆ™ç›´æ¥è¿”å› if (!fns || fns.length === 0) &#123; return false; &#125; // æ‰§è¡Œè®¢é˜…æ•°ç»„ for (let i = 0; i &lt; fns.length; i++) &#123; let fn = fns[i]; fn.apply(this, arguments); &#125; &#125;; remove = function (key, fn) &#123; var fns = clientList[key]; if (!fns) &#123; return false; &#125; if (!fn) &#123; // æ²¡æœ‰ä¼ å…¥å…·ä½“çš„å›è°ƒåœ°å€ï¼Œåˆ™å–æ¶ˆæ‰€æœ‰è®¢é˜…å‡½æ•° if (fns) &#123; fns.length = 0; &#125; &#125; else &#123; for (let i = 0; i &lt; fns.length; i++) &#123; const fnItem = fns[i]; if (fnItem === fn) &#123; fns.splice(i, 1); // åˆ é™¤è®¢é˜…å‡½æ•°å›è°ƒ break; &#125; &#125; &#125; &#125;; return &#123; listen, trigger, remove, &#125;;&#125;)();var xm = function (price) &#123; console.log(&quot;å°æ˜ä»·æ ¼&quot;, price);&#125;;Event.listen(&quot;sq88&quot;, xm); // è®¢é˜…Event.listen(&quot;sq110&quot;, xm); // è®¢é˜…Event.remove(&quot;sq88&quot;, xm); // å–æ¶ˆè®¢é˜…Event.trigger(&quot;sq88&quot;, 220000); // å‘å¸ƒEvent.trigger(&quot;sq110&quot;, 2020000); // å‘å¸ƒ JavaScriptå®ç°å‘å¸ƒ-è®¢é˜…æ¨¡å¼çš„ä¾¿åˆ©æ€§æ¨æ¨¡å‹â€‹ äº‹æƒ…å‘ç”Ÿçš„æ—¶å€™ï¼Œå‘å¸ƒè€…ä¼šä¸€æ¬¡æ€§å°†æ‰€æœ‰æ”¹å˜çš„çŠ¶æ€ä¸æ•°æ®éƒ½æ¨é€ç»™è®¢é˜…è€… æ‹‰æ¨¡å‹â€‹ äº‹æƒ…å‘ç”Ÿçš„æ—¶å€™ï¼Œå‘å¸ƒè€…åªä¼šå‘Šè¯‰æ‰€æœ‰è®¢é˜…è€…ï¼Œéœ€è¦è®¢é˜…è€…æ‰‹åŠ¨å»æ‹‰å» â€‹ è€Œåœ¨JavaScriptä¸­ï¼Œå› ä¸ºè¯­è¨€ç‰¹æ€§çš„å­˜åœ¨ï¼Œæ˜¯æˆ‘ä»¬å¯ä»¥éå¸¸æ–¹ä¾¿çš„å°†æ‰€æœ‰å‚æ•°é€šè¿‡argumentsä¼ å…¥è®¢é˜…è€…ï¼Œæ‰€ä»¥æˆ‘ä»¬ä½¿ç”¨æ¨æ¨¡å‹æ¥å®Œæˆæ¶ˆæ¯çš„è®¢é˜…ä¸å‘å¸ƒã€‚ æ€»ç»“ä¼˜ç‚¹ å¯¹è±¡ä¹‹é—´çš„è§£è€¦åˆï¼Œå¯ä»¥å¸®åŠ©æˆ‘ä»¬å†™å‡ºæ›´å¥½çš„åº”å¯¹å¼‚æ­¥ç¼–ç¨‹çš„åœºæ™¯ã€‚ é€šè¿‡è®¢é˜…-å‘å¸ƒæ¨¡å¼å¯ä»¥å®ç°ä»¥æ­¤ä¸ºç‰¹æ€§çš„è§£å†³æ–¹æ¡ˆï¼Œä¾‹å¦‚MVVMã€‚ ç¼ºç‚¹ åˆ›å»ºè®¢é˜…-å‘å¸ƒæ¨¡å¼éœ€è¦æ¶ˆè€—ä¸€å®šçš„æ—¶é—´ä¸å†…å­˜ã€‚ è®¢é˜…çš„æ¶ˆæ¯ä¼šä¸€ç›´ç•™å­˜åœ¨å†…å­˜ä¸­ï¼Œäº§ç”Ÿäº†æ— æ„ä¹‰çš„æ¶ˆè€—ã€‚ è¿‡åº¦ä½¿ç”¨è®¢é˜…-å‘å¸ƒä¼šå¯¼è‡´ç¨‹åºéš¾ä»¥è¿½è¸ªä¸ç»´æŠ¤ã€‚ â€‹ å‘½ä»¤æ¨¡å¼â€‹ æœ‰æ—¶å€™éœ€è¦å‘æŸäº›å¯¹è±¡å‘é€è¯·æ±‚ï¼Œä½†æ˜¯å¹¶ä¸çŸ¥é“è¯·æ±‚çš„æ¥æ”¶è€…æ˜¯è°ï¼Œä¹Ÿä¸çŸ¥é“è¢«è¯·æ±‚çš„æ“ä½œæ˜¯ä»€ä¹ˆã€‚æ­¤æ—¶å¸Œæœ›ç”¨ä¸€ç§æ¾è€¦åˆçš„æ–¹å¼æ¥è®¾è®¡ç¨‹åºï¼Œä½¿å¾—è¯·æ±‚å‘é€è€…ä¸è¯·æ±‚æ¥æ”¶è€…èƒ½å¤Ÿæ¶ˆé™¤å½¼æ­¤ä¹‹é—´çš„è€¦åˆå…³ç³» â€‹ å‘½ä»¤æ¨¡å¼è¿˜éœ€è¦æ”¯æŒæ’¤é”€ã€æ’é˜Ÿç­‰ç­‰æ“ä½œ å‘½ä»¤æ¨¡å¼çš„ä¾‹å­-èœå•ç¨‹åºï¼ˆé¢å‘å¯¹è±¡ï¼‰12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455var btn1 = document.getElementById(&quot;btn1&quot;);var btn2 = document.getElementById(&quot;btn2&quot;);var btn3 = document.getElementById(&quot;btn3&quot;);var setCommand = function (btn, commm) &#123; btn.onclick = function () &#123; commm.execute(); &#125;;&#125;;var MenuBar = &#123; refresh: function () &#123; console.log(&quot;åˆ·æ–°èœå•ç›®å½•&quot;); &#125;,&#125;;var SubMenu = &#123; add: function () &#123; console.log(&quot;å¢åŠ å­èœå•&quot;); &#125;, del: function () &#123; console.log(&quot;åˆ é™¤å­èœå•&quot;); &#125;,&#125;;var RefreshMenuBarCommand = function (receiver) &#123; this.receiver = receiver;&#125;;RefreshMenuBarCommand.prototype.execute = function () &#123; this.receiver.refresh();&#125;;var AddSubMenuCommand = function (receiver) &#123; this.receiver = receiver;&#125;;AddSubMenuCommand.prototype.execute = function () &#123; this.receiver.add();&#125;;var DelSubMenuCommand = function (receiver) &#123; this.receiver = receiver;&#125;;DelSubMenuCommand.prototype.execute = function () &#123; this.receiver.del();&#125;;var refreshMenuBarCommand = new RefreshMenuBarCommand(MenuBar);var addSubMenuCommand = new AddSubMenuCommand(SubMenu);var delSubMenuCommand = new DelSubMenuCommand(SubMenu);setCommand(btn1, refreshMenuBarCommand); // å°†divä¸æ–¹æ³•åšå¥½ç»‘å®šå…³ç³»,åŒæ—¶çº¦å®šä¸€ä¸ªè§¦å‘æŒ‡ä»¤ç‚¹å‡»btn1è§¦å‘refreshå†…éƒ¨é¢„ç•™çš„executeæ–¹æ³•setCommand(btn2, addSubMenuCommand);setCommand(btn3, delSubMenuCommand); å‘½ä»¤æ¨¡å¼çš„ä¾‹å­-èœå•ç¨‹åºï¼ˆé¢å‘å‡½æ•°ï¼‰123456var bindClick = function (btn, func) &#123; btn.onclick = func;&#125;;bindClick(btn1, MenuBar.refresh);bindClick(btn2, SubMenu.add);bindClick(btn3, SubMenu.del); å‘½ä»¤æ¨¡å¼çš„ç”±æ¥ï¼Œå…¶å®å°±æ˜¯å›è°ƒï¼ˆcallbackï¼‰å‡½æ•°çš„ä¸€ä¸ªé¢å‘å¯¹è±¡çš„æ›¿ä»£å“ è€Œå†JavaScriptè¿™æ ·å‡½æ•°ä½œä¸ºä¸€ç­‰å…¬å¹³çš„è¯­è¨€ä¸­ï¼Œå‘½ä»¤æ¨¡å¼æ—©å·²ç»èå…¥åˆ°è¯­è¨€ä¹‹ä¸­ï¼Œå‡½æ•°æœ¬èº«å°±å¯ä»¥è¢«å››å¤„ä¼ é€’ï¼Œå³æ—¶æˆ‘ä»¬ä¾æ—§éœ€è¦è¯·æ±‚â€œæ¥æ”¶è€…â€ï¼Œé‚£ä¹Ÿæœªå¿…ä½¿ç”¨é¢å‘å¯¹è±¡çš„æ–¹å¼ï¼Œé—­åŒ…åŒæ ·å¯ä»¥å®ŒæˆåŒæ ·çš„åŠŸèƒ½ã€‚ å‘½ä»¤æ¨¡å¼çš„ä¾‹å­-èœå•ç¨‹åºï¼ˆé—­åŒ…ï¼‰1234567891011121314var setCommand = function (btn, func) &#123; btn.onclick = function () &#123; func(); &#125;;&#125;;var RefreshMenuBarCommand = function (receiver) &#123; return function () &#123; receiver.refresh(); &#125;;&#125;;var refreshMenuBarCommand = RefreshMenuBarCommand(MenuBar);setCommand(btn1, refreshMenuBarCommand); å‘½ä»¤æ¨¡å¼ - å›æ”¾123456789101112131415161718192021222324252627282930313233343536373839var Ryu = &#123; attack: function () &#123; console.log(&quot;æ”»å‡»&quot;); &#125;, defense: function () &#123; console.log(&quot;é˜²å¾¡&quot;); &#125;, jump: function () &#123; console.log(&quot;è·³è·ƒ&quot;); &#125;, crouch: function () &#123; console.log(&quot;è¹²ä¸‹&quot;); &#125;,&#125;;var makeCommand = function (receiver, state) &#123; return function () &#123; receiver[state](); &#125;;&#125;;var commandStack = []; // ä¿å­˜å‘½ä»¤å †æ ˆdocument.onkeypress = function (ev) &#123; var commands = &#123; 119: &quot;jump&quot;, // w 115: &quot;crouch&quot;, // s 97: &quot;defense&quot;, // a 100: &quot;attack&quot;, // d &#125;; if (commands[ev.keyCode]) &#123; var command = makeCommand(Ryu, commands[ev.keyCode]); command(); // æ‰§è¡Œå‘½ä»¤ commandStack.push(command); // ä¿å­˜åˆ°å †æ ˆ &#125;&#125;;document.getElementById(&quot;replay&quot;).onclick = function () &#123; var command; while ((command = commandStack.shift())) &#123; command(); &#125;&#125;; å®å‘½ä»¤â€‹ å®å‘½ä»¤æ˜¯ä¸€ç»„å‘½ä»¤çš„é›†åˆï¼Œé€šè¿‡æ‰§è¡Œå®å‘½ä»¤çš„æ–¹å¼ï¼Œå¯ä»¥ä¸€æ¬¡æ‰§è¡Œä¸€æ‰¹å‘½ä»¤ã€‚ â€‹ åœ¨åˆ›å»ºå‘½ä»¤æ¨¡å¼çš„æ—¶å€™ï¼Œå¢åŠ ä¸€ä¸ªaddæ–¹æ³•æ¥å¢åŠ å‘½ä»¤ï¼Œå¹¶ä¿å­˜åˆ°ä»»åŠ¡å¯¹ç•¥ï¼Œæœ€åè°ƒç”¨executeæ–¹æ³•ä¾æ¬¡æ‰§è¡Œå³å¯ æ€»ç»“â€‹ å‘½ä»¤æ¨¡å¼åœ¨JavaScriptä¸­å› ä¸ºé«˜é˜¶å‡½æ•°çš„å­˜åœ¨ï¼Œè®©å…¶ä¸å¤ªæ˜¾çœ¼ï¼Œæœ¬è´¨ä¸Šä»–æ˜¯å°†å…·ä½“è°ƒç”¨ä¸è°ƒç”¨çš„å…·ä½“é€»è¾‘è¿›è¡Œåˆ†ç¦»ï¼Œå…·ä½“é€»è¾‘å°±æ˜¯å‘½ä»¤çš„ä½“ç°ã€‚ ç»„åˆæ¨¡å¼â€‹ ç»„åˆæ¨¡å¼éœ€è¦é€šè¿‡å¯¹è±¡çš„å¤šæ€æ€§è¿›è¡Œä½“ç°ï¼Œæ˜¯çš„ç”¨æˆ·å¯¹å•ä¸ªå¯¹è±¡å’Œç»„åˆå¯¹è±¡çš„ä½¿ç”¨å…·æœ‰ä¸€è‡´æ€§ ç¤ºä¾‹â€‹ è¿™é‡Œå®šä¹‰äº†ä¸€ä¸ªé€šç”¨å‡½æ•°executeæ¥ä½œä¸ºç»„åˆæ¨¡å¼çš„æ¡¥æ¢ï¼Œå®Œæˆå¯¹è±¡æ ‘çš„æ„å»ºã€‚ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465&lt;button id=&quot;button&quot;&gt;æŒ‰æˆ‘&lt;/button&gt;&lt;script&gt; var MacroCommand = function () &#123; return &#123; commandsList: [], add: function (command) &#123; this.commandsList.push(command); &#125;, execute: function () &#123; for (let i = 0; i &lt; this.commandsList.length; i++) &#123; this.commandsList[i].execute(); &#125; &#125;, &#125;; &#125;;var openAcCommand = &#123; execute: function () &#123; console.log(&quot;æ‰“å¼€ç©ºè°ƒ&quot;); &#125;,&#125;;var openTvCommand = &#123; execute: function () &#123; console.log(&quot;æ‰“å¼€ç”µè§†&quot;); &#125;,&#125;;var openSoundCommand = &#123; execute: function () &#123; console.log(&quot;æ‰“å¼€éŸ³å“&quot;); &#125;,&#125;;var macroCommand1 = MacroCommand();macroCommand1.add(openTvCommand);macroCommand1.add(openSoundCommand);var closeDoorCommand = &#123; execute: function () &#123; console.log(&quot;å…³é—¨&quot;); &#125;,&#125;;var openPcCommand = &#123; execute: function () &#123; console.log(&quot;æ‰“å¼€ç”µè„‘&quot;); &#125;,&#125;;var openQQCommand = &#123; execute: function () &#123; console.log(&quot;ç™»å½•QQ&quot;); &#125;,&#125;;var macroCommand2 = MacroCommand();macroCommand2.add(closeDoorCommand);macroCommand2.add(openPcCommand);macroCommand2.add(openQQCommand);var macroCommand = MacroCommand();macroCommand.add(openAcCommand); // å¦‚æœæ˜¯åŸºæœ¬å¯¹è±¡,å°±æ˜¯ç›´æ¥è§¦å‘åˆ°å…¶æœ¬èº«çš„executeæ–¹æ³•macroCommand.add(macroCommand1); // å¦‚æœæ˜¯å¤æ‚å¯¹è±¡,åˆ™è§¦å‘åˆ°ä¸‹ä¸€çº§çš„execute,ç„¶åä»¥æ·±åº¦ä¼˜ç‚¹éå†ç›´åˆ°æœ€åº•éƒ¨çš„åŸºæœ¬å¯¹è±¡macroCommand.add(macroCommand2);var setCommand = (function (command) &#123; document.getElementById(&quot;button&quot;).onclick = function () &#123; command.execute(); &#125;;&#125;)(macroCommand);&lt;/script&gt; â€‹ ç»„åˆæ¨¡å¼æœ€å¤§çš„ä¼˜ç‚¹åœ¨äºå¯ä»¥ä¸€è‡´åœ°å¯¹å¾…ç»„åˆå¯¹è±¡ä¸åŸºæœ¬å¯¹è±¡ã€‚å®¢æˆ·ä¸éœ€è¦å…³å¿ƒå½“å‰å¤„ç†çš„æ˜¯è°ï¼Œåªè¦å®ƒæ˜¯ä¸€ä¸ªå‘½ä»¤ï¼Œå¹¶ä¸”æœ‰executeæ–¹æ³•ï¼Œè¿™ä¸ªå‘½ä»¤å°±å¯ä»¥è¢«æ‰§è¡Œã€‚ â€‹ å¾—ç›ŠäºJavaScriptæ˜¯åŠ¨æ€ç±»å‹è¯­è¨€ï¼Œå¯¹è±¡çš„å¤šæ€æ€§ä¸ç”Ÿä¿±æ¥ï¼Œä¸ä¼šå­˜åœ¨ç¼–è¾‘å™¨æ£€æŸ¥ï¼Œæ‰€ä»¥æˆ‘ä»¬å®ç°ç»„åˆæ¨¡å¼å¹¶ä¸éœ€è¦ç¼–å†™æŠ½è±¡ç±»ï¼Œåªéœ€è¦ä¿è¯ç»„åˆå¯¹è±¡ä¸å¶å¯¹è±¡æ‹¥æœ‰ç›¸åŒçš„æ–¹æ³•å³å¯ï¼Œå¹¶ä¸”ç”¨é¸­å­ç±»å‹çš„æ€æƒ³è¿›è¡Œæ¥å£æ£€æŸ¥ ç»„åˆæ¨¡å¼-æ‰«ææ–‡ä»¶å¤¹â€‹ æˆ‘ä»¬é€šè¿‡ç»„åˆæ¨¡å¼ï¼Œå¯ä»¥åšåˆ°æ›´æ–°æ ‘çš„ç»“æ„ï¼Œä½†æ˜¯å´ä¸éœ€è¦æ”¹å˜åŸæœ‰ä»£ç ï¼Œè¿™ç¬¦åˆå¼€æ”¾å°é—­åŸåˆ™ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051var Folder = function (nameParams) &#123; let name = nameParams; let files = []; function add(file) &#123; files.push(file); &#125; function scan() &#123; console.log(&quot;å¼€å§‹æ‰«ææ–‡ä»¶å¤¹&quot;, name); for (let i = 0; i &lt; files.length; i++) &#123; files[i].scan(); &#125; &#125; return &#123; add, scan, &#125;;&#125;;var File = function (nameParams) &#123; let name = nameParams; function add() &#123; throw new Error(&quot;æ–‡ä»¶ä¸­ä¸èƒ½å¢åŠ æ–‡ä»¶å¤¹&quot;); &#125; function scan() &#123; console.log(&quot;å¼€å§‹æ‰«ææ–‡ä»¶&quot;, name); &#125; return &#123; add, scan, &#125;;&#125;;var folder = new Folder(&quot;å­¦ä¹ èµ„æ–™&quot;);var folder1 = new Folder(&quot;JavaScript&quot;);var folder2 = new Folder(&quot;jQuery&quot;);var file1 = new File(&quot;JavaScriptè®¾è®¡æ¨¡å¼ä¸å¼€å‘å®è·µ&quot;);var file2 = new File(&quot;ç²¾é€šjQuery&quot;);var file3 = new File(&quot;é‡æ„ä¸æ¨¡å¼&quot;);folder1.add(file1);folder2.add(file2);folder.add(folder1);folder.add(folder2);folder.add(file3);var folder3 = new Folder(&quot;Nodejs&quot;);var file4 = new File(&quot;æ·±å…¥æµ…å‡ºNode.js&quot;);folder3.add(file4);var file5 = new File(&quot;JavaScriptè¯­è¨€ç²¾é«“ä¸ç¼–ç¨‹å®æˆ˜&quot;);folder.add(folder3);folder.add(file5);folder.scan(); ä¸€äº›éœ€è¦æ³¨æ„çš„åœ°æ–¹ ç»„åˆæ¨¡å¼ä¸æ˜¯çˆ¶å­å…³ç³» å¯¹ä¸€ç»„å¶å¯¹è±¡çš„æ“ä½œå¿…é¡»å…·æœ‰ä¸€è‡´æ€§ï¼Œåªæœ‰ç”¨ä¸€è‡´çš„æ–¹å¼å¯¹å¾…åˆ—è¡¨ä¸­çš„æ¯ä¸€ä¸ªå¶å¯¹è±¡ï¼Œæ‰é€‚åˆä½¿ç”¨ç»„åˆæ¨¡å¼ å¦‚æœå­˜åœ¨ä¸€ä¸ªå¶å­å…ƒç´ å­˜åœ¨å¤šä¸ªçˆ¶çº§ï¼Œå¯èƒ½å°±éœ€è¦ç®¡ç†æ˜ å°„å…³ç³»ï¼Œé¿å…å­å…ƒç´ å¤šæ¬¡è¢«æ‰§è¡Œ æ€»ç»“â€‹ ç»„åˆæ¨¡å¼å¯ä»¥è®©æˆ‘ä»¬æŠŠç›¸åŒçš„æ“ä½œåº”ç”¨åœ¨ç»„åˆå¯¹è±¡å’Œå•ä¸ªå¯¹è±¡ä¸Šã€‚ ç»„åˆæ¨¡å¼çš„ç¾å›½å’Œå¯¹è±¡çœ‹èµ·æ¥éƒ½å’Œå…¶ä»–å¯¹è±¡å·®ä¸å¤šï¼Œä»–ä»¬çš„åŒºåˆ«åªèƒ½åœ¨è¿è¡Œä¸­æ‰èƒ½æ˜¾ç°å‡ºæ¥ï¼Œè¿™ä¼šä½¿ä»£ç éš¾ä»¥ç†è§£ ç»„åˆæ¨¡å¼ä¼šå¤§é‡åˆ›å»ºå˜é‡ï¼Œä¼šè®©ç³»ç»Ÿè´Ÿæ‹…ä¸èµ· æ¨¡æ¿æ–¹æ³•æ¨¡å¼â€‹ æ¨¡æ¿æ–¹æ³•æ˜¯ä¸€ç§åªéœ€è¦ç»§æ‰¿å°±å¯ä»¥å®ç°çš„éå¸¸ç®€å•çš„æ¨¡å¼ï¼ˆå¤šæ€æ€§ï¼‰ æ¨¡æ¿æ–¹æ³•ç”±2éƒ¨åˆ†ç»„æˆï¼Œç¬¬ä¸€éƒ¨åˆ†æ˜¯æŠ½è±¡çˆ¶ç±»ï¼Œç¬¬äºŒéƒ¨åˆ†æ˜¯å…·ä½“çš„å®ç°å­ç±» åœ¨æ¨¡æ¿æ–¹æ³•æ¨¡å¼ä¸­ï¼Œå­ç±»å®ç°ä¸­çš„ç›¸åŒéƒ¨åˆ†è¢«ä¸Šç§»åˆ°çˆ¶ç±»ä¸­ï¼Œè€Œå°†ä¸åŒçš„éƒ¨åˆ†ç•™åˆ°å­ç±»ä¸­è¿›è¡Œå®ç°ï¼Œè¿™å¾ˆå¥½çš„ä½“ç°äº†æ³›åŒ–çš„æ€æƒ³ã€‚ â€‹ åœ¨æ¨¡æ¿æ–¹æ³•ä¸­ï¼Œå­ç±»å®ç°ä¸­çš„ç›¸åŒéƒ¨åˆ†è¢«ä¸Šç§»åˆ°çˆ¶ç±»ä¸­ï¼Œè€Œå°†ä¸åŒçš„éƒ¨åˆ†ç•™ç»™å­ç±»å®ç°ï¼Œå­ç±»å¯ä»¥å¤å†™å…¶å…·ä½“å®ç°ã€‚ å’–å•¡ä¸èŒ¶1234567891011121314151617181920212223242526272829303132333435363738394041var Beverage = function () &#123;&#125;;Beverage.prototype.boilWater = function () &#123; console.log(&quot;æŠŠæ°´ç…®æ²¸&quot;);&#125;;Beverage.prototype.brew = function () &#123;&#125;;Beverage.prototype.pourInCup = function () &#123;&#125;;Beverage.prototype.addCondiments = function () &#123;&#125;;Beverage.prototype.init = function () &#123; this.boilWater(); this.brew(); this.pourInCup(); this.addCondiments();&#125;;var Coffee = function () &#123;&#125;;Coffee.prototype = new Beverage();Coffee.prototype.brew = function () &#123; console.log(&quot;æ²¸æ°´å†²æ³¡å’–å•¡&quot;);&#125;;Coffee.prototype.pourInCup = function () &#123; console.log(&quot;æŠŠå’–å•¡å€’è¿›æ¯å­&quot;);&#125;;Coffee.prototype.addCondiments = function () &#123; console.log(&quot;åŠ ç³–å’Œç‰›å¥¶&quot;);&#125;;var Coffee = new Coffee();Coffee.init();var Tea = function () &#123;&#125;;Tea.prototype = new Beverage();Tea.prototype.brew = function () &#123; console.log(&quot;æ²¸æ°´å†²æ³¡å’–å•¡&quot;);&#125;;Tea.prototype.pourInCup = function () &#123; console.log(&quot;æŠŠå’–å•¡å€’è¿›æ¯å­&quot;);&#125;;Tea.prototype.addCondiments = function () &#123; console.log(&quot;åŠ ç³–å’Œç‰›å¥¶&quot;);&#125;;var Tea = new Tea();Tea.init(); â€‹ åœ¨ä»¥ä¸Šä¾‹å­ä¸­Beverage.prototype.initå°±æ˜¯æ‰€è°“çš„æ¨¡æ¿æ–¹æ³•ï¼Œå› ä¸ºè¯¥å¸†å¸†ä¸­å°è£…äº†å­ç±»çš„ç®—æ³•æ¡†æ¶ã€‚ æŠ½è±¡ç±»æ¨¡æ¿æ–¹æ³•æ¨¡å¼æ˜¯ä¸€ç§ä¸¥æ ¼ä¾èµ–æŠ½è±¡ç±»çš„è®¾è®¡æ¨¡å¼ã€‚ æŠ½è±¡å¸†å¸†è¢«å£°æ˜åœ¨æŠ½è±¡ç±»ä¸­ï¼ŒæŠ½è±¡æ–¹æ³•å¹¶æ²¡æœ‰å…·ä½“çš„å®ç°è¿‡ç¨‹ï¼Œæ˜¯ä¸€äº›å“‘å·´æ–¹æ³• å¦‚æœæ¯ä¸ªå­ç±»ä¸­éƒ½æœ‰ä¸€äº›åŒæ ·çš„å…·ä½“å®ç°æ–¹æ³•ï¼Œé‚£ä¹ˆè¿™äº›æ–¹æ³•ä¹Ÿå¯ä»¥é€‰æ‹©æ”¾åœ¨æŠ½è±¡ç±»ä¸­ï¼Œè¿™æ ·å¯ä»¥èŠ‚çœä»£ç ä»¥è¾¾åˆ°å¤ç”¨çš„æ•ˆæœï¼Œè¿™äº›æ–¹æ³•è¢«å«åšå…·ä½“æ–¹æ³•ã€‚ é’©å­æ–¹æ³•â€‹ æ¨¡æ¿æ–¹æ³•æ˜¯å›ºå®šä¸å˜çš„ï¼Œä½†æ˜¯åœ¨æŸäº›åœºæ™¯ä¸‹å´åˆè¦æ±‚ä»–å˜åŒ–ï¼Œæœ‰ä»€ä¹ˆåŠæ³•å¯ä»¥è®©å­ç±»ä¸å—è¿™ä¸ªçº¦æŸå‘¢ï¼Ÿ â€‹ æˆ‘ä»¬å¯ä»¥ä½¿ç”¨é’©å­æ–¹æ³•æ¥å®ç°ï¼Œæ”¾ç½®ä¸€ä¸ªé’©å­åœ¨ç‰¹å®šçš„é€»è¾‘ã€‚ä¾‹å¦‚ä»¥ä¸Šçš„ä¾‹å­ä¸­å’–å•¡æœ‰äº›äººä¸å¸Œæœ›åŠ è°ƒæ–™ 12345678910111213141516171819// ...Beverage.prototype.custonmerWantsCondiments = function () &#123; return true; // é»˜è®¤éœ€è¦è°ƒæ–™&#125;;Beverage.prototype.init = function () &#123; this.boilWater(); this.brew(); this.pourInCup(); if (this.custonmerWantsCondiments()) &#123; this.addCondiments(); &#125;&#125;;// ...Coffee.prototype.custonmerWantsCondiments = function()&#123; return window.confirm(&#x27;è¯·é—®éœ€è¦è°ƒæ–™å—ï¼Ÿ&#x27;)&#125;var Coffee = new Coffee();Coffee.init(); å¥½è±ååŸåˆ™â€‹ å¥½è±åæ— ç–‘æ˜¯æ¼”å‘˜çš„å¤©å ‚ï¼Œä½†å¥½è±åä¹Ÿæœ‰å¾ˆå¤šæ‰¾ä¸åˆ°å·¥ä½œçš„æ–°äººæ¼”å‘˜ï¼Œè®¸å¤šæ–°äººæ¼”å‘˜åœ¨å¥½è±åæŠŠç®€å†æŠ•é€’è¿‡å»ä¹‹åï¼Œåªèƒ½å›å®¶ç­‰ç”µè¯ï¼Œæœ‰äº›ç­‰ä¸åŠçš„å°±ä¼šæ‰“ç”µè¯è¿‡å»é—®ï¼Œè€Œå¥½è±åæ¯æ¬¡éƒ½ä¼šå›ç­”ï¼šâ€œä¸å¤ªæ¥æ‰¾æˆ‘ï¼Œæœ‰æ¶ˆæ¯æˆ‘ä¼šé€šçŸ¥ä½ â€ â€‹ åœ¨è®¾è®¡ä¸­ï¼Œè¿™ç§æ¨¡å¼è¢«ç§°ä¸ºå¥½è±ååŸåˆ™ï¼Œåœ¨ç¨‹åºä¸­ï¼Œé«˜å±‚ç»„ä»¶å†³å®šä»€ä¹ˆæ—¶å€™ä»¥ä½•ç§æ–¹å¼ä½¿ç”¨è¿™äº›åº•å±‚ç»„ä»¶ â€‹ è¿™ç§æ¨¡å¼åœ¨æ¨¡æ¿æ–¹æ³•æ¨¡å¼ä¸­å¾ˆå¸¸è§ï¼Œåœ¨å‘å¸ƒè®¢é˜…æ¨¡å¼ï¼Œå›è°ƒå‡½æ•°éƒ½éå¸¸é€‚ç”¨ï¼Œå°±åƒå‡ºç§Ÿè½¦å¸æœºå‘Šè¯‰ä½ åˆ«é—®æˆ‘è¿˜æœ‰å¤šè¿œåˆ°ï¼Œåˆ°äº†æˆ‘ä¼šå‘Šè¯‰ä½ ã€‚ å°ç»“â€‹ æ¨¡æ¿æ–¹æ³•æ˜¯ä¸€ç§å…¸å‹çš„é€šè¿‡å°è£…å˜åŒ–æé«˜ç³»ç»Ÿæ‹“å±•æ€§çš„è®¾è®¡æ¨¡å¼ã€‚æˆ‘ä»¬æŠŠéƒ¨åˆ†æŠ½è±¡é€»è¾‘æŠ½è±¡åˆ°çˆ¶ç±»çš„æ¨¡æ¿æ–¹æ³•ï¼Œè€Œå­ç±»çš„æ–¹æ³•å…·ä½“æ€ä¹ˆå®ç°æ˜¯å¯å˜çš„ï¼Œäºæ˜¯æˆ‘ä»¬æŠŠè¿™éƒ¨åˆ†å˜åŒ–çš„é€»è¾‘å°è£…åˆ°å­ç±»ä¸­ã€‚ äº«å…ƒæ¨¡å¼æ¡ˆä¾‹â€‹ å‡è®¾æœ‰ä¸€ä¸ªæœè£…å·¥å‚ï¼Œç›®å‰é‡Œé¢50ä¸ªç”·å£«æ ·å¼ï¼Œ50ä¸ªå¥³å£«æ ·å¼ï¼Œä»–ä»¬éƒ½éœ€è¦æ¨¡ç‰¹ç©¿ä¸Šæ‹å®£ä¼ ç‰‡ï¼Œæ­£å¸¸æƒ…å†µä¸‹å°±éœ€è¦åˆ†åˆ«50ä¸ªæ¨¡ç‰¹æ¥æ‹ç…§ï¼Œç¨‹åºå®ç°é€»è¾‘ä¸º 123456789101112131415var Model = function (sex, underwear) &#123; this.sex = sex; this.underwear = underwear;&#125;;Model.prototype.takePhoto = function () &#123; console.log(`$&#123;this.sex&#125;:$&#123;this.underwear&#125;`);&#125;;for (let i = 0; i &lt; 50; i++) &#123; var maleModel = new Model(&quot;male&quot;, `underwear$&#123;i&#125;`); maleModel.takePhoto();&#125;for (let i = 0; i &lt; 50; i++) &#123; var femaleModel = new Model(&quot;female&quot;, `underwear$&#123;i&#125;`); femaleModel.takePhoto();&#125; â€‹ ç°åœ¨åˆ†åˆ«50ç§å†…è¡£ï¼Œä¸€å…±æœ‰100ä¸ªå¯¹è±¡ï¼Œåé¢å¦‚æœè¶Šæ¥è¶Šå¤šï¼Œ10000ä¸ªï¼Œå¯èƒ½å°±ä¼šå¯¼è‡´ç¨‹åºå´©æºƒã€‚å…¶å®æˆ‘ä»¬ä»”ç»†æƒ³æƒ³å°±ä¼šå‘ç°ï¼Œæˆ‘ä»¬ä¸éœ€è¦ä¸€å¥—å†…è¡£éƒ½æ­ä¸€ä¸ªæ¨¡ç‰¹ï¼Œåªéœ€è¦ä¸€ä¸ªç”·æ¨¡ç‰¹ï¼Œä¸€ä¸ªå¥³æ¨¡ç‰¹å°±å¤Ÿäº†ï¼Œæˆ‘ä»¬æ ¹æ®è¿™æ ·çš„æ€è·¯å†æ¬¡æ”¹å†™ä»£ç  123456789101112131415var Model = function (sex) &#123; this.sex = sex;&#125;;Model.prototype.takePhoto = function (underwear) &#123; console.log(`$&#123;this.sex&#125;:$&#123;underwear&#125;`);&#125;;var maleModel = new Model(&quot;male&quot;);var femaleModel = new Model(&quot;female&quot;);for (let i = 0; i &lt; 50; i++) &#123; maleModel.takePhoto(`underwear$&#123;i&#125;`);&#125;for (let i = 0; i &lt; 50; i++) &#123; femaleModel.takePhoto(`underwear$&#123;i&#125;`);&#125; â€‹ æ”¹é€ ä¹‹åï¼Œæˆ‘ä»¬åªéœ€è¦ä¸¤ä¸ªå¯¹è±¡å°±å®ç°äº†ç›¸åŒçš„åŠŸèƒ½ï¼Œå¹¶ä¸”å¼€é”€æ˜¯å›ºå®šçš„2ä¸ªï¼Œå°±ç®—10000é—´è¡£æœä¹Ÿä¸ä¼šå‡ºç°é—®é¢˜ å¤–éƒ¨çŠ¶æ€ä¸å†…éƒ¨çŠ¶æ€ äº«å…ƒæ¨¡å¼çš„ç›®æ ‡æ˜¯å°½é‡å‡å°‘å…±äº«å¯¹è±¡çš„æ•°é‡ï¼Œæ˜¯ä¼˜å…ˆä½¿ç”¨æ—¶é—´æ¢å–ç©ºé—´çš„ä¼˜åŒ–æ¨¡å¼ ä¸Šä¼ æ–‡ä»¶çš„ä¾‹å­1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253var id = 0;window.startUpload = function (uploadType, files) &#123; for (let i = 0; i &lt; files.length; i++) &#123; let file = files[i]; var uploadObj = new Upload(uploadType, file.fileName, file.fileSize); // å®ä¾‹åŒ–ä¼ å…¥å˜é‡ uploadObj.init(id++); // initä¸­åˆ›å»ºdom &#125;&#125;;var Upload = function (uploadType, fileName, fileSize) &#123; this.uploadType = uploadType; this.fileName = fileName; this.fileSize = fileSize; this.dom = null;&#125;;Upload.prototype.init = function (id) &#123; var that = this; this.id = id; this.dom = document.createElement(&quot;div&quot;); this.dom.id = id; this.dom.innerHTML = `&lt;span&gt;æ–‡ä»¶åç§°ï¼š$&#123;this.fileName&#125; æ–‡ä»¶å¤§å°ï¼š$&#123;this.fileSize&#125; ä¸Šä¼ æ–¹å¼:$&#123;this.uploadType&#125;&lt;/span&gt;&lt;button class=&quot;delFile&quot;&gt;åˆ é™¤&lt;/button&gt;`; this.dom.querySelector(&quot;.delFile&quot;).onclick = function () &#123; that.delFile(); &#125;; document.body.appendChild(this.dom);&#125;;Upload.prototype.delFile = function () &#123; if (this.fileSize &lt; 3000) &#123; return this.dom.parentNode.removeChild(this.dom); &#125; if (window.confirm(&quot;ç¡®å®šåˆ é™¤æ–‡ä»¶å—ï¼Ÿ&quot; + this.fileName)) &#123; return this.dom.parentNode.removeChild(this.dom); &#125;&#125;;startUpload(&quot;plugin&quot;, [ &#123; fileName: &quot;1.txt&quot;, fileSize: 1000, &#125;, &#123; fileName: &quot;2.txt&quot;, fileSize: 2000, &#125;,]);startUpload(&quot;flash&quot;, [ &#123; fileName: &quot;5.txt&quot;, fileSize: 6000, &#125;, &#123; fileName: &quot;6.txt&quot;, fileSize: 7000, &#125;,]); â€‹ åœ¨ä»¥ä¸Šä¾‹å­ä¸­ï¼Œæˆ‘ä»¬ä¸Šä¼ å¤šå°‘æ–‡ä»¶å°±éœ€è¦åˆ›å»ºå¤šå°‘ä¸ªå¯¹è±¡ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬ç”¨äº«å…ƒæ¨¡å¼é‡æ„ä»¥ä¸Šä»£ç  1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071var Upload = function (uploadType, fileName, fileSize) &#123; this.uploadType = uploadType; &#125;; Upload.prototype.delFile = function (id) &#123; let carry = uploadManager.setExternalState(id); return carry.dom.parentNode.removeChild(carry.dom); &#125;; var UploadFactoy = (function () &#123; var createFlyWeghtObjs = &#123;&#125;; return &#123; create: function (uploadType) &#123; if (createFlyWeghtObjs[uploadType]) &#123; return createFlyWeghtObjs[uploadType]; &#125; createFlyWeghtObjs[uploadType] = new Upload(uploadType); return createFlyWeghtObjs[uploadType]; &#125;, &#125;; &#125;)(); var uploadManager = (function () &#123; var uploadDataBase = &#123;&#125;; return &#123; add: function (id, uploadType, fileName, fileSize) &#123; var flyWeight = UploadFactoy.create(uploadType); var dom = document.createElement(&quot;div&quot;); dom.innerHTML = `&lt;span&gt;æ–‡ä»¶åç§°ï¼š$&#123;fileName&#125; æ–‡ä»¶å¤§å°ï¼š$&#123;fileSize&#125; ä¸Šä¼ æ–¹å¼:$&#123;uploadType&#125;&lt;/span&gt;&lt;button class=&quot;delFile&quot;&gt;åˆ é™¤&lt;/button&gt;`; dom.querySelector(&quot;.delFile&quot;).onclick = function () &#123; flyWeight.delFile(id); &#125;; document.body.appendChild(dom); uploadDataBase[id] = &#123; fileName, fileSize, dom, &#125;; console.log(uploadDataBase); return flyWeight; &#125;, setExternalState: function (id) &#123; return uploadDataBase[id]; &#125;, &#125;; &#125;)(); var id = 0; window.startUpload = function (uploadType, files) &#123; for (let i = 0; i &lt; files.length; i++) &#123; let file = files[i]; uploadManager.add(++id, uploadType, file.fileName, file.fileSize); &#125; &#125;; startUpload(&quot;plugin&quot;, [ &#123; fileName: &quot;1.txt&quot;, fileSize: 1000, &#125;, &#123; fileName: &quot;2.txt&quot;, fileSize: 2000, &#125;, ]); startUpload(&quot;flash&quot;, [ &#123; fileName: &quot;5.txt&quot;, fileSize: 6000, &#125;, &#123; fileName: &quot;6.txt&quot;, fileSize: 7000, &#125;, ]); â€‹ é€šè¿‡äº«å…ƒæ¨¡å¼åˆ›å»ºåï¼Œå®ä¾‹åŒ–çš„å¯¹è±¡å› ä¸ºå·¥å‚æ¨¡å¼çš„å­˜åœ¨åªåˆ›å»ºäº†2ä¸ªã€‚ äº«å…ƒæ¨¡å¼çš„é€‚ç”¨æ€§ ä¸€ä¸ªç¨‹åºä¸­ä½¿ç”¨äº†å¤§é‡ç›¸ä¼¼çš„å¯¹è±¡ï¼Œå¹¶ä¸”è¿™äº›å¯¹è±¡å¤§å¤šæ•°çŠ¶æ€æ˜¯å¯ä»¥æˆä¸ºå¤–éƒ¨çŠ¶æ€çš„ å¯ä»¥ä½¿ç”¨å…±äº«å¯¹è±¡å–ä»£å¤§é‡å¯¹è±¡ï¼Œå°†å¤–éƒ¨çŠ¶æ€å‰¥ç¦»å‡ºå» å¯¹è±¡æ± â€‹ å¯¹è±¡æ± ç»´æŠ¤ä¸€ä¸ªè£…è½½ç©ºé—²å¯¹è±¡çš„æ± å­ï¼Œå¦‚æœéœ€è¦å¯¹è±¡çš„æ—¶å€™ï¼Œä¸ä¼šå†å»newï¼Œè¿˜æ˜¯ä»å¯¹è±¡æ± ä¸­è¿›è¡Œè·å–ï¼Œå¦‚æœå¯¹è±¡æ± ä¸å­˜åœ¨å¯ç”¨å¯¹è±¡ï¼Œåˆ™åˆ›å»ºä¸€ä¸ªæ–°å¯¹è±¡ï¼Œå½“è·å–å¤„çš„å¯¹è±¡å®Œæˆäº†ä»–çš„èŒè´£ä¹‹åï¼Œå†æ¬¡è¿›å…¥æ± å­ç­‰å¾…ä¸‹æ¬¡è·å– åœ°å›¾æ ‡ç‚¹demoâ€‹ è¿›å…¥åœ°å›¾è½¯ä»¶åï¼Œé¦–å…ˆæœç´¢Aåœ°ç‚¹ï¼Œå­˜åœ¨2ä¸ªåæ ‡ç‚¹ï¼Œé€šè¿‡å·¥å‚å‡½æ•°ä¾¿åˆ›å»ºäº†2ä¸ªï¼Œè€Œåæœç´¢äº†Båœ°ç‚¹ï¼Œå­˜åœ¨6ä¸ªåæ ‡ï¼Œä¾¿ä¼šåˆ©ç”¨ä¹‹å‰ç©ºé—²çš„2ä¸ªï¼Œå†æ–°å¢åŠ 4ä¸ªåæ ‡ç‚¹ â€‹ å¯¹è±¡æ± çš„æ¨¡å¼ä¸äº«å…ƒæ¨¡å¼ç±»ï¼ŒçŸ¥è¯†æ²¡æœ‰çŠ¶æ€åˆ†ç¦»çš„è¿‡ç¨‹ã€‚ 12345678910111213141516171819var objectPoolFactory = function (createObjFun) &#123; var objectPool = []; return &#123; create: function () &#123; // åˆ›å»ºå¯¹è±¡ if (objectPool.length === 0) &#123; // å¦‚æœå¯¹è±¡æ± ä¸­æ²¡æœ‰å¯¹è±¡ï¼Œå°±åˆ›å»ºä¸€ä¸ªæ–°çš„å¯¹è±¡ return createObjFun.apply(this, arguments); &#125; else &#123; // å¦‚æœå¯¹è±¡æ± ä¸­æœ‰å¯¹è±¡ï¼Œå°±ä»å¯¹è±¡æ± ä¸­å–å‡ºä¸€ä¸ªå¯¹è±¡ return objectPool.shift(); &#125; &#125;, recover: function (obj) &#123; // å›æ”¶å¯¹è±¡ objectPool.push(obj); &#125;, &#125;;&#125;; æ€»ç»“â€‹ äº«å…ƒæ¨¡å¼ä¸»è¦ä¸ºè§£å†³æ€§èƒ½é—®é¢˜ï¼Œåœ¨ä¸€ä¸ªå­˜åœ¨å¤§é‡ç›¸ä¼¼å¯¹è±¡çš„ç³»ç»Ÿä¸­ï¼Œäº«å…ƒæ¨¡å¼å¯ä»¥å¾ˆå¥½çš„è§£å†³å¤§é‡å¯¹è±¡å¸¦æ¥çš„æ€§èƒ½é—®é¢˜ã€‚ èŒè´£é“¾æ¨¡å¼â€‹ ä½¿å¤šä¸ªå¯¹è±¡éƒ½æœ‰æœºä¼šå¤„ç†è¯·æ±‚ï¼Œä»è€Œé¿å…è¯·æ±‚çš„å‘é€è€…ä¸æ¥æ”¶è€…ä¹‹é—´çš„è€¦åˆå…³ç³»ï¼Œå°†è¿™äº›å¯¹è±¡è¿æˆä¸€æ¡é“¾ï¼Œå¹¶æ²¿ç€è¿™æ¡é“¾ä¼ é€’è¯¥è¯·æ±‚ï¼Œç›´åˆ°æœ‰ä¸€ä¸ªå¯¹è±¡å¤„ç†å®ƒä¸ºæ­¢ã€‚ â€‹ èŒè´£é“¾ä¼˜ç‚¹ï¼šè¯·æ±‚å‘é€è€…åªéœ€è¦çŸ¥é“é“¾ä¸­çš„ç¬¬ä¸€ä¸ªèŠ‚ç‚¹ï¼Œä»è€Œå¼±åŒ–äº†å‘é€è€…å’Œä¸€ç»„æ¥æ”¶è€…ä¹‹é—´çš„å¼ºè”ç³» ä½¿ç”¨æŒ‡è´£é“¾å®Œæˆè®¢å•ç”Ÿæˆdemo æ”¯ä»˜è¿‡å®šé‡‘çš„ä¸å—åº“å­˜é™åˆ¶ï¼Œç›´æ¥å¯ä¸‹å• ä¸‹äº†å®šé‡‘çš„è®¢å•ä½†æ˜¯å´æ²¡æœ‰æ”¯ä»˜çš„æ­£å¸¸è´­ä¹° æœªæ”¯ä»˜å®šé‡‘çš„æ­£å¸¸è´­ä¹° 12345678910111213141516171819202122var order500 = function (orderType, pay, stock) &#123; if (orderType === 1 &amp;&amp; pay === true) &#123; console.log(&quot;500å®šé‡‘é¢„ä»˜ï¼Œå¾—åˆ°100å…ƒä¼˜æƒ åˆ¸&quot;); &#125; else &#123; order200(orderType, pay, stock); &#125;&#125;;var order200 = function (orderType, pay, stock) &#123; if (orderType === 2 &amp;&amp; pay === true) &#123; console.log(&quot;200å®šé‡‘é¢„ä»˜ï¼Œå¾—åˆ°50å…ƒä¼˜æƒ åˆ¸&quot;); &#125; else &#123; order(orderType, pay, stock); &#125;&#125;;var orderNormal = function (orderType, pay, stock) &#123; if (stock &gt; 0) &#123; console.log(&quot;æ™®é€šè´­ä¹°ï¼Œæ— ä¼˜æƒ åˆ¸&quot;); &#125; else &#123; console.log(&quot;æ‰‹æœºåº“å­˜ä¸è¶³&quot;); &#125;&#125;;order500(1, true, 10); â€‹ æˆ‘ä»¬æŒ‰ç…§èŒè´£é“¾è¿›è¡Œå®ç°ï¼Œä½†æ˜¯é“¾æ¡çš„è€¦åˆé—®é¢˜éå¸¸ä¸¥é‡ï¼ŒåŠ å…¥åé¢å‡ºç°å…¶ä»–æŠ˜æ‰£ï¼Œä¾¿éœ€è¦æ”¹å†™åŸæœ¬å·²ç»å†™å¥½çš„ä»£ç ï¼Œè¿™è¿åçœ‹å¼€æ”¾å°é—­åŸåˆ™ã€‚æˆ‘ä»¬ç»§ç»­ä¼˜åŒ– 123456789101112131415161718192021222324252627282930313233343536373839404142var order500 = function (orderType, pay, stock) &#123; if (orderType === 1 &amp;&amp; pay === true) &#123; console.log(&quot;500å®šé‡‘é¢„ä»˜ï¼Œå¾—åˆ°100å…ƒä¼˜æƒ åˆ¸&quot;); &#125; else &#123; return &quot;nextSuccessor&quot;; &#125;&#125;;var order200 = function (orderType, pay, stock) &#123; if (orderType === 2 &amp;&amp; pay === true) &#123; console.log(&quot;200å®šé‡‘é¢„ä»˜ï¼Œå¾—åˆ°50å…ƒä¼˜æƒ åˆ¸&quot;); &#125; else &#123; return &quot;nextSuccessor&quot;; &#125;&#125;;var orderNormal = function (orderType, pay, stock) &#123; if (stock &gt; 0) &#123; console.log(&quot;æ™®é€šè´­ä¹°ï¼Œæ— ä¼˜æƒ åˆ¸&quot;); &#125; else &#123; console.log(&quot;æ‰‹æœºåº“å­˜ä¸è¶³&quot;); &#125;&#125;;var Chain = function (fn) &#123; this.fn = fn; this.successor = null;&#125;;Chain.prototype.setNextSuccessor = function (successor) &#123; this.successor = successor;&#125;;Chain.prototype.passRequest = function (orderType, pay, stock) &#123; var ret = this.fn(orderType, pay, stock); if (ret === &quot;nextSuccessor&quot;) &#123; this.successor.passRequest(orderType, pay, stock); &#125; return ret;&#125;;var chianOrder500 = new Chain(order500);var chianOrder200 = new Chain(order200);var chianOrderNormal = new Chain(orderNormal);chianOrder500.setNextSuccessor(chianOrder200);chianOrder200.setNextSuccessor(chianOrderNormal);chianOrder500.passRequest(1, true, 10); â€‹ ç°åœ¨æˆ‘ä»¬å°†èŒè´£é“¾çš„è€¦åˆå…³ç³»ç»´æŠ¤äº¤ç»™Chainè¿›è¡Œç»´æŠ¤å¦‚æœåæœŸè¿˜ä¼šå¢åŠ å…¶ä»–é¢„çº¦ç±»å‹ï¼Œåªéœ€è¦ç¼–å†™ç›¸å…³é€»è¾‘ä»£ç ä¸éƒ¨åˆ†èŒè´£é“¾ä»£ç å³å¯ å¼‚æ­¥èŒè´£é“¾1234567891011121314151617181920Chain.prototype.next = function () &#123; return this.successor.passRequest(arguments);&#125;;var fn1 = new Chain(function () &#123; console.log(1); return &quot;nextSuccessor&quot;;&#125;);var fn2 = new Chain(function () &#123; console.log(2); var self = this; setTimeout(() =&gt; &#123; self.next(); &#125;, 1000);&#125;);var fn3 = new Chain(function () &#123; console.log(3);&#125;);fn1.setNextSuccessor(fn2);fn2.setNextSuccessor(fn3);fn1.passRequest(); â€‹ æˆ‘ä»¬å¢åŠ ä¸€ä¸ªnextæ–¹æ³•æ¥æ‰§è¡Œä¸‹ä¸€ä¸ªèŒè´£é“¾çš„å›è°ƒå‡½æ•°ï¼Œè¿›è€Œå®ç°å¼‚æ­¥æ•ˆæœ èŒè´£é“¾æ¨¡å¼çš„ä¼˜ç‚¹ è§£è€¦äº†è¯·æ±‚å‘é€è€…ä¸è‹¥å¹²æ¥æ”¶è€…ä¹‹é—´çš„å¤æ‚å…³ç³»ï¼Œå¹¶ä¸éœ€è¦é“¾ä¸­è°å¯ä»¥å¤„ç†ï¼Œåªéœ€è¦ä¼ é€’ç»™ç¬¬ä¸€ä¸ªäººå³å¯ èŒè´£é“¾ä¸Šçš„å„ä¸ªèŠ‚ç‚¹äº’ä¸å½±å“ èŒè´£é“¾å¯ä»¥çµæ´»æ‹†åˆ†é‡ç»„ èŒè´£é“¾å¯ä»¥æ‰‹åŠ¨æŒ‡å®šèµ·ç‚¹ï¼Œè€Œä¸æ˜¯å¿…é¡»ä»ç¬¬ä¸€ä¸ªå¼€å§‹ä¼ é€’ èŒè´£é“¾æ¨¡å¼çš„ç¼ºç‚¹ ä¸èƒ½ä¿è¯è¯·æ±‚ä¸€å®šä¼šè¢«èŒè´£é“¾å¤„ç†åˆ°ï¼Œå¯èƒ½ä¸å­˜åœ¨ä»»ä½•ç»“æœï¼Œéœ€è¦é¢å¤–åŠ ä¸€ä¸ªä¿åº•åˆ¤æ–­ã€‚ èŒè´£é“¾æ¨¡å¼ä¼šè®©ç¨‹åºå¤šå¾ˆå¤šå¯¹è±¡ï¼Œå¹¶ä¸”å¯èƒ½å¤§éƒ¨åˆ†é˜¶æ®µä¸ä¼šèµ·åˆ°ä½œç”¨ï¼Œå®ƒçš„ä½œç”¨ä»…ä»…æ˜¯è®©è¯·æ±‚ä¼ é€’ä¸‹å»ï¼Œè¿‡é•¿çš„èŒè´£é“¾ä¼šé€ æˆäº†ä¸€éƒ¨åˆ†çš„æ€§èƒ½æŸè€—ï¼Œä½†æ˜¯è¿™ä¸ªé—®é¢˜ifelseä¹Ÿå­˜åœ¨ã€‚ ä½¿ç”¨AOPæ€è·¯å®ç°èŒè´£é“¾ AOPä¸ºé¢å‘åˆ‡é¢ç¼–ç¨‹ï¼Œä¾‹å¦‚è£…é¥°å™¨ï¼Œå¯ä»¥åšåˆ°åœ¨ä»£ç æ‰§è¡Œçš„å‰åæ’å…¥ä»£ç åˆ‡ç‰‡ï¼Œå¹¶ä¸”å¹¶ä¿®æ”¹æºä»£ç  123456789101112131415161718192021222324252627282930Function.prototype.after = function (fn) &#123; var self = this; return function () &#123; var ret = self.apply(this, arguments); // è°ƒç”¨è€…ç»“æœ if (ret === &quot;nextSuccessor&quot;) &#123; let res = fn.apply(this, arguments); // æ‰§è¡Œä¸‹ä¸€ä¸ªå‡½æ•° console.log(&quot;å‡½æ•°ç»“æœ&quot;, res); if (res != &quot;nextSuccessor&quot;) &#123; return res; &#125; &#125; return ret; &#125;;&#125;;var getActiveUploadObj = function () &#123; return &quot;nextSuccessor&quot;; // åˆ›å»ºIeä¸Šä¼ ç»„ä»¶(å‡è®¾ä¸€å®šå¤±è´¥)&#125;;var getFlashObj = function () &#123; return &quot;nextSuccessor&quot;; // åˆ›å»ºflashå¯¹è±¡(å‡è®¾ä¸€å®šå¤±è´¥)&#125;;var getFormObj = function () &#123; return &quot;hahahah&quot;; // åˆ›å»ºè¡¨å•å¯¹è±¡(å‡è®¾ä¸€å®šæˆåŠŸ)&#125;;var getUploadObj = getActiveUploadObj.after(getFlashObj).after(getFormObj);console.log(&quot;getUploadObj&quot;, getUploadObj()); å°ç»“ä¸ªäººæ„Ÿè§‰æŒ‡è´£é“¾æœ‰é“¾è¡¨çš„æ„Ÿè§‰ï¼Œåœ¨åŸå‹é“¾ï¼Œäº‹ä»¶å†’æ³¡ä¸Šéƒ½æœ‰æ‰€ä½“ç°ï¼Œåœ¨æ—¥å¸¸å¼€å‘ä¸­å€’ä¸ç®—å¾ˆå¸¸è§ï¼Œç±»ä¼¼è®¢å•demoå¯èƒ½æ›´åŠ åå‘äºä½¿ç”¨ifelse + å°è£…æ¥ç»„ç»‡ä»£ç ï¼ŒåŒæ ·å¯ä»¥å®ç°èŒè´£é“¾çš„æ•ˆæœã€‚ ä¸­ä»‹è€…æ¨¡å¼ä¸­ä»‹è€…æ¨¡å¼çš„ä½œç”¨å°±æ˜¯æ¥è§¦å¯¹è±¡ä¸å¯¹è±¡ä¹‹é—´çš„ç´§è€¦åˆå…³ç³»ã€‚å¢åŠ ä¸€ä¸ªä¸­ä»‹è€…åï¼Œæ‰€æœ‰çš„ç›¸å…³å¯¹è±¡éƒ½é€šè¿‡ä¸­ä»‹è€…å¯¹è±¡è¿›è¡Œé€šä¿¡ï¼›è€Œä¸æ˜¯ç›¸äº’å¼•ç”¨ã€‚","categories":[{"name":"JavaScript","slug":"JavaScript","permalink":"https://vkcyan.github.io/categories/JavaScript/"}],"tags":[{"name":"è®¾è®¡æ¨¡å¼","slug":"è®¾è®¡æ¨¡å¼","permalink":"https://vkcyan.github.io/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"}]},{"title":"éšé€‰æœ—è¯» - ç»™é•¿è¾ˆæ›´å¥½çš„æ‰‹æœºä½¿ç”¨ä½“éªŒ","slug":"éšæƒ³/éšé€‰æœ—è¯» - èµ‹äºˆé•¿è¾ˆæ‰‹æœºä½¿ç”¨èƒ½åŠ›","date":"2022-06-11T16:00:00.000Z","updated":"2022-12-11T13:51:24.097Z","comments":true,"path":"2022/06/12/éšæƒ³/éšé€‰æœ—è¯» - èµ‹äºˆé•¿è¾ˆæ‰‹æœºä½¿ç”¨èƒ½åŠ›/","link":"","permalink":"https://vkcyan.github.io/2022/06/12/%E9%9A%8F%E6%83%B3/%E9%9A%8F%E9%80%89%E6%9C%97%E8%AF%BB%20-%20%E8%B5%8B%E4%BA%88%E9%95%BF%E8%BE%88%E6%89%8B%E6%9C%BA%E4%BD%BF%E7%94%A8%E8%83%BD%E5%8A%9B/","excerpt":"","text":"æ—¶ä»£èƒŒæ™¯â€‹ åœ¨å†å²ä¸Šçš„1952å¹´5æœˆ24æ—¥æ˜¯ä¸€ä¸ªç‰¹æ®Šçš„æ—¥å­ï¼Œåœ¨é‚£ä¸€å¤©æ­£å¼å¼€å§‹å¤§è§„æ¨¡æ‰«ç›²è¿åŠ¨ã€‚æ–°ä¸­å›½æˆç«‹ä¹‹åˆï¼Œå…¨å›½5.5äº¿äººå£ï¼Œ80%éƒ½æ˜¯æ–‡ç›²ï¼Œå†œæ‘çš„æ–‡ç›²ç‡è¾¾åˆ°äº†95%ä»¥ä¸Šï¼Œè®©æˆ‘ä»¬æŠŠæ—¶é—´æ‹‰å›2022å¹´çš„ä»Šå¤©ï¼Œä»Šå¤©æˆ‘æƒ³æè¿°çš„æ˜¯90åçš„çˆ¶æ¯ä¸€ä»£ï¼Œå¤§çº¦æ˜¯1960-1975è¯ç”Ÿäºåå¤æ–‡æ˜çš„äººï¼Œæ ¹æ®å®˜æ–¹è°ƒæŸ¥90åçˆ¶æ¯ä¸€ä»£çš„æ–‡ç›²ç‡å¤§çº¦ä¸º40%ã€‚ â€‹ 90åçˆ¶æ¯ä¸€ä»£æ˜¯ç–²æƒ«çš„ï¼Œä»–ä»¬å¤§å¤šä»å†œæ‘å‡ºæ¥ï¼Œä¸ºåŸå¸‚å»ºè®¾æ·»ç –åŠ ç“¦ï¼Œæ‹¿ç€å¾®è–„çš„è–ªæ°´ï¼Œåšç€ç¹é‡çš„å·¥ä½œï¼Œèµ¶ä¸Šäº†æˆ¿ä»·ç¿»äº†ä¸€ç•ªåˆä¸€ç•ªï¼Œä»–ä»¬çš„å‹åŠ›ä»æ¥ä¸ä¼šå‡ºç°åœ¨ä¸»æµåª’ä½“ä¸­ï¼Œä»–ä»¬ä¹Ÿå¤§å¤šæ•°å·²ç»å¹´è¿‡åŠç™¾ï¼Œèº«ä½“æœºèƒ½å¼€å§‹è¡°é€€ï¼Œè§†åŠ›å¼€å§‹ä¸‹é™ï¼Œåœ¨äº’è”ç½‘æ—¶ä»£ä¸90ã€00åèµšä¸ªæ»¡æ€€çš„æ—¶å€™ï¼Œä»–ä»¬åªèƒ½è¸‰è¸‰è·„è·„çš„è·Ÿç´§æ—¶ä»£çš„æ­¥ä¼ï¼Œä»–ä»¬æ˜¯ç¤¾ä¼šä¸Šçœ‹ä¸è§çš„å¤§å¤šæ•°ã€‚è€Œéšç€å²æœˆçš„æµå¤±ï¼Œäº¦æˆ–è€…æ—¶ä»£çš„å½±å“ï¼Œå­˜åœ¨å¾ˆå¤§ä¸€éƒ¨åˆ†äººå› ä¸ºè§†åŠ›é—®é¢˜ï¼Œæˆ–è€…æ–‡ç›²ï¼Œå¤±å»äº†ä½¿ç”¨æ‰‹æœºçš„èƒ½åŠ›ã€‚ éšé€‰æœ—è¯» â€‹ å¤§éƒ¨åˆ†å¹´è½»äººå¯èƒ½å¹¶ä¸çŸ¥é“è¿™ä¸ªåè¯ï¼Œå› ä¸ºæˆ‘ä»¬æ­£å€¼èº«ä½“çš„æœ€ä½³çŠ¶æ€ï¼Œæœ¬èº«ä¾¿ä¸å­˜åœ¨å·¥å…·æ¥åˆ›é€ æ— éšœç¢çš„åœºæ™¯ï¼Œæˆ‘ä»¬æ¥äº†è§£ä¸€ä¸‹â€œéšé€‰éš¾åº¦â€çš„å®˜æ–¹å®šä¹‰å§ã€‚ â€‹ â€œéšé€‰éš¾åº¦â€å¯å¸®åŠ©éšœç¢ç”¨æˆ·åœ¨æ— æ³•ä½¿ç”¨è§†è§‰è·å–ä¿¡æ¯ã€é˜…è¯»å›°éš¾ç­‰æƒ…å†µä¸‹é€šè¿‡è¯»å–å±å¹•çš„æ— éšœç¢æ¥å£æ¥è·å–ç”¨æˆ·æƒ³è¦é˜…è¯»çš„ç•Œé¢çš„æ–‡æœ¬ä¿¡æ¯ï¼Œç„¶åå†è°ƒç”¨è¯­éŸ³åº“å°†ä¹‹æœ—è¯»å‡ºæ¥ã€‚ç®€è€Œè¨€ä¹‹ï¼Œç”¨æˆ·åœ¨å¼€å¯è¯¥åŠŸèƒ½åï¼Œå¯å°†ä»–æƒ³è·å–çš„æ–‡æœ¬ä¿¡æ¯è½¬åŒ–ä¸ºéŸ³é¢‘è¢«æ¥æ”¶ã€‚ ç›®æ ‡äººç¾¤ ä½è§†åŠ›ã€è€èŠ±çœ¼äººç¾¤ ä½æ–‡åŒ–æ°´å¹³ã€æ–‡ç›²äººç¾¤ åœºæ™¯æ€§éšœç¢äººç¾¤ â€‹ éšç€å²æ•°çš„å¢åŠ ï¼Œäº¦æˆ–è€…é•¿æœŸç–²åŠ³ç”¨çœ¼ï¼Œè€èŠ±çœ¼å¿…ç„¶ä¼šå‡ºç°åœ¨äººç±»çš„ç”Ÿå‘½è½¨è¿¹ä¹‹ä¸­ï¼Œé¢å¯¹è¿™æ ·çš„æƒ…å†µï¼Œä¸€èˆ¬éœ€è¦é…ä¸€ä¸ªè€èŠ±é•œï¼Œåœ¨é˜…è¯»è¾ƒå°è¾ƒå¯†é›†æ–‡å­—çš„æ—¶å€™å¸¦ä¸Šçœ¼é•œæ‰èƒ½çœ‹æ¸…æ–‡å­—ï¼Œæ­£å¸¸ç”Ÿæ´»å¹¶ä¸éœ€è¦é•¿æ—¶é—´æˆ´çœ¼é•œï¼Œè€Œæœ‰äº†éšé€‰æœ—è¯»åŠŸèƒ½åï¼ŒæŸ¥çœ‹æ‰‹æœºå’¨è¯¢åªéœ€è¦æ»‘åŠ¨æ–‡å­—åŒºåŸŸï¼Œå³å¯è®©æ‰‹æœºå®Œæˆå…¶è¯†åˆ«ä¸é˜…è¯»ï¼Œè§„é¿ç”¨çœ¼åœºæ™¯ï¼Œè¿™å°†å¤§å¹…åº¦æ”¹å–„ä¸­è€å¹´äººçš„æ‰‹æœºä½¿ç”¨ä½“éªŒã€‚ â€‹ 90åçš„çˆ¶æ¯ä¸€ä»£ï¼Œæ–‡ç›²æ¯”ä¾‹å·²ç»ç›¸å¯¹è¾ƒå°‘ï¼Œä½†æ˜¯åœ¨åå¤å¤§åœ°åºå¤§çš„äººå£åŸºæ•°ä¸‹ï¼Œä¹Ÿç®—æ˜¯5%ä¹Ÿæ˜¯éå¸¸å¤§çš„äººå£ä½“é‡ï¼Œå› ä¸ºä¸è®¤è¯†å­—ï¼Œä»–ä»¬ä½¿ç”¨æ‰‹æœºå›°éš¾é‡é‡ï¼Œä½†æ˜¯åˆä¸å¾—ä¸ä½¿ç”¨æ™ºèƒ½æ‰‹æœºï¼Œä¾‹å¦‚åœ¨è¿›å‡ºéƒ½éœ€è¦æ‰«ç çš„ç–«æƒ…æ—¶ä»£ï¼Œéåœ°ç§»åŠ¨æ”¯ä»˜çš„äº’è”ç½‘æ—¶ä»£ï¼Œå¦‚æœæ²¡æœ‰å®¶äººæˆ–è€…æœ‹å‹çš„åå¤æ•™å­¦ï¼Œä»–ä»¬å¯èƒ½æ°¸è¿œéƒ½æ— æ³•æ­£å¸¸ä½¿ç”¨æ™ºèƒ½æ‰‹æœºï¼Œç”šè‡³å®¶äººå¾®ä¿¡èŠå¤©éƒ½åªèƒ½å‘é€è¯­éŸ³ï¼Œè€Œéšé€‰æœ—è¯»åˆ™ç»™äºˆäº†æ–‡ç›²äººç¾¤è¯†åˆ«æ–‡å­—çš„èƒ½åŠ›ï¼Œé‡åˆ°ä¸è®¤è¯†çš„å­—ï¼Œæ»‘åŠ¨ä¸€ä¸‹å°±ä¼šè¯»å‡ºæ¥ï¼Œè¿™ç»™äºˆäº†æ–‡ç›²ç”¨æˆ·ç‹¬ç«‹ä½¿ç”¨æ™ºèƒ½æ‰‹æœºçš„èƒ½åŠ›ï¼Œä½œä¸ºæ™šè¾ˆä¹Ÿå‡å°äº†å‹åŠ›ã€‚ â€‹ æœ€åæ˜¯åœºæ™¯æ€§éšœç¢äººç¾¤ï¼Œä¾‹å¦‚å¼€è½¦ä¸­ï¼Œåšé¥­ä¸­æš‚æ—¶æ— æ³•çœ‹é•¿æ—¶é—´çœ‹å±å¹•çš„åœºæ™¯ï¼Œä¸è¿‡ä»ç°å®æ¥çœ‹æ­¤ç±»åœºæ™¯éœ€æ±‚ä¸å¤§ï¼Œå› ä¸ºé•¿æ–‡å¯ä»¥ç­‰ä¼šçœ‹ï¼Œä¸€å°æ®µæ–‡æœ¬åˆ™å¾ˆå¿«å°±çœ‹å®Œäº†ï¼Œæ­¤å¤„ä¾¿ä¸å†èµ˜è¿°ã€‚ å¦‚ä½•ä½¿ç”¨å°ç±³æ‰‹æœºè®¾ç½® - æ›´å¤šè®¾ç½® - æ— éšœç¢ - è§†è§‰ - éšé€‰æœ—è¯» å¼€å¯åç‚¹å‡»å°å–‡å­å°±ä¼šå‡ºç°ä¸€ä¸ªçº¢è‰²æŒ‰é’®ï¼Œå³å¯é€‰ä¸­ä½ æƒ³è¢«é˜…è¯»çš„åŒºåŸŸï¼Œæ¾æ‰‹å³å¯å¼€å§‹æœ—è¯»ï¼Œæœ—è¯»å®Œæ¯•åè‡ªåŠ¨å…³é—­ï¼Œå¦‚æœæƒ³ä¸‹æ¬¡ä½¿ç”¨ï¼Œå¯ä»¥å†æ¬¡ç‚¹å‡»å°å–‡å­ï¼Œä¸åŒæ‰‹æœºå…¥å£æ˜¾ç¤ºæ–¹å¼ä¸åŒï¼Œæœ‰äº›æ˜¯æ˜¾ç¤ºå°äººå½¢çŠ¶ã€‚ åä¸ºæ‰‹æœºè®¾ç½® - è¾…åŠ©åŠŸèƒ½ - æ— éšœç¢ - éšé€‰æœ—è¯» - å¼€å¯ iphoneè®¾ç½® - è¾…åŠ©åŠŸèƒ½ - æœ—è¯»å†…å®¹ - æœ—è¯»å±å¹• - è¯­éŸ³æ§åˆ¶å™¨ - æ‰“å¼€æ˜¾ç¤ºæ§åˆ¶å™¨ å…¶ä»–æ‰‹æœºâ€‹ èº«è¾¹æ‰‹æœºæœ‰é™ï¼Œå°±ç®—ä¸€ä¸ªå“ç‰Œçš„æ‰‹æœºä¸åŒç‰ˆæœ¬è®¾ç½®è·¯å¾„ä¹Ÿå­˜åœ¨ä¸€å®šåŒºåˆ«ï¼Œä¸è¿‡å¯ä»¥æ”¾å¿ƒæ— éšœç¢åŠŸèƒ½æ‰€æœ‰æ‰‹æœºéƒ½æœ‰ï¼Œå› ä¸ºè¿™æ˜¯androidï¼Œiosç³»ç»ŸåŸç”ŸåŠŸèƒ½ï¼Œä¸€èˆ¬éƒ½åœ¨å…¶ä»–è®¾ç½®&#x2F;æ— éšœç¢èœå•ä¸­ã€‚ æ²¡æœ‰éšé€‰æœ—è¯»â€‹ æˆ‘æŠŠå‘¨å›´åŒäº‹çš„æ‰‹æœºå¤§è‡´éƒ½ç ”ç©¶äº†ä¸€éï¼Œå‘ç°å¦‚æœæ˜¯20å¹´ä¹‹å‰çš„æ‰‹æœºï¼Œå¤§éƒ¨åˆ†æ˜¯æ²¡æœ‰â€œéšé€‰æœ—è¯»â€åŠŸèƒ½çš„ï¼Œæ— éšœç¢å¥—ä»¶ç”±å®‰å“ç³»ç»Ÿæä¾›ï¼Œä½ç‰ˆæœ¬ç³»ç»Ÿå­˜åœ¨æ²¡æœ‰éšé€‰æœ—è¯»çš„ç°è±¡ï¼Œæ‰‹æœºæ²¡æœ‰è‡ªå¸¦æ²¡æœ‰å…³ç³»ï¼Œå¯ä»¥ç¬¬ä¸‰æ–¹ä¸‹è½½ï¼Œæˆ‘åœ¨ç™¾åº¦ç½‘ç›˜æ”¾äº†ä¸€ä¸ªï¼Œandroidæ— éšœç¢å¥—ä»¶v12.1ï¼Œæœ‰éœ€è¦çš„æœ‹å‹è¯·è‡ªå–ã€‚ ç»“è¯­â€‹ çœ‹åˆ°è¿™é‡Œï¼Œä¸çŸ¥é“ä½ æ˜¯å¦æƒ³åˆ°äº†é•¿è¾ˆä»¬ï¼Œä¸ºäº†çœ‹æ‰‹æœºä¸Šçš„å¾®ä¿¡æ¶ˆæ¯è€Œç€æ€¥å¯»æ‰¾çœ¼é•œçš„åŒ†å¿™åœºæ™¯ï¼Œæ˜¯å¦æƒ³åˆ°äº†é•¿è¾ˆä»¬å› ä¸ºçœ‹ä¸æ‡‚æ–‡å­—è€Œæ— æ³•æ­£å¸¸ä½¿ç”¨æ‰‹æœºçš„çª˜å¢ƒï¼Œè€Œé€šè¿‡ç®€å•è®¾ç½®ï¼Œå°±å¯ä»¥èµ‹äºˆæœ‰å›°éš¾çš„é•¿è¾ˆä»¬æ›´å¥½ä½¿ç”¨æ™ºèƒ½æ‰‹æœºçš„èƒ½åŠ›ï¼Œæœºå™¨æ— æƒ…ï¼Œäººé—´æœ‰æƒ…ï¼Œæ²‰èˆŸä¾§ç•”åƒå¸†è¿‡ï¼Œç—…æ ‘å‰å¤´ä¸‡æœ¨æ˜¥ï¼Œè®°å¾—å¤šå›å¤´çœ‹çœ‹é©»ç•™åœ¨åŸåœ°çš„é‚£ç¾¤å¯çˆ±çš„äººã€‚","categories":[{"name":"ç©æœºæŠ€å·§","slug":"ç©æœºæŠ€å·§","permalink":"https://vkcyan.github.io/categories/%E7%8E%A9%E6%9C%BA%E6%8A%80%E5%B7%A7/"}],"tags":[{"name":"æ— éšœç¢","slug":"æ— éšœç¢","permalink":"https://vkcyan.github.io/tags/%E6%97%A0%E9%9A%9C%E7%A2%8D/"},{"name":"éšé€‰æœ—è¯»","slug":"éšé€‰æœ—è¯»","permalink":"https://vkcyan.github.io/tags/%E9%9A%8F%E9%80%89%E6%9C%97%E8%AF%BB/"}]},{"title":"ä¸‰è¾†è‡ªè¡Œè½¦","slug":"éšæƒ³/ä¸‰è¾†è‡ªè¡Œè½¦","date":"2022-06-09T16:00:00.000Z","updated":"2022-12-11T13:51:24.096Z","comments":true,"path":"2022/06/10/éšæƒ³/ä¸‰è¾†è‡ªè¡Œè½¦/","link":"","permalink":"https://vkcyan.github.io/2022/06/10/%E9%9A%8F%E6%83%B3/%E4%B8%89%E8%BE%86%E8%87%AA%E8%A1%8C%E8%BD%A6/","excerpt":"","text":"â€‹ åˆä¸­çš„æ—¶å€™ï¼Œæˆ‘ç‰¹åˆ«æƒ³è¦ä¸€ä¸ªè‡ªè¡Œè½¦ï¼Œå¤§æ¦‚è§‰å¾—éª‘è½¦å¾ˆé…·å§ï¼Œæˆ–è€…æ˜¯å¹¼å¹´çš„è™šè£å¿ƒä½œç¥Ÿï¼Œé‚£æ—¶å€™å®¶é‡Œæ¡ä»¶è¿˜å¾ˆå·®ï¼Œä¸‰å£ä¹‹å®¶ç§Ÿä½åœ¨ä¸€ä¸ªæ²¡æœ‰ç©ºè°ƒçš„è€æ—§çŸ®æ¥¼çš„äºŒæ¥¼ç¬¬ä¸€é—´ï¼Œå¤§çº¦12å¹³æ–¹çš„å››æ–¹å››æ­£çš„å°å±‹ï¼Œå¤§å®¶å¯ä»¥æƒ³è±¡ä¸€ä¸‹ç”µè§†å‰§èœ—å±…çš„æ ·å­å§ï¼Œçˆ¶æ¯è‡ªç„¶ä¸åŒæ„å–ä¸€è¾†è‡ªè¡Œè½¦ï¼Œä¸Šå­¦çš„è·¯ç¨‹åªæœ‰2å…¬é‡Œï¼Œè¿™ç‚¹è·ç¦»è¿˜è¦éª‘è‡ªè¡Œè½¦ï¼Œåœ¨çˆ¸å¦ˆçœ¼é‡Œæ˜¯ä¸å¯ç†å–»çš„ï¼Œå¯ç»ˆç©¶æ˜¯æ‹—ä¸è¿‡æˆ‘ï¼Œåœ¨é‚£ä¸ªå¤å¤©çš„å¤œæ™šï¼Œçˆ¸å¸¦æˆ‘åˆ°ä¸€ä¸ªç ´ç ´çƒ‚çƒ‚çš„ä¿®è½¦é“ºï¼Œé‚£æ˜¯ä¸€è¾†è“è‰²æœ‰ç‚¹ç ´æ—§çš„å°è½®è‡ªè¡Œè½¦ï¼Œä¾ç¨€è®°å¾—è½¦å¤´æ˜¯ä¸€ä¸ªTå½¢çš„ï¼Œé»‘æ¼†ä¸Šé›¶æ˜Ÿçš„ç™½ç‚¹ï¼Œåˆ¹è½¦çº¿å·²ç»æ³›é»„ä»¿ä½›è’™ä¸Šäº†èŒ¶æ²¹çš„æ»¤é•œï¼Œè¿™ä¼¼ä¹åœ¨å‘Šè¯‰æˆ‘å®ƒçš„å¹´çºªï¼Œæˆ‘çˆ¸å¯¹æ­¤å¾ˆæ»¡æ„ï¼Œå¤§çº¦150å§ï¼Œå¸¦ç€æˆ‘å¸¦ç€å®ƒä¸€èµ·å›å®¶äº†ï¼Œæˆ‘ç›¸ä¿¡çˆ¸å¦ˆæ˜¯å¼€å¿ƒçš„ï¼Œå› ä¸ºç»ˆäºä¸ç”¨å¬è¿™å°å­å¤©å¤©åš·åš·äº†ï¼Œæˆ‘ä¹Ÿå°±æ˜¯è¿™ä¹ˆè¿·è¿·ç³Šç³Šçš„æœ‰äº†ä¸€å°è‡ªè¡Œè½¦ã€‚ â€‹ å¥½æ™¯ä¸é•¿ï¼Œè¿™è¾†è“è‰²å°è½®è½¦éª‘èµ·æ¥è½´æ‰¿é‡Œé¢ä¼šå‘å‡ºå®›å¦‚é­ç‚®ä¸€æ ·å“’å“’å“’çš„ï¼Œè¿™è®©ä¸€ä¸ªåˆšåˆšæ»¡12å²çš„å°å­©å†…å¿ƒå€æ„Ÿè‡ªå‘ï¼Œå› ä¸ºæˆ‘å®³æ€•å› ä¸ºè¿™ä¸ªå£°éŸ³æ‹›æ¥é©¬è·¯ä¸Šå˜²ç¬‘çš„ç›®å…‰ï¼Œä»¥è‡³äºæ”¾å­¦è·¯ä¸ŠåŒå­¦éƒ½éª‘èµ°äº†ï¼Œæˆ‘æ‰ä¼šå¼€å§‹éª‘è½¦ï¼Œæˆ‘åˆå¼€å§‹ä¸æ–­åš·åš·è‡ªè¡Œè½¦çš„é—®é¢˜ï¼Œæˆ‘å¦ˆè€³æ ¹å­è½¯ï¼Œå¿ƒé‡Œè™½ç„¶æ°”æ„¤å„¿å­ä¸æ‡‚äº‹ï¼Œä½†æ˜¯ä¾æ—§å¦¥åäº†ï¼Œæ²¡å¤šä¹…æ¢äº†ä¸€è¾†æ–°çš„å‡¤å‡°ç‰Œè‡ªè¡Œè½¦ï¼Œè“è‰²å°è½¦è¢«æˆ‘çˆ¸éª‘ç”µç“¶è½¦å¸¦å›äº†è€å®¶ï¼Œç»™äº†åœ¨æ‘é‡Œçš„è¡¨å§ï¼Œå› ä¸ºç¦»é•‡ä¸Šå¾ˆè¿œï¼Œå¥¹éå¸¸éœ€è¦ä¸€è¾†è½¦ï¼Œè€Œæˆ‘ç»ˆäºå¦‚æ„¿ä»¥å¿çš„å¾—åˆ°äº†ä¸€è¾†å´­æ–°çš„çœŸæ­£çš„è‡ªè¡Œè½¦ï¼Œé‚£æ˜¯ä¸€è¾†çš„é“¶ç°è‰²è‡ªè¡Œè½¦ï¼Œè½¦æ¶åœ¨é˜³å…‰ä¸‹å‘å°„ç€å®›å¦‚é“¶æ²³çš„è‰²å½©ï¼Œé»‘è‰²çš„è½¦å¤´ä¸€å°˜ä¸æŸ“çš„æ·±é‚ƒï¼Œä»¿ä½›åœ¨å‘Šè¯‰å…¨ä¸–ç•Œï¼Œä»–çš„è¯ç”Ÿï¼Œä¹Ÿç»ˆäºæ²¡æœ‰äº†å“’å“’å“’çš„éª‘è¡ŒèƒŒæ™¯éŸ³ä¹ï¼›è€Œè¿™å±äºæˆ‘çš„ç¬¬ä¸€è¾†æ–°è‡ªè¡Œè½¦çš„å‘½è¿å´æ˜¯å¦‚æ­¤çš„å‡„æƒ¨ï¼Œåœ¨æˆ‘è¿˜æ²¡æ¥å¾—åŠå’Œä»–å¥½å¥½äººè®¤è¯†çš„æ—¶å€™ï¼Œä¾¿æˆ›ç„¶è€Œæ­¢ï¼Œæ˜¯çš„ï¼Œæ²¡å¤šä¹…ä»–å°±è¢«å·äº†ï¼›è®°å¾—é‚£å¤©æ—©ä¸Šæˆ‘éª‘ç€å®ƒåˆ°è¡¥ä¹ ç­ï¼Œè¡¥ä¹ ç­å¯¹é¢æ˜¯äººæµé‡å¾ˆå¤§çš„å•†ä¸šè¡—ï¼Œæˆ‘ç”¨ä¹°è½¦èµ é€çš„é‚£æŠŠè“è‰²ç»†é”ç«é€Ÿé”å¥½è½¦ä¾¿è·‘è¿›è¡¥ä¹ ç­ï¼Œç­‰åˆ°ä¸­åˆè¡¥ä¹ ç»“æŸå›åˆ°åœè½¦ç‚¹çš„æ—¶å€™ï¼Œæˆ‘å‚»çœ¼äº†ï¼ŒåŒå­¦ä¸€ä¸ªä¸ªç¦»å¼€ï¼Œè€Œæˆ‘åœ¨é‚£ç‰‡ä¸å¤§çš„åœ°æ–¹åå¤å¯»æ‰¾ï¼Œæ¨ä¸å¾—æŠŠåœ°ä¸‹çš„ç –éƒ½æ‰’å¼€ï¼Œæˆ‘å¯èƒ½æ‰¾äº†åŠå°æ—¶ï¼Œæœ€åæˆ‘æµ‘æµ‘å™©å™©çš„èµ°å›å®¶ï¼Œé‚£æ®µè·¯æŒºè¿œï¼Œå¤§æ¦‚4ä¸ªè·¯å£ï¼Œå›åˆ°å®¶å·²ç»12ç‚¹å¤šäº†ï¼Œæˆ‘å¦ˆæ²¡æœ‰æ‰“æˆ‘ï¼Œä½†æ˜¯æˆ‘å®³æ€•æäº†ï¼Œåç»­å‘ç”Ÿäº†ä»€ä¹ˆä¹Ÿè®°ä¸æ¸…äº†ï¼Œä¹Ÿè®¸æ˜¯å› ä¸ºé€‰æ‹©æ€§å¿˜è®°ï¼Œæœ€åï¼Œè¡¥ä¹ ç­å’Œè€å¸ˆè¿˜èµ”äº†200å—ã€‚ â€‹ è½¦ä¸¢äº†ï¼Œä½†æ˜¯ä¹ æƒ¯å·²ç»å…»æˆäº†ï¼Œè‡ªç„¶è¿˜æ˜¯è¦ä¹°è‡ªè¡Œè½¦ï¼Œäººæ€»æ˜¯è´ªå©ªçš„ï¼Œå¾—åˆ°äº†è°·å­å°±æƒ³å¾—åˆ°ç³–ï¼Œå¾—åˆ°äº†ç³–å°±æƒ³å¾—åˆ°è‚‰ï¼Œåä¸‰å²çš„æˆ‘è‡ªç„¶ä¹Ÿä¸ä¾‹å¤–ï¼Œè¿™æ¬¡æˆ‘æ–—èƒ†æè®®è¦ä¸€è¾†å˜é€Ÿå±±åœ°è‡ªè¡Œè½¦ï¼Œæ¯æ¬¡æ”¾å­¦æˆ‘éƒ½ä¼šå·å·è§‚å¯ŸåŒæ¡Œçš„æ·å®‰ç‰¹ï¼Œé‚£å¡å¡çš„å˜é€Ÿå£°éŸ³ä¸æ–­æŒ åŠ¨æˆ‘å¿ƒä¸­çš„ç—’ï¼Œå¤œé‡Œåšæ¢¦éƒ½æƒ³æ‹¥æœ‰ä¸€è¾†è¿™æ ·çš„è‡ªè¡Œè½¦ï¼Œå»äº«å—å¤§å®¶ç¾¡æ…•çš„ç›®å…‰ï¼›å˜é€Ÿè‡ªè¡Œè½¦æ¯”è¾ƒè´µï¼Œæ˜¯æ™®é€šè‡ªè¡Œè½¦çš„2-3å€ï¼Œçˆ¸å¦ˆè‡ªç„¶éå¸¸ä¸æ„¿æ„ï¼Œæ¯•ç«Ÿèµšé’±çœŸçš„å¾ˆä¸å®¹æ˜“ï¼Œé‚£æ—¶å€™ä¾æ—§åœ¨12å¹³å°å±‹ä¸­ï¼Œå¤å¤©çš„ä¸‹åˆä¼šè¢«å¤ªé˜³ä»ä¾§é¢æš´æ™’ï¼Œæ™šä¸Šç¡è§‰éƒ½èƒ½æ„Ÿå—åˆ°ä»å¢™ä½“æ·±å¤„æ•£å‘çš„çƒ­æµªï¼Œå®åœ¨æ— æ³•å¿å—ï¼ŒåŠ è£…äº†ç©ºè°ƒï¼›è€ä¸ä½æˆ‘çš„è½¯ç£¨ç¡¬æ³¡ï¼Œè€ä¸ä½è¿™æ˜¯ä»–çš„å„¿å­ï¼Œæœ€åè¿˜æ˜¯ç»™æˆ‘ä¹°äº†ï¼Œå°±åœ¨æˆ‘ä¸¢æ‰å‡¤å‡°ç‰Œè‡ªè¡Œè½¦çš„å•†ä¸šè¡—é™„è¿‘ï¼Œæˆ‘è·å¾—äº†æˆ‘äººç”Ÿä¸­ç¬¬ä¸‰è¾†è‡ªè¡Œè½¦ â€‹ é‚£æ˜¯ä¸€è¾†é»‘çº¢ç›¸è§çš„å˜é€Ÿå±±åœ°è‡ªè¡Œè½¦ï¼Œå“ç‰Œåä¸ºâ€œå·¨å‡¤â€ï¼Œä¸æ˜¯åç‰Œæ‰€ä»¥ä¹Ÿæ¯”è¾ƒä¾¿å®œï¼Œä¸è¿‡æˆ‘ä¾æ—§å¾ˆå–œæ¬¢ï¼Œä»–çœ‹èµ·æ¥æ˜¯é‚£ä¹ˆå…·æœ‰è¿åŠ¨æ„Ÿï¼Œå¦‚æ­¤çš„ä¸ªæ€§é²œæ˜ï¼ŒèŠ±è´¹äº†500å¤šï¼Œè¿™å¯¹æˆ‘ä»¬å®¶åº­æ¥è¯´å·²ç»æ˜¯ä¸€ç¬”å·¨æ¬¾ï¼Œæˆ‘å¸¦ç€å®ƒå›å®¶äº†ï¼Œæˆ‘è‡³ä»Šéƒ½è®°å¾—ï¼Œåœ¨å›å®¶çš„è·¯ä¸Šæœ‰ä¸€æ®µä¸Šå¡ï¼Œæˆ‘å°†å˜é€Ÿè°ƒèŠ‚åˆ°æ¯”è¾ƒçœåŠ›çš„è½®æ¡£ï¼Œæˆ‘å‘å¾€å¸¸ä¸€æ ·è¸©ç€è¸æ¿ï¼Œä½†æ˜¯è¿™å´æ˜¯ä¸€ç§æœªæ›¾æœ‰è¿‡çš„ä½“éªŒï¼Œå¦‚æ­¤çš„è½»å·§ï¼Œå¦‚æ­¤å®‰ç¨³ï¼Œç¬¬äºŒå¤©æ—©ä¸Š5ç‚¹å¤šæˆ‘ä¾¿é†’æ¥ï¼Œè¿«ä¸åŠå¾…çš„æˆ‘æƒ³éª‘ä¸Šçš„æˆ‘æ–°è½¦å»å­¦æ ¡ï¼Œé‚£æ—¶å·²ç»æ˜¯æ™šç§‹ï¼Œæˆ‘è¸ç€æ·¡æ·¡æ›™å…‰ï¼Œä»¿ä½›éª‘è¡Œåœ¨äº‘ç«¯ä¹‹ä¸Šï¼Œåˆ°å­¦æ ¡çš„æ—¶å€™ï¼Œå¤©éƒ½æœªäº®ï¼Œå¯¹äºé‚£ä¸€åˆ»çš„æˆ‘æ¥è¯´ï¼Œæˆ‘çš„è™šè£å¿ƒå¤§æ¦‚å·²ç»å¾—åˆ°äº†æ»¡è¶³ã€‚åœ¨åæ¥çš„æ—¥å­é‡Œï¼Œæˆ‘ç»å¸¸éª‘ç€å®ƒå»åè¿œçš„è°­å†²æ¹–ï¼Œå»å‡ å…¬é‡Œå¤–çš„å¤æ¢—å…¬å›­ï¼Œå»æ‚è‰ä¸›ç”Ÿçš„è€è‚¥è¥¿ç«è½¦ç«™ï¼Œæ²¡æœ‰ç†ç”±ï¼Œéšä¾¿å®šä¸€ä¸ªç›®æ ‡çš„éª‘è¡Œï¼Œåœ¨æˆ‘é‚£å¹³æ·¡å¦‚æ°´çš„åˆä¸­æ—¶å…‰ï¼Œæˆ‘å’Œâ€œå·¨å‡¤â€æ¸¸è§ˆäº†è‚¥è¥¿å¤§å¤§å°å°å¾ˆå¤šè§’è½ã€‚åœ¨å¤©æ°”è¿˜ä¸ç®—ç‡¥çƒ­çš„åˆå¤ï¼Œåœ¨å¹³å¦åˆäººé™…ç½•è§çš„å•æ’å…¬è·¯ï¼Œè·¯æ—çš„å±±ä¸˜è·‘å‘æˆ‘çš„èº«åï¼ŒæŸæ²¹è·¯å‰æ–¹çœ‹ä¸è§å°½å¤´ï¼Œæ²³æ°´æµæ·Œå£°ä¸æ–­å¾®å¼±ï¼Œæˆ‘ä¸æ–­åŠ é€Ÿï¼Œå°½æƒ…çš„äº«å—ä¸é£çš„äº¤æµã€‚ â€‹ åœ¨æˆ‘åˆä¸­é˜¶æ®µä¸­ï¼Œæˆ‘å¯¹è‡ªè¡Œè½¦æ˜¯å¦‚æ­¤çš„æ‰§ç€ï¼Œæˆ‘è®¤ä¸ºæˆ‘çƒ­çˆ±è‡ªè¡Œè½¦ï¼Œä½†æ˜¯æˆ‘é”™äº†ï¼›åœ¨ä¹°â€œå·¨å‡¤â€çš„ç¬¬äºŒå¹´ï¼Œæˆ‘åˆä¸‰äº†ï¼Œä¸­è€ƒå‹‰å‹‰å¼ºå¼ºçš„è€ƒä¸Šäº†é«˜ä¸­ï¼Œä½†æ˜¯åˆ†æ•°çº¿åªå¤Ÿå»æ¯”è¾ƒè¿œçš„åœ°æ–¹ï¼Œæˆ‘ä¸æˆ‘çš„â€œå·¨å‡¤â€ä¾¿å¤±è”äº†ï¼Œæˆ‘å†æ¬¡è§åˆ°çš„ä»–çš„æ—¶å€™ï¼Œå®ƒå·²ç»è½æ»¡äº†ç°å°˜ï¼Œæ–œé åœ¨å¢™è§’ï¼Œå¶™å³‹çš„è½®èƒä¸Šæ»¡æ˜¯é¾Ÿè£‚ï¼Œå‰è½®å·²ç»å®Œå…¨æ¼æ°”ï¼Œå¤•é˜³ä¸‹ï¼Œä»–å°±åƒä¸€åŒ¹æ¶ˆç˜¦çš„è€é©¬ï¼Œæˆ‘è·¯è¿‡å¾ˆå¤šæ¬¡éƒ½æ²¡æ³¨æ„åˆ°ä»–ï¼Œç›´åˆ°åœ¨å¤§å­¦å…¥å­¦å‰å¤•ï¼Œæˆ‘å¯¹å®¶æ‹æ‹ä¸èˆçš„æ—¶å€™ï¼Œæˆ‘ç»ˆäºæ³¨æ„åˆ°äº†å®ƒï¼Œæˆ‘å·²ç»ä¸è®°å¾—å½“æ—¶é¢å¯¹å®ƒçš„è¡¨æƒ…ï¼Œæ˜¯æˆ‘æŠ›å¼ƒäº†å®ƒï¼Œå°±åƒéšç€å²æœˆä¸æ–­è¢«ä¸¢å¼ƒçš„ä¸œè¥¿ä»¬ä¸€æ ·ã€‚ â€‹ å‰å¾€å¤æ¢—å…¬å›­çš„è·¯ä¾æ—§å¹³æ•´ï¼Œè°­å†²æ¹–çš„æ²³æ°´ä¾æ—§å·æµä¸æ¯ï¼Œåˆ°ç°åœ¨ä¹Ÿä¾æ—§ä¼šæ—¶å¸¸å›æƒ³èµ·ä¸å®ƒä»¬ä»¬åœ¨è·¯ä¸Šçš„æ—¶å…‰ï¼Œåªæ˜¯å†ä¹Ÿæ‰¾ä¸å›è®°å¿†ä¸­çš„å¼ºé£æ‹‚è¿‡çš„æ„Ÿè§‰ã€‚ â€‹ â€‹","categories":[{"name":"éšæƒ³é›†","slug":"éšæƒ³é›†","permalink":"https://vkcyan.github.io/categories/%E9%9A%8F%E6%83%B3%E9%9B%86/"}],"tags":[{"name":"ç«¥å¹´","slug":"ç«¥å¹´","permalink":"https://vkcyan.github.io/tags/%E7%AB%A5%E5%B9%B4/"},{"name":"éšæƒ³","slug":"éšæƒ³","permalink":"https://vkcyan.github.io/tags/%E9%9A%8F%E6%83%B3/"}]},{"title":"ã€5000å­—é•¿æ–‡ã€‘ï¼ˆå¼€æºï¼‰ ä½ä»£ç H5å¯è§†åŒ–æ­å»ºç³»ç»Ÿ - æ˜“åŠ¨v3.0","slug":"å…³äºå¼€æº/ã€5000å­—é•¿æ–‡ã€‘ï¼ˆå¼€æºï¼‰ ä½ä»£ç H5å¯è§†åŒ–æ­å»ºç³»ç»Ÿ - æ˜“åŠ¨v3.0","date":"2022-05-24T16:00:00.000Z","updated":"2022-12-11T13:51:24.084Z","comments":true,"path":"2022/05/25/å…³äºå¼€æº/ã€5000å­—é•¿æ–‡ã€‘ï¼ˆå¼€æºï¼‰ ä½ä»£ç H5å¯è§†åŒ–æ­å»ºç³»ç»Ÿ - æ˜“åŠ¨v3.0/","link":"","permalink":"https://vkcyan.github.io/2022/05/25/%E5%85%B3%E4%BA%8E%E5%BC%80%E6%BA%90/%E3%80%905000%E5%AD%97%E9%95%BF%E6%96%87%E3%80%91%EF%BC%88%E5%BC%80%E6%BA%90%EF%BC%89%20%E4%BD%8E%E4%BB%A3%E7%A0%81H5%E5%8F%AF%E8%A7%86%E5%8C%96%E6%90%AD%E5%BB%BA%E7%B3%BB%E7%BB%9F%20-%20%E6%98%93%E5%8A%A8v3.0/","excerpt":"","text":"å‰è¨€â€‹ ä½œè€…åœ¨2020å¹´çš„æ—¶å€™å¼€æºäº†æ˜“åŠ¨ç¬¬ä¸€ä¸ªç‰ˆæœ¬ï¼ˆå¼€æºï¼‰ä»0æ‰“é€ H5å¯è§†åŒ–æ­å»ºç³»ç»Ÿ - æ˜“åŠ¨ï¼ˆvue+ts+eggï¼‰ï¼Œè¿™ä¸¤å¹´åœ¨å…¬å¸é’ˆå¯¹è£…ä¿®æŠ€æœ¯æ–¹æ¡ˆåšäº†å¤§é‡çš„å®è·µï¼Œä½¿ç”¨è¿‡draggableæ–¹æ¡ˆ iframeè£…ä¿®æ–¹æ¡ˆ ç»å¯¹å®šä½æ–¹æ¡ˆï¼Œå¯¹å…¶åœ¨æŠ€æœ¯ï¼Œäº§å“å±‚é¢éƒ½å­˜åœ¨æ›´æ·±å…¥çš„ç†è§£ï¼Œä»Šå¤©ç»™å¤§å®¶å¸¦æ¥æ–°ä¸€ä»£ä¼ä¸šçº§H5è£…ä¿®æ–¹æ¡ˆæ˜“åŠ¨v3.0 å¼€æºåœ°å€ æ‹–æ‹½ç”Ÿæˆh5é¡µé¢ï¼Œæ”¯æŒé¡µé¢å…¨å±€è®¾ç½®ï¼Œç»„ä»¶ï¼Œè‡ªå®šä¹‰URLï¼Œæ’ä»¶å¸‚åœºï¼Œå…¬å…±npmç»„ä»¶åº“ åŸºäºæœ€æ–°vueæŠ€æœ¯æ ˆï¼Œ æ˜“åŠ¨v3.0 å·²ä¸Šçº¿ï¼Œæ¬¢è¿ä½“éªŒ~~ YD ç®¡ç†ç«¯ YD_Client å®¢æˆ·ç«¯ å¼€æºä¸æ˜“ï¼Œç»™ä¸ªStarå§~ æŠ€æœ¯æ ˆç®¡ç†ç«¯ï¼švue3 + vite + pinia + vueuse + TypeScript å®¢æˆ·ç«¯ï¼švue3 + vite + TypeScript é›†æˆç»„ä»¶åº“ï¼ˆydh5-uiï¼‰ï¼šåŸºäºVue3 + TypeScriptè¿›è¡Œå¼€å‘ æœåŠ¡ç«¯ï¼šserverLess é¡¹ç›®æ¶æ„â€‹ åœ¨æ­£æ–‡å¼€å§‹ä¹‹å‰å…ˆä¸ºå¤§å®¶ä»‹ç»ä¸€ä¸‹é¡¹ç›®æ¶æ„ï¼Œæˆ‘ä»¬ä»åº•å±‚åˆ°ä¸Šå±‚ä¾æ¬¡ä»‹ç» â€‹ æ˜“åŠ¨3ä½¿ç”¨è…¾è®¯äº‘serverlessä½œä¸ºåç«¯æœåŠ¡ï¼Œserverlessåœ¨æ˜“åŠ¨ç³»ç»Ÿä¸­æä¾›ç»„ä»¶schemaçš„æ•°æ®å­˜å‚¨æœåŠ¡ï¼Œä¸ºä»€ä¹ˆä½¿ç”¨serverlessä¸‹æ–‡åœ¨è¯´æ˜ã€‚ â€‹ æ˜“åŠ¨3å°†å®¢æˆ·ç«¯ã€ç®¡ç†ç«¯çš„å…¬å…±è£…ä¿®ç»„ä»¶è¿›è¡Œäº†ç»Ÿä¸€å°è£…å‘å¸ƒæˆä¸ºnpmåŒ…ï¼Œè§£å†³äº†ä»¥å¾€å­˜åœ¨çš„ä¸€ä¸ªç»„ä»¶éœ€è¦å†™ã€æ”¹ä¸¤éä»£ç çš„æ ¸å¿ƒé—®é¢˜ã€‚ â€‹ æ˜“åŠ¨ç®¡ç†ç«¯æ˜¯é¡¹ç›®çš„æœ€æ ¸å¿ƒç³»ç»Ÿï¼Œé™¤äº†æ ¸å¿ƒçš„ä¿å­˜ï¼Œä¿®æ”¹ä¹‹å¤–ï¼Œä»¥åŠä¸€ç³»åˆ—æä¾›è£…ä¿®æ•ˆç‡çš„åŠŸèƒ½ï¼Œä¾‹å¦‚ç»„ä»¶å¸‚åœºã€è¾…åŠ©çº¿ã€å¤åˆ¶ã€ç²˜è´´ã€æ’¤é”€ã€æ”¾æ’¤é”€ï¼Œè¿™ä¸ªä½ä»£ç è£…ä¿®ç³»ç»Ÿçš„ä¸Šé™äºä¸‹é™çš†ç”±æ­¤é¡¹ç›®å†³å®šã€‚ â€‹ æ˜“åŠ¨å®¢æˆ·ç«¯åŠŸèƒ½æ¯”è¾ƒå•çº¯ï¼Œä¸»è¦æ˜¯æ ¹æ®çº¦å®šå¥½çš„js Schemaç»“åˆé›†æˆç»„ä»¶åº“è¿›è¡Œæ•°æ®æ¸²æŸ“äºé€»è¾‘è§¦å‘ã€‚ ä½¿ç”¨æ–¹å‘â€‹ è¿™å‡ å¹´å…³äºä½ä»£ç é¢†åŸŸå¼€å§‹ä¸æ–­æœ‰å¤§å‚å…¥åœºï¼Œè¿™ä¹Ÿå˜ç›¸çš„è¯´æ˜äº†è¯¥é¢†åŸŸå·¨å¤§çš„ææ•ˆéœ€æ±‚ï¼Œæ„¿æœ›æ˜¯ç¾å¥½çš„ï¼Œä½†æ˜¯ç°å®æ˜¯éª¨æ„Ÿçš„ï¼Œä½ä»£ç æ— æ³•åšåˆ°å…¨ç›˜é€šåƒï¼Œåªèƒ½èšç„¦æŸä¸ªé¢†åŸŸï¼Œæ˜“åŠ¨v3.0ä¹Ÿæ˜¯è¿™æ ·çš„ï¼Œä»–æ— æ³•å¤„ç†å­˜åœ¨å¤§é‡é€»è¾‘çš„é¡µé¢ï¼Œæ‰€ä»¥æ˜“åŠ¨v3.0é€‰æ‹©ä¸“æ³¨äºè¥é”€å•é¡µï¼Œåœ¨è¥é”€å•é¡µé¢†åŸŸä»–å¯ä»¥å‘æŒ¥è‡ªå·±çš„ä¼˜åŠ¿ã€‚ â€‹ é™¤äº†åŸºç¡€çš„æŒ‰é’®ã€å›¾ç‰‡ç»„ä»¶å¤–ï¼Œä¸šåŠ¡ç»„ä»¶å¯ä»¥åšå¾ˆå¤šåœºæ™¯åŒ–ç»„ä»¶ï¼Œä¾‹å¦‚bannerï¼Œå•†å“ä¸“åŒºï¼Œç”šè‡³ä»æ¥å£è·å–æ•°æ®çš„ç»„ä»¶éƒ½å¯ä»¥é€šè¿‡js Schemaçš„çº¦å®šè¿›è¡Œå®ç° â€‹ è€Œè¥é”€å•é¡µçš„éœ€æ±‚ç»œç»ä¸ç»ï¼Œè¿™æ ·çš„å·¥ä½œå°±åƒåœ¨å·¥å‚â€œæ‰“èºä¸â€ï¼Œå¤§éƒ¨åˆ†å‰ç«¯å¼€å‘è€…å¹¶ä¸æ„¿æ„åšè¿™ä»¶äº‹æƒ…ï¼Œå¹¶ä¸”å·¥ä½œæµç¨‹æ¯”è¾ƒç¹çï¼Œå¯èƒ½å› ä¸ºä¸šåŠ¡åŸå› é¢‘ç¹æ”¹åŠ¨ï¼Œå¤§è‡´å·¥ä½œæµç¨‹å¦‚ä¸‹ â€‹ â€‹ ä¸€ä¸ªå†ç®€å•çš„å•é¡µéƒ½éœ€è¦èµ°ä¸€æ ·çš„å›ºå®šæµç¨‹ï¼Œå¹¶ä¸”ä¸€æ—¦æŸä¸ªç¯èŠ‚å‡ºç°äº†é—®é¢˜å°±éœ€è¦å›æ»šå¥½å‡ æ­¥ï¼Œåœ¨è¿™å„¿ä¸ªè¿‡ç¨‹ä¸­å¼€å‘è€…ä¹Ÿéœ€è¦è·Ÿç€å›æ»šï¼Œéå‡ºç°äº†é¢‘ç¹æ”¹æ ·å¼ï¼Œé‡å¤æœºæ¢°è¡Œä¸ºã€‚ â€‹ å¦‚æœæœ‰äº†ä½ä»£ç å¹³å° æµç¨‹å¯ä»¥å˜æˆè¿™æ · â€‹ è¿™æ ·çš„æ¶æ„ä¸­æƒè´£å˜çš„æ›´åŠ æ¸…æ™°ï¼Œå¼€å‘è€…ä»â€œèºä¸é’‰â€å˜æˆäº†æŠ€æœ¯è§£å†³æ–¹æ¡ˆå¼€å‘è€… â€‹ è€Œä¸šåŠ¡çš„å†³å®šæƒä¹ŸæŒæ¡åœ¨ä¸“äººæ‰‹ä¸­ï¼›å¤§å®¶å„å¸å…¶èŒï¼ŒæŠ€æœ¯æ ¹æ®å®é™…éœ€æ±‚ä¸æ–­ä¼˜åŒ–æŠ€æœ¯è§£å†³æ–¹æ¡ˆï¼Œè¿è¥ä½¿ç”¨ä½ä»£ç å¹³å°çš„æ­å»ºèƒ½åŠ› ç‰©æ–™èƒ½åŠ›ä¹Ÿèƒ½æé«˜è¿è¥çš„æ•ˆç‡ã€‚ H5è£…ä¿®å¸¸è§æ–¹æ¡ˆâ€‹ æ®ä½œè€…äº†è§£ï¼Œç›®å‰å¸‚é¢ä¸Šæ‰€æœ‰çš„ä½ä»£ç å¹³å°å‡ ä¹éƒ½æ˜¯åŸºäºSchemaè¿›è¡Œå®ç°çš„ï¼Œè¿™ç§æ–¹æ¡ˆçš„æ ¸å¿ƒåŸç†æ¯”è¾ƒç®€å• â€‹ åŸºäºè¿™æ ·çš„Schemaç»“æ„ï¼Œä¾¿è¡ç”Ÿå‡ºæ¥äº†å¤šç§å®ç°æ–¹æ¡ˆï¼Œåœ¨è¿™é‡Œç®€å•æè¿°ä¸€ä¸‹æˆ‘åœ¨å®é™…å·¥ä½œä¸­éƒ½ä½¿ç”¨è¿‡æ–¹æ¡ˆä»¥åŠä»–ä»¬çš„ä¼˜ç¼ºç‚¹ï¼› ç»å¯¹å®šä½æ–¹æ¡ˆâ€‹ ç®€ä»‹ï¼šæ‰€æœ‰çš„è£…ä¿®ç»„ä»¶éƒ½æ˜¯å†åå°ç›´æ¥æ‹–æ‹½æ”¾ç½®ï¼Œæ²¡æœ‰ç»„ä»¶ç¾¤ç»„çš„æ¦‚å¿µï¼Œå¯ä»¥ä»»æ„æ”¾ç½®ä½ çš„ç»„ä»¶åˆ°ä»»ä½•åœ°æ–¹ã€‚ â€‹ ä¼˜ç‚¹ï¼šçµæ´» â€‹ ç¼ºç‚¹ï¼šæ— æ³•æµå¼å¸ƒå±€ï¼Œéœ€è¦ç»´æŠ¤å…¬å…±ç»„ä»¶åº“ï¼Œæ“ä½œé—¨æ§›è¾ƒé«˜ï¼Œéœ€è¦é€šè¿‡æŠ€æœ¯èƒ½åŠ›å¡«è¡¥ï¼Œä¾‹å¦‚å¸é™„è¾…åŠ©çº¿ã€‚ æµå¼å¸ƒå±€æ–¹æ¡ˆâ€‹ ç®€ä»‹ï¼šè£…ä¿®ç»„ä»¶éµå¾ªæµå¼å¸ƒå±€ï¼Œä»ä¸Šåˆ°ä¸‹ä»å·¦åˆ°å³è¿›è¡Œæ’åºï¼Œå°±åƒæ­ç§¯æœ¨ä¸€ä»¶ï¼Œè¿™ç§æ–¹æ¡ˆä»…é™ç§»åŠ¨ç«¯ â€‹ ä¼˜ç‚¹ï¼šæ“ä½œç®€å• â€‹ ç¼ºç‚¹ï¼šç»„ä»¶ä¸å¤Ÿçµæ´»ï¼Œå› ä¸ºåªèƒ½ä¸Šä¸‹ç§»åŠ¨ï¼Œæƒ³åšåˆ°éå¸¸è§„å¸ƒå±€æ¯”è¾ƒéº»çƒ¦ï¼Œéœ€è¦ç»´æŠ¤å…¬å…±ç»„ä»¶åº“ iframeæ–¹æ¡ˆâ€‹ ç®€ä»‹ï¼šå°†å®¢æˆ·ç«¯é€šè¿‡iframeå†…åµŒåˆ°è£…ä¿®ç®¡ç†ç«¯ä¸­ï¼Œå†é€šè¿‡postMessageè¿›è¡Œé¡¹ç›®é—´é€šä¿¡ï¼Œå®¢æˆ·ç«¯è¯†åˆ«ç¯å¢ƒå¼€å¯è£…ä¿®æ¨¡å¼ä¸åå°è¿›è¡Œå®æ—¶é€šä¿¡ â€‹ ä¼˜ç‚¹ï¼šä¸éœ€è¦ç»´æŠ¤å…¬å…±ç»„ä»¶åº“ ï¼Œåªéœ€è¦ç»´æŠ¤å®¢æˆ·ç«¯ä»£ç  â€‹ ç¼ºç‚¹ï¼šå®¢æˆ·ç«¯ä¸ç®¡ç†ç«¯ä»£ç è€¦åˆä¸¥é‡ è£…ä¿®æ“ä½œéƒ¨åˆ†ä»£ç éœ€è¦å†™åœ¨å®¢æˆ·ç«¯ä¸­ æµå¼å¸ƒå±€ + ç»å¯¹å®šä½æ–¹æ¡ˆâ€‹ ç®€ä»‹ï¼šä¸ºç»å¯¹å®šä½ç»„ä»¶å¢åŠ ä¸€ä¸ªæµå¼å¸ƒå±€çš„çˆ¶çº§å®¹å™¨ï¼Œè®©è£…ä¿®æ•°æ®å…·å¤‡äºŒçº§ç»“æ„ï¼Œ â€‹ ä¼˜ç‚¹ï¼šçµæ´» å…·å¤‡å¯ç”Ÿæˆä»£ç çš„è§„èŒƒç»“æ„ â€‹ ç¼ºç‚¹ï¼šæ“ä½œéº»çƒ¦ï¼Œå­˜åœ¨ä¸€å®šå­¦ä¹ æˆæœ¬ ï¼Œéœ€è¦ç»´æŠ¤å…¬å…±ç»„ä»¶åº“ï¼Œç›¸å¯¹å…¶ä»–æ–¹æ¡ˆå¤šäº†ä¸€å±‚ç»“æ„ï¼Œéš¾åº¦ç›¸å¯¹æ›´åŠ å¤§ æ˜“åŠ¨3é€‰æ‹©çš„æ–¹æ¡ˆâ€‹ åœ¨å…¬å¸ç”Ÿäº§ç¯å¢ƒé¡¹ç›®ä¸­ï¼Œå‡­å€Ÿæ˜“åŠ¨v1.0çš„ç»éªŒï¼Œæˆ‘ä½¿ç”¨äº†æµå¼å¸ƒå±€æ–¹æ¡ˆï¼Œæœ€åˆæ•ˆæœè¿˜æ˜¯éå¸¸ä¸é”™çš„ï¼Œé‚£æ—¶å€™æ²¡æƒ³åˆ°å°†å…¬å…±ç»„ä»¶å‘å¸ƒåˆ°npmï¼Œä¸¤ç«¯é¡¹ç›®å…¬ç”¨ç»„ä»¶çš„æ–¹æ¡ˆï¼ŒåæœŸç»„ä»¶æ”¹åŠ¨é¢‘ç¹ï¼Œå‡ºç°äº†æå¤§çš„ç»´æŠ¤é—®é¢˜ï¼Œè¿™è¿«ä½¿æˆ‘å¯»æ‰¾å…¶ä»–å‡ºè·¯ã€‚ â€‹ ä¸ºäº†è§£å†³æµå¼å¸ƒå±€ä¸­ä¸€å¥—ç»„ä»¶ï¼Œä¸¤å¥—ä»£ç é—®é¢˜ï¼Œåœ¨ç”Ÿäº§ç¯å¢ƒé¡¹ç›®ä¸­å®éªŒæ€§çš„ä½¿ç”¨ç®¡ç†ç«¯ + å®¢æˆ·ç«¯è€¦åˆçš„iframeæ–¹æ¡ˆï¼Œæ»¡è¶³äº†å…¬å¸çš„éœ€æ±‚åªéœ€è¦ç»´æŠ¤ä¸€å¥—ä»£ç ï¼Œå¹¶ä¸”å¯ä»¥å°†SchemaæŠ½è±¡å‡ºæ¥åº”ç”¨åˆ°å•é¡µä¸­ï¼Œå®ç°æ´»åŠ¨é¡µè£…ä¿®ï¼Œiframeè£…ä¿®æ–¹æ¡ˆåœ¨å…¬å¸ä¹Ÿæ˜¯æ²¿ç”¨è‡³ä»Šï¼Œå¸®åŠ©å…¬å¸æ­å»ºäº†200+çš„é¡µé¢ã€‚ â€‹ å†åæ¥ï¼Œæˆ‘å‡†å¤‡é‡å¯æ˜“åŠ¨é¡¹ç›®ï¼Œå¼€å‘æ˜“åŠ¨v2.0ï¼Œæˆ‘ä»¬åœ¨æ˜“åŠ¨v2.0ä¸­å®éªŒæ€§çš„å°è¯•äº†æµå¼å¸ƒå±€ + ç»å¯¹å®šä½æ–¹æ¡ˆï¼Œåœ¨å¼€å‘ä¹‹å‰æ™®éè§‰å¾—è¿™æ˜¯ä¸€ä¸ªå¤©æ‰çš„ä¸»æ„ï¼ŒåŒæ—¶å…·å¤‡æµå¼å¸ƒå±€ä¸ç»å¯¹å®šä½æ–¹æ¡ˆçš„ä¼˜ç‚¹ï¼Œè€Œä¸”æ˜“åŠ¨v2.0å¼€å‘æŠ€æœ¯ä¸­è¿˜å­˜åœ¨ç±»ä¼¼æ˜“ä¼ç§€çš„å¤šé¡µçš„éœ€æ±‚ï¼Œå¤§æ¦‚ç»è¿‡2ä¸ªæœˆçš„ä»£ç ç¼–å†™ï¼Œæœ€ç»ˆå‘ç°è¿˜æ˜¯æˆ‘ä»¬çš„æƒ³æ³•è¿‡äºç†æƒ³åŒ–ï¼Œé¦–å…ˆæ“ä½œä¸Šå°±å­˜åœ¨æ¯”è¾ƒé«˜çš„é—¨æ§›ï¼ŒæŠ€æœ¯éš¾åº¦ä¹Ÿå¾ˆå¤§ï¼Œè€Œä¸”å› ä¸ºSchemaç»“æ„å¤æ‚ï¼ŒåæœŸä»£ç éš¾åº¦ä¹Ÿæ˜¯å‡ ä½•çº§åˆ«çš„æå‡ï¼Œæœ€ç»ˆæˆ‘ä»¬PASSäº†è¿™ä¸ªæ–¹æ¡ˆã€‚ â€‹ åœ¨åé¢ä¸€æ®µæ—¶é—´æˆ‘ä¸€ç›´åœ¨æ€è€ƒä¸€ä¸ªé—®é¢˜ï¼Œä¹Ÿå°±æ˜¯ä½ä»£ç çš„è¾¹ç•Œæ€§ï¼Œä»–åº”è¯¥åšä»€ä¹ˆï¼Œä»–å¯ä»¥åšä»€ä¹ˆï¼Œæˆ‘ä»¬å¦‚ä½•é€šè¿‡ä½ä»£ç æ¥åˆ›é€ äº§å“ä»·å€¼ï¼Œåœ¨ä¸æ–­çš„æ€è€ƒä¸­æˆ‘ä¹Ÿé€æ¸æ˜ç¡®äº†å¼€å‘æ–¹å‘ï¼Œä¸å†å»æƒ³ä»–è¿˜èƒ½åšä»€ä¹ˆï¼Œè€Œæ˜¯åœ¨å¼€å‘ä¹‹å‰å°±ç¡®å®šä¸€ä¸ªç›®æ ‡ï¼Œæ˜“åŠ¨3.0å°†ä¼šåœ¨è¥é”€é¢†åŸŸå‘æŒ¥å®ƒçš„ä½œç”¨ï¼Œæ‰€æœ‰çš„åŠŸèƒ½éƒ½å›´ç»•è¿™ä¸ªæ ¸å¿ƒç›®æ ‡ â€‹ åŸºäºè¿™æ ·çš„ç›®æ ‡ï¼Œæ˜“åŠ¨v3.0å†å‡ºå‘ï¼Œä¾æ—§é‡‡ç”¨ç»å¯¹å®šä½æ–¹æ¡ˆï¼Œå› ä¸ºç»å¯¹å®šä½æ–¹æ¡ˆç¬¦åˆéœ€æ±‚ï¼Œéš¾åº¦æœ€å°ï¼Œå…·å¤‡æ‹“å±•æ€§ï¼ŒåæœŸç»´æŠ¤æ€§æ›´å¼ºã€‚ â€‹ æ–¹æ¡ˆç¡®å®šå¥½äº†ï¼Œæ¥ä¸‹æ¥å°†ä¼šä»‹ç»ä¸€äº›æ ¸å¿ƒçš„å®ç°æ€è·¯ã€‚ æ ¸å¿ƒå®ç°æ€è·¯Schemaçš„ç¼–å†™â€‹ schemaçš„ç»“æ„å°†ä¼šå†³å®šä½ çš„è£…ä¿®ç³»ç»Ÿçš„ä¸Šé™ï¼Œä¸€ä¸ªè‰¯å¥½çš„è®¾è®¡ç»“æ„å°†ä¼šä¸ºåé¢çš„å¼€å‘é™ä½å¾ˆå¤§çš„éš¾åº¦ï¼Œæˆ‘ä»¬éœ€è¦å®šä¹‰å¥½é¡µé¢çš„ç»“æ„ä¸ç»„ä»¶çš„ç»“æ„ã€‚ â€‹ è€Œåœ¨ä»£ç ä¸­å¢åŠ ç»„ä»¶ï¼Œæˆ–è€…å¢åŠ ç»„ä»¶ç±»çš„æ•°æ®ï¼Œä¾‹å¦‚åœ¨è½®æ’­å›¾ç»„ä»¶ä¸­å¢åŠ ä¸€é¡¹è½®æ’­å›¾ï¼Œéƒ½éœ€è¦é€šè¿‡å‡½æ•°returnçš„æ–¹å¼è¿›è¡Œå¯¹è±¡åˆ›å»ºï¼Œä»¥å…å‡ºç°å¤šä¸ªç»„ä»¶ä½¿ç”¨çš„æ•°æ®ä¸ºä¸€ä¸ªæ•°æ®æºã€‚ åœ¨é¡¹ç›®ä¸­å¢åŠ ä¸€ä¸ªç»„ä»¶ï¼Œåªéœ€è¦å°†ç»„ä»¶Schema pushåˆ°æ¨¡æ¿å˜é‡ä¸­å³å¯ ä»£ç ä½ç½®ï¼šhttps://github.com/vkcyan/YD/blob/main/src/modules/component/index.ts 123456789101112131415161718192021222324252627282930/** * ç»„ä»¶ä¿¡æ¯åˆ—è¡¨ * @param name ç»„ä»¶åç§° * @param tempLen æœ¬æ¬¡å±‚çº§ * @returns */function baseComList(name: string, tempLen) &#123; const list: baseComponent[] = [ &#123; id: guid(), name: &#x27;y-img&#x27;, showTitle: `å›¾ç‰‡$&#123;tempLen&#125;`, // æ˜¾ç¤ºç»„ä»¶åç§° show: true, cssModule: &#123; ...absolute(tempLen), ...borderData(), ...compSize(100, 60), &#x27;background-color&#x27;: &#x27;#ffffff00&#x27;, &#125;, // æ ·å¼ staticData: &#123; imglUrl:&#x27;xxxx.png&#x27;, ...linkData(), &#125;, // è¡Œä¸º function: &#123;&#125;, // æ–¹æ³• animation: [], // åŠ¨ç”» &#125;, // ..... ] return list.find((e) =&gt; e.name == name)&#125; â€‹ ä¾‹å¦‚å¢åŠ ä¸€ä¸ªå›¾ç‰‡ç»„ä»¶ï¼Œæˆ‘ä»¬åªéœ€è¦å°†å‚æ•°â€™y-imgâ€™ï¼Œä¼ å…¥å‡½æ•°ï¼Œå³å¯å¾—åˆ°ä¸€ä¸ªå›¾ç‰‡ç»„ä»¶çš„Schemaï¼Œè¿™æ ·æˆ‘ä»¬ä¾¿å…·å¤‡æ­å»ºé¡µé¢Schemaæ ‘çš„èƒ½åŠ›ã€‚ å®ç°æ‹–æ‹½ å®ç°è‰¯å¥½çš„æ‹–æ‹½æ˜¯ä¸€ä»¶éå¸¸æœ‰éš¾åº¦çš„äº‹æƒ…ï¼Œå®ƒä¸ä»…ä»…æ˜¯ç®€å•å…ƒç´ çš„ç§»åŠ¨ï¼Œè€Œæ˜¯é€šè¿‡æŠ€æœ¯çš„æ‰‹æ®µé™ä½è£…ä¿®çš„æ“ä½œé—¨æ§›ã€‚ å…ƒç´ ä½ç§»â€‹ åœ¨æ˜“åŠ¨v3.0ä¸­ï¼Œå¼ƒç”¨äº†ä»¥å¾€é‡‡ç”¨çš„ç›‘å¬é¼ æ ‡å•æ¬¡ç§»åŠ¨è·ç¦»å®ç°æ–¹æ¡ˆï¼Œå› ä¸ºè¿™ä¼šå¯¼è‡´å¿«é€Ÿç§»åŠ¨åå‡ºç°åæ ‡ä¸å‡†ç¡®çš„æƒ…å†µï¼Œæ”¹æˆè·å–ç›¸å¯¹çˆ¶çº§ç»å¯¹åæ ‡ã€‚ â€‹ å…¨å±€é¼ æ ‡ç›‘å¬ä½¿ç”¨vueuseçš„useMouseInElementAPIï¼Œå¸®åŠ©æˆ‘ä»¬è·å–æ¯æ¬¡çš„ç›¸å¯¹ä½ç½®ï¼Œé¼ æ ‡æŒ‰ä¸‹åŒæ—¶ä¿å­˜å…ƒç´ ä¸‹æ ‡ï¼Œå†é€šè¿‡watchEffectå…¨å±€ç›‘å¬useMouseInElementçš„å˜åŒ–ï¼Œæ‹¿ç€é¼ æ ‡æŒ‰ä¸‹é˜¶æ®µä¿å­˜çš„ä¸‹æ ‡å»å¯»æ‰¾éœ€è¦ä½ç§»çš„å…ƒç´ ï¼Œä¸æ–­æ›´æ–°å…¶Schemaä¸­çš„cssModuleå­—æ®µä¸­çš„topä¸leftå€¼ï¼Œè¿›è€Œå®ç°å…ƒç´ ç§»åŠ¨ã€‚ å…ƒç´ ç¼©æ”¾ â€‹ æˆ‘ä»¬ä¸ºå…ƒç´ å¢åŠ  ä¸Š ä¸‹ å·¦ å³ å·¦ä¸Š å·¦ä¸‹ å³ä¸Š å³ä¸‹ï¼Œå…«ä¸ªæ“ä½œç‚¹ï¼Œæ˜¯å…ƒç´ æ”¯æŒä»»æ„ç¼©æ”¾åŠŸèƒ½ï¼Œå†ç‚¹å‡»ä»»æ„ç¼©æ”¾ç‚¹çš„æ—¶å€™ï¼Œæˆ‘ä»¬éƒ½ä¼šä¿å­˜ä¸€ä¸ªæ ‡è¯†ï¼Œæ¥ç¡®å®šå½“å‰ç‚¹å‡»çš„ç‚¹æ˜¯ä»€ä¹ˆï¼Œç„¶ååœ¨ å…¨å±€ç›‘å¬é¼ æ ‡ç§»åŠ¨çš„watchEffectä¸­æ‰§è¡Œå¯¹åº”ç¼©æ”¾é€»è¾‘ï¼Œæ¥ä¸æ–­æ›´æ–°é€‰ä¸­çš„å…ƒç´ çš„ top left width heightçš„ç»„åˆå€¼ï¼Œè¿›è€Œå®ç°å…ƒç´ ç¼©æ”¾åŠŸèƒ½ã€‚ å…ƒç´ å¤šé€‰ â€‹ æ”¯æŒå…ƒç´ ä½ç§»ä¸ç¼©æ”¾å…¶å®å·²ç»å®Œæˆäº†è£…ä¿®çš„æœ€æ ¸å¿ƒåŠŸèƒ½ï¼Œå·²ç»å¯ä»¥å®Œæˆç®€å•çš„é¡µé¢æ­å»ºäº†ï¼Œä½†æ˜¯ä»…å‡­ä½ç§»ä¸ç¼©æ”¾æ“ä½œèµ·æ¥ä¸æ–¹ä¾¿ï¼Œè¿™æ—¶å€™å°±éœ€è¦å¼€å‘å¤šé€‰åŠŸèƒ½ï¼Œæˆ‘ä»¬æŠŠä¹‹å‰ä¿å­˜çš„å•ä¸ªé€‰ä¸­ä¸‹æ ‡æ”¹æˆä¸€ä¸ªé€‰ä¸­æ•°ç»„ã€‚ â€‹ è¿™é‡Œè¯´æ˜ä¸€ä¸‹ä¸ºä»€ä¹ˆä¿å­˜æ•°ç»„ä¸‹æ ‡ï¼Œè€Œä¸æ˜¯ç»„ä»¶çš„å”¯ä¸€idï¼Œè¿™æ˜¯ä¸€ä¸ªæ—¶é—´å¤æ‚åº¦çš„é—®é¢˜ï¼Œå¦‚æœä¿å­˜ç»„ä»¶å”¯ä¸€idï¼Œæ›´æ–°ç»„ä»¶æ•°æ®å°±éœ€è¦é€šè¿‡å¾ªç¯å†æ‰¾åˆ°ä¸‹æ ‡ï¼Œè¿›è€Œé€šè¿‡ä¸‹æ ‡æ›´æ–°æ•°æ®ï¼Œè¿™æ—¶å€™æ—¶é—´å¤æ‚åº¦ä¸ºOnï¼Œè€Œç›´æ¥ä¿å­˜æ•°ç»„ä¸‹æ ‡ï¼Œåœ¨é€šè¿‡ä¸‹æ ‡ç›´æ¥æ›´æ–°æ•°æ®ï¼Œæ—¶é—´å¤æ‚åº¦ä¸ºO1ã€‚ â€‹ å›åˆ°æ­£é¢˜ï¼Œæˆ‘ä»¬å¼€å‘ä¸€ä¸ªé€‰ä¸­æ¡†ç»„ä»¶ï¼Œåœ¨æ‹–åŠ¨é€‰ä¸­æ¡†çš„æ—¶å€™åˆ¤æ–­æ˜¯å¦åŒ…å«äº†ç»„ä»¶ï¼Œä¸æ–­æ›´æ–°å½“å‰é€‰ä¸­æ¡†å¤šé€‰çš„å…ƒç´ ï¼Œè¿›è€Œå®ç°å¤šé€‰åˆ é™¤ï¼Œå¤šé€‰æ‹–åŠ¨ï¼Œç­‰ç­‰å¤šé€‰åŠŸèƒ½ã€‚ â€‹ ç›®å‰å¤šé€‰æ¡†è®¡ç®—é€»è¾‘è¿˜æ¯”è¾ƒå•ä¸€ï¼Œä»…æ”¯æŒä»å·¦ä¸Šå‘å³ä¸‹æ‹–åŠ¨ï¼Œåç»­æœ‰æ—¶é—´ä¼šç»§ç»­å®Œå–„ã€‚ è¾…åŠ©çº¿ â€‹ è¾…åŠ©çº¿æ˜¯ä½ä»£ç ç³»ç»Ÿå¿…å¤‡åŠŸèƒ½ï¼Œè¿™å°†ä¼šæå¤§çš„é™ä½ä½¿ç”¨é—¨æ§›ï¼Œå®ç°è¾…åŠ©çº¿ç›¸å¯¹æ¥è¯´ä¹Ÿæ˜¯éå¸¸å¤æ‚çš„ï¼Œå‡å¦‚é¡µé¢æœ‰4ä¸ªç»„ä»¶ï¼Œæˆ‘ä»¬ç‚¹å‡»äº†ä»»æ„ä¸€ä¸ªçš„æ—¶å€™ï¼Œå°±éœ€è¦å»ä¿å­˜å…¶ä»–3ä¸ªç»„ä»¶çš„ top top + height/2 top + height left left + width/2 left+widthï¼Œå¹¶ä¸”å°†å…¶æ•°ç»„ä¿å­˜æˆä¸ºå­—å…¸ç»“æ„ï¼Œä¹Ÿå°±æ˜¯ES6çš„Setï¼Œç›¸å¯¹æ•°ç»„å®ç°å¯ä»¥å°†æ—¶é—´å¤æ‚åº¦ä»On2é™ä½åˆ°Onï¼Œæœ‰æ•ˆé¿å…äº†å¡é¡¿çš„æƒ…å†µï¼Œåœ¨è¢«é€‰ä¸­å…ƒç´ ä¸æ–­æ‹–åŠ¨çš„æ—¶å€™ï¼Œæˆ‘ä»¬ä¼šä¸æ–­å¯¹æ¯”å½“å‰å˜åŒ–åæ ‡ä¸ä¹‹å‰ä¿å­˜çš„3ä¸ªç»„ä»¶çš„åæ ‡ï¼Œä¸€æ—¦å¯¹æ¯”åˆ°äº†ä¸€è‡´ï¼Œå°±ä¼šå°†å…¶å€¼pushåˆ°å­˜å‚¨å˜é‡ï¼Œå¹¶åœ¨é¡µé¢ä¸Šæ˜¾ç¤ºï¼Œè¡¨æ˜å·²ç»å¯¹é½ã€‚ è¾…åŠ©çº¿å¸é™„â€‹ å…ˆå£°æ˜ä¸€ä¸‹ï¼Œè¾…åŠ©çº¿å¸é™„ä½œè€…çš„å®ç°è¿˜å­˜åœ¨ç‘•ç–µï¼Œç›®å‰è¿˜åœ¨å¯»æ‰¾æ›´å¥½çš„æ–¹æ¡ˆï¼Œä¹Ÿå¸Œæœ›æœ‰å¤§ä½¬å¯ä»¥æŒ‡ç‚¹ä¸€äºŒï¼Œç›®å‰å¸é™„è¿˜å­˜åœ¨ä¸€ç‚¹æ“ä½œä¸Šçš„ä¸æµç•…æƒ…å†µï¼Œæ‰€ä»¥è¿™éƒ¨åˆ†æˆ‘ä¾¿ä¸å¤šèµ˜è¿°ã€‚æ‰¾åˆ°æœ€ä½³è§£å†³æ–¹æ¡ˆå†æ›´æ–°ã€‚ æ—¶é—´æ—…è¡Œ piniaçš„subscribeså­˜åœ¨å·®å¼‚ï¼Œå¹¶ä¸”eventsåœ¨ç”Ÿäº§ç¯å¢ƒæ— æ³•è·å–ï¼Œå¯¼è‡´ç°åœ¨çº¿ä¸Šæ— æ³•ç›¸å…³ä½¿ç”¨ â€‹ æ‰€è°“æ—¶é—´æ—…è¡Œå°±æ˜¯å¯ä»¥è¿›è¡Œæ’¤é”€ åæ’¤é”€æ“ä½œæ“ä½œï¼Œï¼Œå…·ä½“åŸç†æ„Ÿå…´è¶£å¯ä»¥çœ‹çœ‹vuexç‰ˆæœ¬çš„å®ç°ï¼Œæœ¬è´¨åŸç†éƒ½æ˜¯ä¸€æ ·çš„ï¼ŒåŸºäºvuexå®ç° æ’¤é”€ ä¸ åæ’¤é”€ çš„pluginsï¼Œé‡‡ç”¨æ•°ç»„ + å•æŒ‡é’ˆè¿›è¡Œå®ç°ã€‚ moreâ€‹ ç§»åŠ¨ç«¯å¦‚ä½•è¯»å–schemaï¼Œä½¿å…¶è¿˜åŸè£…ä¿®æ•ˆæœï¼›å¦‚ä½•å®ç°äºŒæ¬¡ç¼–è¾‘ç»„ä»¶çš„ä¿å­˜åˆ°åˆ›å»ºå¸‚åœºï¼›è¿˜æœ‰å¾ˆå¤šæ‹–æ‹½ç»†èŠ‚çš„å®ç°ï¼›ç« èŠ‚æœ‰é™ï¼Œè¿™é‡Œä¸å†ä¸€ä¸€èµ˜è¿°ï¼Œæœ‰å…´è¶£å¯ä»¥åŠ å…¥å¾®ä¿¡ç¾¤åœ¨ä¸€èµ·èŠèŠã€‚ åŸºç¡€ç»„ä»¶orä¸šåŠ¡ç»„ä»¶ åŸºç¡€ç»„ä»¶ï¼šæŒ‰é’® å›¾ç‰‡ è¾“å…¥æ¡† æ–‡å­— æ¨¡å—ï¼ˆhtmlè‡ªå¸¦çš„æ ‡ç­¾å…ƒç´ ï¼‰ ä¸šåŠ¡ç»„ä»¶ï¼šå¯Œæ–‡æœ¬ è½®æ’­å›¾ è‹¥å¹²è¥é”€ç»„ä»¶ï¼ˆç”±å¼€å‘äººå‘˜å®šåˆ¶åŒ–äº§å‡ºçš„æ ‡ç­¾å…ƒç´ ï¼‰ â€‹ åœ¨æ—©æœŸå¼€å‘ä½ä»£ç ï¼Œæ— ä»£ç äº§å“çš„æ—¶å€™ï¼Œæˆ‘å°†ç»å¯¹å®šä½æ–¹æ¡ˆä¸åŸºç¡€ç»„ä»¶ç»‘å®šï¼Œä¸šåŠ¡ç»„ä»¶ä¸æµå¼å¸ƒå±€ç»‘å®šï¼Œéšç€å¯¹ä½ä»£ç çš„æ·±å…¥ç†è§£ï¼Œæˆ‘åœ¨è¿™é‡Œå¿…é¡»çº æ­£ä¹‹å‰çš„åè§ï¼Œæ­£ç¡®çš„è§‚ç‚¹åº”è¯¥æ˜¯ï¼šåŸºç¡€ç»„ä»¶ + ç»å¯¹å®šä½æ–¹æ¡ˆæ›´åŠ å’Œè°ã€ä¸šåŠ¡ç»„ä»¶ + æµå¼å¸ƒå±€æ–¹æ¡ˆæ›´åŠ å’Œè°ã€‚ â€‹ éšç€å°†è£…ä¿®ç»„ä»¶å‘å¸ƒæˆä¸ºnpmåŒ…ï¼Œä»–ä»¬çš„éš”é˜‚å·²ç»å‡ ä¹ä¸å­˜åœ¨ï¼Œå…¨éƒ¨è§†ä¸ºå…¬å…±ç»„ä»¶ï¼Œå…¬å…±npmç»„ä»¶åŒ…ä¸­å°†ä¼šæŠ¹å¹³å¹³å°å·®å¼‚ï¼Œä»»ä½•å¯ä»¥æç»˜çš„ç»„ä»¶å¯ä»¥çœ‹ä½œä¸ºé™æ€ç»“æ„ç»„ä»¶éƒ½å¯ä»¥è¢«ä½&#x2F;æ— ä»£ç å¹³å°ä½¿ç”¨ã€‚ å…³äºä½ä»£ç â€‹ è¿™å‡ å¹´å…³äºä½ä»£ç è®¨è®ºä¹Ÿéå¸¸å¤šï¼Œæœ€è¿‘ä¸€ç›´çœ‹åˆ°å¤§å‚å¼€æºçš„ä½ä»£ç å·¥å…·ï¼Œä¾‹å¦‚è…¾è®¯çš„tmagic-editorï¼Œé˜¿é‡Œçš„LowCodeEngineï¼Œè¿˜æœ‰5æœˆ28å·æ˜é‡‘ç›´æ’­ä½ä»£ç çš„æ¢ç´¢ä¸å®è·µï¼Œå…¶èƒŒåæ˜¯å‰æ²¿å¼€å‘è€…ä»¬å¯¹æ•ˆç‡çš„æ€è€ƒï¼Œæ˜¯ä»å±€éƒ¨æ•ˆç‡è½¬å˜åˆ°å…¨å±€æ•ˆç‡æ€æƒ³çš„è½¬å˜ã€‚ â€‹ åœ¨æŠ€æœ¯æ¡ä»¶æœ‰é™çš„æƒ…å†µä¸‹ï¼Œä½ä»£ç äº§å“çš„å¹¿åº¦ä¸æ·±åº¦åªèƒ½é€‰æ‹©å…¶ä¸€ï¼Œæˆ‘ä»¬è‡ªç„¶å¸Œæœ›ä½ä»£ç å¯ä»¥åšçš„äº‹æƒ…è¶Šå¤šè¶Šå¥½ï¼Œç”Ÿæˆé¡µé¢ï¼Œç”Ÿæˆä»£ç ï¼Œç›´æ¥ç¼–å†™äº‹ä»¶ï¼Œæ”¯æŒå•é¡µï¼Œæ”¯æŒå¤šé¡µï¼Œæ”¯æŒæ— é™åµŒå¥—domï¼Œè¾¾åˆ°é™ä½é—¨æ§›ï¼Œææ•ˆé™æˆæœ¬çš„ä½œç”¨ï¼Œç”šè‡³è§£æ”¾åŠ³åŠ¨åŠ›ï¼Œåˆ›é€ æ›´å¤§çš„ç¤¾ä¼šä»·å€¼ï¼Œä½†æ˜¯å¦‚æœæ²¡æœ‰è¶³å¤Ÿçš„æŠ€æœ¯åŸºç¡€ï¼Œåšçš„åŠŸèƒ½è¶Šå¤šï¼Œå°±æ­»çš„è¶Šæƒ¨ã€‚æ‰€ä»¥å¦‚æœä½ ä¹Ÿå‘ç°å­˜åœ¨ç±»ä¼¼éœ€æ±‚ï¼Œåˆ‡å‹¿åœ¨äº§å“è®¾è®¡æœŸé—´ä¸æ–­åŠ åŠŸèƒ½ï¼Œè¦ä¸“æ³¨ç»†åˆ†é¢†åŸŸï¼Œåªæœ‰è¿™æ ·ï¼Œä½ä»£ç é¡¹ç›®æ‰æœ‰å‘å…‰å‘çƒ­çš„æœºä¼šï¼Œæœ‰äº†ç»éªŒä¹‹åå†å†³å®šåšä»€ä¹ˆä¹Ÿä¸è¿Ÿã€‚ â€‹ ä»å‘ç°éœ€æ±‚åˆ°æ˜ç¡®å®šä½æœ‰å¾ˆé•¿çš„è·¯è¦èµ°ï¼Œä½ä»£ç äº§å“ä»å¯ç”¨åˆ°å¥½ç”¨è¿˜æœ‰å¾ˆé•¿çš„è·¯è¦èµ°ã€‚ å…¶ä»–é—®é¢˜ä¸ºä»€ä¹ˆæ˜“åŠ¨v3.0é€‰æ‹©ç»å¯¹å®šä½æ–¹æ¡ˆâ€‹ æ˜“åŠ¨v3.0è€ƒè™‘åˆ°è¥é”€é¡µé¢çš„å¤šæ ·åŒ–ï¼Œä»–å¹¶ä¸æ˜¯ç†æƒ³åŒ–çš„æµå¼å¸ƒå±€ï¼Œè€Œæ˜¯å¤šæ ·åŒ–çš„ï¼Œç”šè‡³ä½ æ„æƒ³ä¸åˆ°çš„UIå®ç°æ–¹å¼ï¼Œè¿™ä¹Ÿæ˜¯æ˜“åŠ¨v3.0ä½¿ç”¨ç»å¯¹å®šä½æ–¹æ¡ˆå®ç°çš„ä¸€ä¸ªé‡è¦åŸå› ï¼Œåç»­ä½œè€…ä¹Ÿä¼šä¸æ–­åŠ å¼ºå¯ç”¨æ€§ï¼Œè¿›ä¸€æ­¥é™ä½æ­å»ºé—¨æ§›ã€‚è´¯å½»æŠ€æœ¯ä¸ºä¸šåŠ¡æœåŠ¡ï¼Œè€Œä¸æ˜¯ä¸šåŠ¡ä¸ºæŠ€æœ¯æœåŠ¡çš„ç†å¿µã€‚ ä¸ºä»€ä¹ˆä½¿ç”¨serverlessâ€‹ åšå‡ºè¿™ä¸ªå†³å®šå¤„äºä¸¤ç‚¹è€ƒè™‘ å¤§éƒ¨åˆ†å…¬å¸ä¸ä¼šä½¿ç”¨nodeä½œä¸ºæœåŠ¡ç«¯æ¡†æ¶ï¼Œæ¥å…¥ä¼šé‡å†™æœåŠ¡ç«¯ã€‚ æœ¬äººæ˜¯å‰ç«¯å·¥ç¨‹å¸ˆï¼Œnode ä»¥åŠæœåŠ¡ç«¯å‘¨è¾¹æœåŠ¡ä¸ç®—ç²¾é€šï¼Œä½ä»£ç çš„é¡¹ç›®æ ¸å¿ƒä¹Ÿä¸åœ¨æœåŠ¡ç«¯ï¼Œserverlessæ»¡è¶³äº†ä½œè€…çš„éœ€æ±‚ï¼Œåç»­æˆ‘ä¼šæä¾›è¡¨ç»“æ„ï¼Œä»¥åŠå…³è”å…³ç³»ã€‚ å› ä¸ºè…¾è®¯äº‘serverlesså·²ç»å¼€å§‹æ”¶è´¹äº†ï¼Œåç»­å¯èƒ½ä¼šæ¢æˆfastifyè¿›è¡ŒæœåŠ¡ç«¯ç¼–å†™ï¼Œä¸»è¦çœ‹ä½œè€…æ˜¯å¦æœ‰æ—¶é—´ï¼Œä¹Ÿéå¸¸æ¬¢è¿æœ‰å¿—ä¹‹å£«ä¸ºå¼€æºåšå‡ºè´¡çŒ®ã€‚ å…³äºPCç«¯â€‹ æ˜“åŠ¨3çš„å®ç°æ–¹æ¡ˆæ˜¯ç»å¯¹å®šä½æ–¹æ¡ˆï¼Œè¿™è®©å®ç°pcç«¯è£…ä¿®çš„å¯èƒ½æ€§ï¼Œä½†æ˜¯ä¸ªäººæ„Ÿè§‰è¿™éƒ¨åˆ†éœ€æ±‚æ¯”è¾ƒå°ï¼ŒBç«¯çš„å®¢æˆ·éƒ½æ˜¯ToCï¼Œæ‰€ä»¥å¹¶æ²¡æœ‰åšç›¸å…³åŠŸèƒ½å¼€å‘ï¼Œä½†æ˜¯ç†è®ºä¸Šå¯ä»¥å®ç°çš„ã€‚ åç»­è¿˜ä¼šåšä»€ä¹ˆ ç›®å‰æ˜“åŠ¨v3.0 å¹¶ä¸æ˜¯å®Œæ•´çŠ¶æ€ï¼Œå› ä¸ºä½œè€…æ¯”è¾ƒå¿™ç¢Œï¼Œå¾ˆå¤šåŠŸèƒ½ä¾æ—§åœ¨å¼€å‘ä¸­ï¼Œå¤§å®¶ä¹Ÿå¯ä»¥æå‡ºéœ€æ±‚ï¼Œå¦‚æœå­˜åœ¨ä»·å€¼ï¼Œä½œè€…ä¼šåŠ å…¥åé¢çš„å·¥ä½œè®¡åˆ’ã€‚ æ•°æ®åˆ†æèƒ½åŠ›ï¼šé¡µé¢çš„æ›å…‰æƒ…å†µæ˜¯å®¢æˆ·éå¸¸å…³å¿ƒçš„æŒ‡æ ‡ï¼Œè¿™ä¹Ÿæ˜¯æ˜“åŠ¨v3.0éå¸¸å…³æ³¨çš„åŠŸèƒ½ æ¨¡æ¿å¸‚åœºåŠŸèƒ½ï¼šç‰©æ–™å¸‚åœºä¹Ÿæ˜¯ä½ä»£ç å¹³å°éå¸¸é‡è¦çš„åŠŸèƒ½ï¼Œé…åˆç»„ä»¶å¸‚åœºï¼Œå®ç°å›¢é˜Ÿèµ„æºæœ€å¤§åŒ–åˆ©ç”¨ï¼Œé™ä½æ­å»ºé—¨æ§› ä¸°å¯Œä¸šåŠ¡ç»„ä»¶ï¼šæ ¹æ®å®¢æˆ·éœ€æ±‚å¼€å‘å…¶æ»¡è¶³ä¸šåŠ¡åœºæ™¯çš„ç»„ä»¶ï¼Œè¾¾åˆ°ä¸€æ¬¡å¼€å‘ï¼Œå¤šæ¬¡ä½¿ç”¨çš„æ•ˆæœ å¢å¼ºè£…ä¿®èƒ½åŠ›ï¼šç»„ä»¶æ—‹è½¬ï¼Œå¤šé€‰ç»„ä»¶è¾…åŠ©å¯¹é½ï¼Œæ­å»ºé¡µé¢å¿«æ·æ“ä½œï¼Œè¿›ä¸€æ­¥é™ä½å¤§å®¶é—¨æ§› æœ€åâ€‹ è¿™ä¸ªå¼€æºé¡¹ç›®å°†ä¼šä¸€ç›´åšä¸‹å»ï¼Œæœªæ¥å¯èƒ½ä¹Ÿä¼šå°è¯•åšæ”¶è´¹ç‰ˆæœ¬ï¼Œæ¯•ç«Ÿä¸ºçˆ±å‘ç”µè¿˜æ˜¯è¿‡äºç†æƒ³åŒ–äº†ï¼Œå¦‚æœä½ ä¹Ÿæ˜¯åŒé“ä¸­äººæˆ–è€…æœ‰è¿™æ ·çš„æ½œåœ¨éœ€æ±‚ï¼Œå¯ä»¥åŠ å…¥å¾®ä¿¡ç¾¤ï¼Œä¸€èµ·äº¤æµå­¦ä¹ ï¼Œå…±åŒè¿›æ­¥~ è®¨è®ºç¾¤","categories":[{"name":"JavaScript-2022","slug":"JavaScript-2022","permalink":"https://vkcyan.github.io/categories/JavaScript-2022/"}],"tags":[{"name":"JavaScript","slug":"JavaScript","permalink":"https://vkcyan.github.io/tags/JavaScript/"},{"name":"ä½ä»£ç ","slug":"ä½ä»£ç ","permalink":"https://vkcyan.github.io/tags/%E4%BD%8E%E4%BB%A3%E7%A0%81/"},{"name":"h5è£…ä¿®","slug":"h5è£…ä¿®","permalink":"https://vkcyan.github.io/tags/h5%E8%A3%85%E4%BF%AE/"},{"name":"Vue3","slug":"Vue3","permalink":"https://vkcyan.github.io/tags/Vue3/"}]},{"title":"å…³äºå…ç™»å½•çš„ä¸€äº›å®è·µä¸æ€è€ƒ","slug":"è§£å†³æ–¹æ¡ˆ/é’ˆå¯¹å…ç™»å½•çš„ä¸€äº›å®è·µä¸æ€è€ƒ","date":"2022-05-23T16:00:00.000Z","updated":"2022-12-11T13:51:24.095Z","comments":true,"path":"2022/05/24/è§£å†³æ–¹æ¡ˆ/é’ˆå¯¹å…ç™»å½•çš„ä¸€äº›å®è·µä¸æ€è€ƒ/","link":"","permalink":"https://vkcyan.github.io/2022/05/24/%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/%E9%92%88%E5%AF%B9%E5%85%8D%E7%99%BB%E5%BD%95%E7%9A%84%E4%B8%80%E4%BA%9B%E5%AE%9E%E8%B7%B5%E4%B8%8E%E6%80%9D%E8%80%83/","excerpt":"","text":"å‰è¨€â€‹ å¬ç”¨æˆ·è¯´ï¼Œä½†æ˜¯ä¸è¦ç…§ç€åšã€‚ â€‹ è¿™å¥è¯æ¥è‡ªè‹æ°çš„ã€Šäººäººéƒ½æ˜¯ç»ç†ã€‹è¿™æœ¬ä¹¦ï¼›åœ¨äº§å“ç»´åº¦æˆ‘ä»¬éµå¾ªè¿™æ ·çš„åŸåˆ™ï¼Œå…¶å®åœ¨ç¨‹åºç»´åº¦ï¼Œä¹Ÿéœ€è¦éµå¾ªè¿™æ ·çš„åŸåˆ™ï¼Œå¦‚æœæ²¡æœ‰æ„è¯†åˆ°è¿™ä¸€ç‚¹æˆ‘ä»¬ä¹Ÿè®¸ä¼šæ·±é™·æ³¥æ½­ã€‚ æ¡ˆä¾‹ï¼šå…ç™»å½•åˆ°å•†å“è¯¦æƒ…é¡µé¢èŠä¸€ä¸ªæˆ‘ä»¬ä¹‹å‰é‡åˆ°çš„é—®é¢˜ï¼Œåœºæ™¯æ˜¯è¿™æ ·çš„ ç”¨æˆ·åœ¨ç¬¬ä¸‰æ–¹å¹³å°ç™»å½•ï¼Œç”¨æˆ·ç™»å½•åç‚¹å‡»å•†å“ä¼šå…ç™»å½•åˆ°æˆ‘ä»¬å•†åŸ è·³è½¬è¿‡æ¥åï¼Œæˆ‘ä»¬å•†åŸéœ€è¦å®Œæˆå…ç™»å½•æ“ä½œï¼ŒæœåŠ¡ç«¯åŒæ—¶ç»™ç”¨æˆ·å‘æ”¾ä¼˜æƒ åˆ¸ï¼Œåœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­å¿…é¡»ä¿è¯é€šè¿‡å…ç™»å½•è¿›å…¥ååŒæ­¥è°ƒç”¨ç™»å½• å‘åˆ¸ è·å–å•†å“è¯¦æƒ…æ¥å£é¡ºåºã€‚ â€‹ åœºæ™¯å°±æ˜¯è¿™ä¹ˆç®€å•ï¼Œä¼¼ä¹å¹¶ä¸æ˜¯å¤ªéš¾çš„é—®é¢˜ï¼Œäºæ˜¯æˆ‘ä»¬å°†æˆ‘æ–¹çš„å•†å“è¯¦æƒ…URLç»™å¯¹æ–¹ï¼Œå¯¹æ–¹åœ¨URLåé¢æ‹¼æ¥tokenï¼Œwebç«¯æ‹¿åˆ°tokenä¹‹åå°†tokenç»™åå°ï¼Œå®Œæˆç™»å½• å‘åˆ¸ è·å–è¯¦æƒ…é€»è¾‘ï¼Œæµç¨‹å›¾å¦‚ä¸‹ â€‹ æŒ‰ç…§æˆ‘ä»¬ä¸Šé¢çš„æ€è·¯ä¼¼ä¹æ²¡å•¥é—®é¢˜ï¼Œæ— éå°±æ˜¯ç”¨Promiseæ§åˆ¶ä»£ç é¡ºåºï¼Œä½†æ˜¯åœ¨é€»è¾‘è¾¾åˆ°ä¸€å®šå¤æ‚ç¨‹åº¦åï¼Œè¿™ä¸ªé—®é¢˜å°±ä¼šå˜çš„éå¸¸æ£˜æ‰‹ã€‚ é—®é¢˜ï¼šéä¸šåŠ¡é€»è¾‘ä¸ä¸šåŠ¡é€»è¾‘çš„è€¦åˆâ€‹ æœ¬è´¨ä¸Šæ¥è¯´ï¼Œä»ç¬¬ä¸‰æ–¹å¹³å°å…ç™»é™†åˆ°æˆ‘ä»¬å•†åŸä¸­ï¼Œå¹¶ä¸å±äºè´­ä¹°å•†å“é€»è¾‘ï¼Œé‚£å°±ä¸åº”è¯¥å°†å…¶é€»è¾‘å†™åœ¨å•†å“è¯¦æƒ…é¡µä¸­ â€‹ å†µä¸”è¿™å¿…é¡»åŒæ­¥ï¼Œç”¨æˆ·æ²¡æœ‰å®Œæˆæˆ‘ä»¬è¿™è¾¹çš„ç™»å½•é€»è¾‘ä¹‹å‰ï¼Œæˆ‘ä»¬ä¸èƒ½å‘èµ·å•†å“è¯¦æƒ…æ¥å£ï¼Œå› ä¸ºæˆ‘ä»¬çš„å•†å“è¯¦æƒ…æ•°æ®åŒ…æ‹¬ç”¨æˆ·æœ€æ–°çš„ä¼˜æƒ åˆ¸ä¿¡æ¯ï¼Œå¦‚æœå¼‚æ­¥ï¼Œå°±ä¼šå‡ºç°ç”¨æˆ·ç¬¬ä¸€æ¬¡è¿›å…¥æ˜¯æ²¡æœ‰åˆ¸çš„æƒ…å†µï¼›è¿™æ ·çš„è§„åˆ™å°±å¯¼è‡´æˆ‘ä»¬éœ€è¦å¯¹å•†å“è¯¦æƒ…é¡µé¢çš„ä¸šåŠ¡é€»è¾‘è¿›è¡Œæ”¹åŠ¨ã€‚ â€‹ åœ¨è¿™æ ·çš„ä¸å®‰ä¸­ï¼Œæˆ‘ä»¬ä¿®æ”¹äº†å•†å“è¯¦æƒ…é¡µé¢çš„ç”Ÿå‘½å‘¨æœŸé€»è¾‘ï¼Œä¸€æ—¦æ£€æµ‹åˆ°éœ€è¦å…ç™»å½•å°±ä¼šå…ˆæ‰§è¡Œç™»å½•å†æ‰§è¡Œå•†å“è¯¦æƒ…çš„è·å–ã€‚ â€‹ åç»­åˆå¤šæ¬¡å‡ºç°äº†å…¶ä»–å¹³å°å…ç™»å½•åˆ°å•†å“è¯¦æƒ…é¡µé¢ï¼Œå¹¶ä¸”æµç¨‹éƒ½ä¸å¤ªä¸€æ ·ï¼Œæœ€ç»ˆå¯¼è‡´äº†æˆ‘ä»¬çš„å•†å“è¯¦æƒ…é¡µç”Ÿå‘½å‘¨æœŸä»£ç å‡Œä¹±ä¸å ªï¼Œå¼‚æ­¥æµç¨‹éš¾ä»¥ç»´æŠ¤ï¼Œç”šè‡³ä¼šå‡ºç°é€»è¾‘ç›¸äº’å†²çªçš„æƒ…å†µã€‚ é—®é¢˜2ï¼šå°è£…é—®é¢˜â€‹ æœ€åæˆ‘ä»¬å•†åŸå¯¹æ¥çš„å…ç™»å½•è¶Šæ¥è¶Šå¤šï¼Œæ…¢æ…¢çš„æˆ‘ä»¬ä¾¿åœ¨é€»è¾‘å±‚é¢è¿›è¡Œäº†å°è£…ï¼Œä½†æ˜¯ä¾æ—§è¿˜æ˜¯è¦åŠ¨å…·ä½“é¡µé¢ç”Ÿå‘½å‘¨æœŸä»£ç ï¼Œè€Œæœ‰äº›é¡µé¢æ¯”å¦‚é¦–é¡µå°±å­˜åœ¨å¾ˆå¤šç¬¬ä¸‰æ–¹å¹³å°ç™»å½•è¿›æ¥çš„ï¼Œåœ¨ç”Ÿå‘½å‘¨æœŸä»£ç ä¸­å°±å‡ºç°å¤§é‡çš„æ¥æºåˆ¤æ–­ç”¨æ¥è°ƒç”¨æˆ‘ä»¬å°è£…å¥½çš„å…ç™»å½•é€»è¾‘ï¼Œå¹¶ä¸”æœ‰äº›ç¬¬ä¸‰æ–¹è¿˜æ˜¯å…·å¤‡æ—¶æ•ˆæ€§çš„ï¼Œè™½ç„¶æˆ‘ä»¬åœ¨æŠ€æœ¯å±‚é¢å·²ç»å°½åŠ›ï¼Œä½†æ˜¯å¼€å‘èµ·æ¥ä¾æ—§å¾ˆåˆ«æ‰­ï¼Œå°¤å…¶æ˜¯å¯¹äºé¢‘ç¹éœ€è¦ç»´æŠ¤çš„æ¨¡å—ã€‚ è§£å†³æ–¹æ¡ˆâ€‹ å†åé¢é‡åˆ°è¿™æ ·ä¸€ä»¶äº‹æƒ…ï¼Œå­˜åœ¨ä¸€ä¸ªç¬¬ä¸‰æ–¹å•†åŸå…ç™»å½•åˆ°æˆ‘ä»¬çš„ä»»æ„é¡µé¢ï¼Œå¬åˆ°éœ€æ±‚çš„æ—¶å€™ï¼Œæˆ‘å†…å¿ƒæœ‰ç‚¹å‡Œä¹±ï¼Œå› ä¸ºæˆ‘ä»¬ç›®å‰å…ç™»å½•é€»è¾‘éƒ½æ˜¯ä¸€å¯¹ä¸€çš„é’ˆå¯¹å•ä¸ªé¡µé¢ â€‹ æœ€å¼€å§‹æˆ‘ä»¬èŠäº†èƒ½å¦åœ¨nginxä¸­è¿›è¡Œç»Ÿä¸€æ‹¦æˆªï¼Œåé¢è§‰å¾—æ€§èƒ½å¾ˆå·®ï¼Œä¹Ÿæœ‰ç§èµ°è¿›æ­»èƒ¡åŒçš„æ„Ÿè§‰ï¼Œåå°åç«¯åŒäº‹æå‡ºä¸€ä¸ªæ–¹æ¡ˆï¼Œè¿™æ˜¯ä¸€ä¸ªæŠ€æœ¯ä¸Šå¾®ä¸è¶³é“ï¼Œä½†æ˜¯å´éå¸¸å¥½çš„è§£å†³è¿™ä¸ªé—®é¢˜çš„æ–¹æ¡ˆã€‚ â€‹ æˆ‘ä»¬å°†å…ç™»å½•çš„å°è£…ç»´åº¦ä»å•ä¸ªé€»è¾‘çš„è§’åº¦ï¼Œæå‡ä¸ºåœ¨å¯¹æ–¹è·³è½¬åˆ°æˆ‘ä»¬ç›®æ ‡é¡µé¢ä¸­é—´çš„ä¸€å±‚æ‹¦æˆª ä¸¾ä¸ªä¾‹å­ â€‹ åŸæœ¬ www.abc.com/goods/index?token=xxxxxï¼Œæˆ‘ä»¬åœ¨å…·ä½“é¡µé¢ä¸­å¤„ç† â€‹ æœ€æ–° www.abc.com/autoLogin?sc=xxx&amp;redirectUrl=www.abc.com/goods/index&amp;token=xxxxx å¦‚æœredirectUrlå­˜åœ¨å‚æ•°ä¸€å®šè¦å°†è¯¥å‚æ•°encodeURIComponentå¤„ç†ä»¥ä¸‹ï¼Œä»¥å…å‚æ•°è§£æå¼‚å¸¸ è¿™æ ·åšæœ‰ä¸‰ä¸ªä¼˜ç‚¹ä¹Ÿæœ‰ä¸€ä¸ªç¼ºç‚¹ ä¼˜ç‚¹ä¸€ï¼šéä¸šåŠ¡é€»è¾‘ä¸ä¸šåŠ¡é€»è¾‘çš„è€¦åˆçš„é—®é¢˜ï¼Œå°†å…ç™»å½•ä»£ç ä¸ä¸šåŠ¡ä»£ç å®Œç¾çš„éš”ç¦»å¼€äº†ï¼Œä¸è®ºæœ‰å¤šå°‘ï¼Œå¤šä¸ªæ€§åŒ–çš„å…ç™»å½•åœºæ™¯ï¼Œéƒ½ä¸ä¼šå½±å“è¢«è·³è½¬é¡µé¢çš„é€»è¾‘ ä¼˜ç‚¹äºŒï¼šä¸å†éœ€è¦é€»è¾‘å°è£…ï¼Œç›´æ¥å°†ä¸æœåŠ¡ç«¯äº¤äº’çš„ä»£ç å†™åœ¨è¯¥é¡µé¢å³å¯ï¼Œå› ä¸ºä»–å·²ç»ä¸ä¸šåŠ¡é€»è¾‘è§£è€¦åˆäº† ä¼˜ç‚¹ä¸‰ï¼šå¯ä»¥å½¢æˆå¯¹æ¥è§„èŒƒï¼Œé™ä½å¼€å‘å¯¹æ¥é—¨æ§›ï¼Œä»¥åŠå‡ºç°é—®é¢˜çš„å¯èƒ½æ€§ã€‚ ç¼ºç‚¹ä¸€ï¼šå¯¹äºç”¨æˆ·æ¥è¯´éœ€è¦å¤šè·³è½¬ä¸€å±‚é¡µé¢ï¼Œæœ‰å¯èƒ½éœ€è¦å¤šç­‰å¾…20-100msã€‚è¿™ä¸€ç‚¹å°±è¦çœ‹å–èˆäº†ï¼Œæˆ‘ä»¬æ˜¯å•é¡µåº”ç”¨ï¼Œç«™å†…è·³è½¬å¾ˆå¿«ï¼Œä»çº¿ä¸Šæ•ˆæœæ¥çœ‹å¯¹ç”¨æˆ·å½±å“å¾ˆå°ï¼Œå‡ ä¹å¿½ç•¥ä¸è®¡ã€‚ æ€»ç»“â€‹ å›å¤´çœ‹ä¼˜åŒ–åçš„å®ç°æ–¹æ¡ˆï¼Œå…¶å®æŠ€æœ¯éš¾åº¦éå°ï¼Œå¦‚æœæŠŠéœ€æ±‚è¯´æ˜ç™½äº†ï¼Œè¿™æ˜¯ä¸€ä¸ªå¤§å­¦ç”Ÿéƒ½èƒ½å†™å¥½çš„éœ€æ±‚ï¼Œè¿™æ ·ä¸€ä¸ªæ¯«æ— æŠ€æœ¯éš¾åº¦çš„æ–¹æ¡ˆï¼Œåœ¨é¡¹ç›®ä¸­å´å®Œæˆè®©äººéå¸¸å¤´ç–¼çš„éƒ¨åˆ†éä¸šåŠ¡é€»è¾‘ä¸ä¸šåŠ¡é€»è¾‘çš„è§£è€¦åˆã€‚ â€‹ è™½ç„¶ä½œä¸ºä¸€åå¼€å‘äººå‘˜ï¼Œæˆ‘ä»¬çš„æœ¬è´¨å·¥ä½œå°±æ˜¯å®ç°éœ€æ±‚ï¼Œä½†æ˜¯å®ç°éœ€æ±‚å¹¶ä¸ä»£è¡¨åˆ«äººæ€ä¹ˆè¯´ä½ å°±æ€ä¹ˆåšï¼Œè€Œæ˜¯æ ¹æ®éœ€æ±‚åŠ ä»¥è‡ªå·±çš„æ€è€ƒï¼Œåœ¨éå¼€å‘è§’åº¦æä¾›è‡ªå·±å®è´µçš„å»ºè®®ï¼Œä¹Ÿè®¸ï¼Œæ¢ä¸€ç§æ€è·¯ï¼Œä¸€ä¸ªéå¸¸å¤æ‚çš„éœ€æ±‚å°±ä¼šå˜å¾—å¦‚æ­¤ç®€å•ã€‚ â€‹ ç°åœ¨è®©æˆ‘ä»¬å›åˆ°æ–‡ç« å¼€å¤´çš„é‚£å¥è¯ï¼Œå¬ç”¨æˆ·è¯´ï¼Œä½†æ˜¯ä¸è¦ç…§ç€åšï¼Œæ˜¯ä¸æ˜¯æœ‰ç‚¹æ„Ÿæ‚Ÿäº†ã€‚","categories":[{"name":"æ—¥å¸¸å¼€å‘","slug":"æ—¥å¸¸å¼€å‘","permalink":"https://vkcyan.github.io/categories/%E6%97%A5%E5%B8%B8%E5%BC%80%E5%8F%91/"}],"tags":[{"name":"å…³äºCç«¯","slug":"å…³äºCç«¯","permalink":"https://vkcyan.github.io/tags/%E5%85%B3%E4%BA%8EC%E7%AB%AF/"}]},{"title":"ä¸Šç˜¾æ¨¡å‹å¦‚ä½•åº”ç”¨åˆ°äº§å“","slug":"NPDPäº§å“ç»ç†/ä¸Šç˜¾æ¨¡å‹å¦‚ä½•åº”ç”¨åˆ°äº§å“","date":"2022-05-22T16:00:00.000Z","updated":"2022-12-11T13:51:24.077Z","comments":true,"path":"2022/05/23/NPDPäº§å“ç»ç†/ä¸Šç˜¾æ¨¡å‹å¦‚ä½•åº”ç”¨åˆ°äº§å“/","link":"","permalink":"https://vkcyan.github.io/2022/05/23/NPDP%E4%BA%A7%E5%93%81%E7%BB%8F%E7%90%86/%E4%B8%8A%E7%98%BE%E6%A8%A1%E5%9E%8B%E5%A6%82%E4%BD%95%E5%BA%94%E7%94%A8%E5%88%B0%E4%BA%A7%E5%93%81/","excerpt":"","text":"å‰è¨€â€‹ ä¸ºä»€ä¹ˆæœ‰äº›äº§å“æœ‰æŠ“ä½æˆ‘ä»¬çš„æ³¨æ„åŠ›ï¼Œè€Œå…¶ä»–äº§å“å´ä¸èƒ½ï¼Ÿæ˜¯ä»€ä¹ˆè®©æˆ‘ä»¬å‡ºäºä¹ æƒ¯è€Œå»ºç«‹ä¸äº§å“çš„è”ç³»ï¼Ÿæ˜¯å¦æœ‰ä¸€ç§æ½œåœ¨æ¨¡å¼èƒ½å¤Ÿé€šè¿‡æŠ€æœ¯å°†ç”¨æˆ·ç´§ç´§å¸å¼•ï¼Œæ¬²ç½¢ä¸èƒ½ã€‚ â€‹ è¿™æ˜¯ã€Šä¸Šç˜¾ã€‹çš„å¼•è¨€ï¼Œæˆ‘ç›¸ä¿¡çœ‹åˆ°ä¸Šé¢è¿™äº›è¯çš„æ—¶å€™ï¼Œä½ çš„è„‘æµ·ä¸­ä¸€å®šå‡ºç°äº†è®©ä½ ä¸Šç˜¾çš„äº§å“ï¼Œæ¯”å¦‚æŠ–éŸ³ï¼Œè¿™æ ·ç°è±¡çº§çš„äº§å“æ˜¯å¦‚ä½•è¢«è®¾è®¡å‡ºæ¥çš„å‘¢ï¼Ÿã€Šä¸Šç˜¾ã€‹é€šè¿‡å¤§é‡å®éªŒæ¡ˆä¾‹ï¼Œç¤¾ä¼šè°ƒç ”ï¼Œæ€»ç»“å¹¶æŠ½è±¡äº†ç”¨æˆ·ä¸Šç˜¾çš„äº§å“è®¾è®¡åŸåˆ™ã€‚æœ€åæç‚¼å‡ºä¸€ä¸ªé€šç”¨æ¨¡å‹ï¼ŒæŒæ¡è¿™æ ·çš„é€šç”¨æ¨¡å‹ï¼Œä½ å°±ä¼šå¾—åˆ°ä¸€ä¸ªäº§å“è®¾è®¡æ¡†æ¶ã€‚ å½“ä½ ä»0åˆ°1è®¾è®¡äº§å“çš„æ—¶å€™ï¼Œæˆ–è€…åˆ†æå¸‚é¢ä¸Šçš„äº§å“ï¼Œä½ å°±å¯ä»¥å°†ä¸Šç˜¾æ¨¡å‹åº”ç”¨åˆ°ä½ çš„äº§å“ã€‚ ä¸Šç˜¾æ¨¡å‹æ˜¯ä»€ä¹ˆè§¦å‘ è¡ŒåŠ¨ å¤šå˜çš„å¥–åŠ± æŠ•å…¥ è§¦å‘ å†…éƒ¨è§¦å‘â€‹ å†…éƒ¨è§¦å‘æ˜¯ç”¨æˆ·ä¸äº§å“å»ºç«‹çš„æ„Ÿæƒ…é“¾æ¥ï¼Œä¸éœ€è¦è¢«æ‰“å¹¿å‘Šï¼Œä¸éœ€è¦è¢«é€šçŸ¥ï¼Œæˆ‘ä¸»åŠ¨å»ä½¿ç”¨ï¼Œå°±å¥½åƒçŸ­è§†é¢‘APPï¼Œæ²¡æœ‰ç»™æˆ‘é’±ï¼Œä¹Ÿæ²¡æœ‰è¢«æ¨å¹¿ï¼Œä½†æ˜¯æˆ‘ä»¬æ¯å¤©éƒ½é«˜é¢‘ä½¿ç”¨ï¼Œå†…éƒ¨è§¦å‘æ˜¯ç»™äºˆç”¨æˆ·æƒ…æ„Ÿçš„æ»¡è¶³ï¼Œè®©äº§å“èå…¥åˆ°äº†ç”Ÿæ´»ï¼Œæ˜¯ç”¨æˆ·å†…å¿ƒçœŸå®æƒ…æ„Ÿçš„è§¦å‘ï¼Œè·å¾—å¿«ä¹ã€è®¤åŒä¸å®‰æ…°ï¼Œå…·ä½“ç±»å‹ä¼šåœ¨è¡ŒåŠ¨ä¸­è¯´æ˜ ä¸‹ç­åæ— èŠï¼Œæ‰“å¼€çŸ­è§†é¢‘APP è‡ªæ‹å‡ å¼ ç…§ç‰‡ï¼Œå‘å¸ƒåˆ°ç¤¾äº¤å¹³å° â€‹ è¿™å°±æ˜¯å‘ç”Ÿåœ¨æˆ‘ä»¬èº«è¾¹çš„æ—¥å¸¸ï¼Œæˆ‘ä»¬é€‰æ‹©æŸä¸ªäº§å“æ˜¯å› ä¸ºå®ƒèƒ½å¤Ÿä¸ºæˆ‘ä»¬å¸¦æ¥å¿«ä¹æˆ–è€…è§£å†³çƒ¦æ¼ï¼Œè¿™å°±æ˜¯ä¸ºä»€ä¹ˆè¯´è¦æ´å¯Ÿç”¨æˆ·çš„ç”¨æˆ·éœ€æ±‚ï¼Œè€Œå†…éƒ¨è§¦å‘å°±æ˜¯ç ”ç©¶ç”¨æˆ·éœ€æ±‚ï¼Œè€Œä¸”æ˜¯æœ€æ·±å¤„çš„æƒ…æ„Ÿéœ€æ±‚ â€‹ æ‰€ä»¥å¸¸è¯´åšäº§å“æ˜¯å‘ç°ç”¨æˆ·éœ€æ±‚ï¼Œè¦å»æ€è€ƒï¼Œæˆ‘ä»¬çš„äº§å“èƒ½å¤Ÿä¸ºç”¨æˆ·è§£å†³ä»€ä¹ˆé—®é¢˜ï¼Œè¿™è‡ªç„¶æ˜¯éœ€è¦æ·±å…¥äº†è§£ç”¨æˆ·çš„ç—›è‹¦ä¸æŒ£æ‰ï¼Œç„¶åè®¾è®¡å‡ºç»™äºˆç”¨æˆ·å®‰æ…°çš„äº§å“ã€‚ å¤–éƒ¨è§¦å‘æŒ‡ç”¨æˆ·åœ¨éä¸»åŠ¨æƒ…å†µä¸‹æ¥æ”¶çš„ä¿¡æ¯ï¼Œæœ‰æ¸…æ™°çš„åŠ¨ä½œæŒ‡ä»¤è¿›è¡Œè¡ŒåŠ¨å¬å”¤ ä»˜è´¹å‹è§¦å‘ï¼šç”µæ¢¯å¹¿å‘Š APPä¸­æ¨å¹¿ å›é¦ˆå‹è§¦å‘ï¼šæŸæŸè½¯ä»¶å› ä¸ºåšçš„å¥½ï¼Œè¢«APP Storeä¸Šäº†æ¨èä½ äººé™…å‹è§¦å‘ï¼šå°æ˜è§‰å¾—æŸä¸ªè½¯ä»¶ç‰¹åˆ«æœ‰æ„æ€ï¼Œæ¨èç»™å°çº¢ è‡ªä¸»å‹è§¦å‘ï¼šå°æ˜æ¯•ä¸šäº†éœ€è¦æ‰¾å·¥ä½œï¼Œä¸‹è½½äº†ä¸€ä¸ªBOOSç›´è˜ â€‹ ä¸€èˆ¬ä¼šé‡‡ç”¨ç®€å•é‡å¤æˆ–è€…â€œç»å…¸+åˆ›æ–°â€çš„æ–¹å¼æ¥å®Œæˆå¤–éƒ¨è§¦å‘ï¼Œæ•ˆæœæ›´åŠ å¥½ï¼Œä¾‹å¦‚èœœé›ªå†°åŸ è¿˜æœ‰å¾ˆå¤šè€æ­Œ+æ–°è¯çš„ç”µæ¢¯å¹¿å‘Š è¡ŒåŠ¨ â€‹ ç”¨æˆ·å®Œæˆè§¦å‘åï¼Œå°±ä¼šæ¥åˆ°äº§å“ä¸­ï¼Œè®©ç”¨æˆ·å¼€å§‹ä½¿ç”¨äº§å“å°±æ˜¯è¡ŒåŠ¨ï¼Œè€Œé•¿æ—¶é—´é«˜é¢‘ç‡çš„è¡ŒåŠ¨æ‰èƒ½å…»æˆç”¨æˆ·ä¹ æƒ¯ ç”¨æˆ·è¡Œä¸ºæ¨¡å‹å…¬å¼ï¼šè¡ŒåŠ¨ &#x3D; åŠ¨æœº * èƒ½åŠ› *è§¦å‘ â€‹ å¦‚æœä¸€ä¸ªç”¨æˆ·æƒ³å®Œæˆä¸€ä¸ªè¡ŒåŠ¨ï¼Œè¿™ä¸‰è€…æ˜¯ç¼ºä¸€ä¸å¯çš„ã€‚ä¾‹å¦‚ï¼Œå‘¨æœ«ä½ æ‰“ç®—æ‰¾ä½ æœ‹å‹å¼€é»‘ç‹è€…è£è€€ï¼Œä½†æ˜¯æœ‹å‹çªç„¶æœ‰äº‹ï¼Œä½ æ”¾å¼ƒäº†å‘¨æœ«æ‰“ç‹è€… åŠ¨æœºï¼šæ¸´æœ›å¿«ä¹ èƒ½åŠ›ï¼šæœ‰æ‰‹æœº æœ‰ç½‘ç»œ æœ‰æ—¶é—´ è§¦å‘ï¼šå’Œæœ‹å‹ä¸€èµ·ç©åšç‹è€…è£è€€ ç„¶åå› ä¸ºæœ‹å‹çªç„¶æ”¾å¼ƒäº†ï¼Œç¼ºå°‘è§¦å‘æ¡ä»¶ï¼Œæ”¾å¼ƒ äº¦æˆ–è€…ç½‘ç»œå¤ªå·®ï¼Œç¼ºå°‘èƒ½åŠ›ï¼Œæ”¾å¼ƒ äº¦æˆ–è€…ç”±äºæŸç§çªå‘ç´§æ€¥äº‹ä»¶ï¼Œæ²¡å¿ƒæƒ…å»ä½“ä¼šæ¸¸æˆé‡Œé¢çš„å¿«ä¹ï¼Œç¼ºå°‘åŠ¨æœºï¼Œæ”¾å¼ƒ åŠ¨æœºèƒ½å¤Ÿé©±ä½¿ç”¨æˆ·é‡‡å–è¡ŒåŠ¨çš„æ ¸å¿ƒåŠ¨æœºæ— éå°±æ˜¯ä»¥ä¸‹ä¸‰ç§ - è¿½æ±‚å¿«ä¹ï¼Œé€ƒé¿ç—›è‹¦ - è¿½æ±‚å¸Œæœ›ï¼Œé€ƒé¿ææƒ§ - è¿½æ±‚è®¤åŒï¼Œé€ƒé¿æ’æ–¥ â€‹ è¡¥å……ï¼šç›¸å¯¹ä¸å¤±å»å¿«ä¹ï¼Œäººä»¬æ›´åŠ å®³æ€•ç—›è‹¦ï¼Œå°±åƒæ¡åˆ°100å—é’±ï¼Œä½ ä¼šå¾ˆå¿«ä¹ï¼Œä½†æ˜¯ä½ ä¸¢å¤±ä¸€ç™¾å—é’±ï¼Œä½ ä¼šéå¸¸ç—›è‹¦ï¼Œè¿™è¿œæ¯”æ¡åˆ°100å—æƒ…ç»ªæ›´åŠ æ¿€çƒˆï¼Œè¿™åœ¨äº§å“ä¸­å¸¸å¸¸è¡¨ç°ä¸ºåŒæ¶æŸå¤±å¿ƒç† èƒ½åŠ›èƒ½åŠ›æ˜¯è¡ŒåŠ¨çš„é—¨æ§›ï¼Œç¦æ ¼æ•™æˆæå‡ºå…­è¦ç´  - æ—¶é—´ï¼šå®Œæˆè¿™ä»¶äº‹æƒ…éœ€è¦çš„æ—¶é—´ - é‡‘é’±ï¼šä»äº‹è¿™ä»¶äº‹æƒ…éœ€è¦çš„ç»æµæŠ•å…¥ - ä½“åŠ›ï¼šå®Œæˆè¿™ä»¶äº‹æ‰€æ¶ˆè€—çš„ä½“åŠ› - è„‘åŠ›ï¼šå®Œæˆè¿™ä»¶äº‹æ‰€æ¶ˆè€—çš„è„‘åŠ› - ç¤¾ä¼šåå·®ï¼šä»–äººå¯¹è¿™é¡¹æ´»åŠ¨çš„æ¥å—åº¦ - éå¸¸è§„æ€§ï¼šè¯¥æ´»åŠ¨ä¸å¸¸è§„æ´»åŠ¨çš„åŒ¹é…ç¨‹åº¦æˆ–çŸ›ç›¾ç¨‹åº¦ â€‹ ä¸€ä¸ªè¡ŒåŠ¨éœ€è¦çš„èƒ½åŠ›è¶Šå°‘ï¼Œç”¨æˆ·å°±è¶Šè½»æ¾ä½¿ç”¨ä½ çš„äº§å“ï¼Œæ‰€ä»¥æˆ‘ä»¬åå¤å¼ºè°ƒé™ä½ç”¨æˆ·ä½¿ç”¨é—¨æ§›ï¼Œä»è€Œå‡å°‘å› ä¸ºèƒ½åŠ›é—®é¢˜è€Œé€ æˆçš„æµå¤± å¤šå˜çš„å¥–åŠ± â€‹ ç”¨æˆ·é€šè¿‡è§¦å‘è¿›å…¥äº§å“ï¼Œå¹¶åšå‡ºäº†è¡ŒåŠ¨ï¼Œä½†æ˜¯å¦‚æœç”¨æˆ·åœ¨ä½ çš„äº§å“ä¸­æ²¡æœ‰å¾—åˆ°ç‰©è´¨æˆ–è€…ç²¾ç¥çš„å¥–åŠ±ï¼Œç”¨æˆ·è‡ªç„¶ä¼šç¦»ä½ è€Œå» çŒç‰©å¥–åŠ±â€‹ çŒç‰©å¥–åŠ±å°±æ˜¯è·å–è‡ªå·±æƒ³è¦çš„èµ„æºï¼Œåˆ·æŠ–éŸ³ï¼Œå¯»æ‰¾å¸¦æ¥æ»¡è¶³çš„è§†é¢‘ï¼Œåˆ·çŸ¥ä¹ï¼Œå‘ç°è‡ªå·±æ„Ÿå…´è¶£çš„é—®é¢˜ä¸å›ç­”ï¼Œè¿™å°±åƒåŸå§‹äººç±»è¿½é€çŒç‰©ä¸€æ ·ï¼ŒæŠ“ä½ä»–ä¼šå……æ»¡è·å¾—æ„Ÿçš„ ç¤¾äº¤å¥–åŠ±â€‹ ç¤¾äº¤å¥–åŠ±å³ä¸ºè¢«è®¤åŒï¼Œè¢«èµç¾ï¼Œè¢«å°Šé‡ï¼Œäººç±»æ˜¯æƒ…æ„ŸåŠ¨ç‰©ï¼Œå¯¹ç¤¾äº¤å¥–åŠ±éå¸¸ä¸Šç˜¾ï¼Œä¼šé™¶é†‰åˆ°ç¤¾äº¤å¸¦æ¥çš„å¿«ä¹ä¸­ï¼Œè¿™æ˜¯åŠå…¶æœ‰æ•ˆçš„å¥–åŠ±æ–¹å¼ï¼Œæ‰€ä»¥ç¤¾äº¤ç±»äº§å“ç»ä¹…ä¸è¡°çš„åŸå› ï¼Œä»–çš„æœ¬è´¨æ˜¯è·å¾—ä¸€ç§ç¤¾ä¼šè®¤åŒ è‡ªæˆ‘å¥–åŠ±â€‹ è‡ªæˆ‘å¥–åŠ±ä¸»è¦ä¸ºä½¿ç”¨äº§å“æ—¶å€™çš„æˆå°±æ„Ÿï¼Œæ»¡è¶³æ„Ÿï¼Œæ§åˆ¶æ„Ÿã€‚æ¯”å¦‚ä½ å–œæ¬¢æ”¶é›†æ‰‹åŠï¼Œæ²¡äººè®©ä½ æ”¶é›†ï¼Œæ”¶é›†äº†ä¹Ÿæ²¡é’±ï¼Œä½†æ˜¯è®©è‡ªå·±å¿«ä¹äº†ï¼ŒåŒæ—¶æ‰¾åˆ°äº†å¿—åŒé“åˆçš„æœ‹å‹ï¼Œæˆ‘æŠŠæˆ‘çš„æ‰‹åŠå‘å¸ƒåˆ°ç¤¾åŒºï¼Œè¢«ç‚¹èµï¼Œè¢«è¯„è®ºè¿™å°±å¾ˆå¿«ä¹ï¼Œè¿˜æœ‰ä¾‹å¦‚èš‚èšæ£®æ—æµ‡æ°´ï¼Œè¿™éƒ½ä¼šå¸¦æ¥å†…å¿ƒçš„æ»¡è¶³ï¼Œä»è€Œå®ç°è‡ªæˆ‘ä»·å€¼ å¤šå˜æ€§â€‹ çµé•¿åŠ¨ç‰©å¤§éƒ½å–œæ¬¢æ–°å¥‡çš„ä¸œè¥¿ï¼Œä¸€ä»¶äº‹æƒ…ï¼Œå¦‚æœå·²ç»ç»å†è¿‡å¾ˆå¤šæ¬¡ï¼Œå†æ¬¡ç»å†å°†ä¼šå¤±å»å…´è¶£ï¼Œä½ çš„å¤§è„‘ä¸ä¼šè·å–å¿«ä¹ï¼Œå› ä¸ºä½ å·²ç»å¯ä»¥é¢„æ„Ÿåˆ°ä¸‹ä¸€æ­¥çš„è¡ŒåŠ¨ï¼Œé¢„æ„Ÿåˆ°ä½ å°†ä¼šå¾—åˆ°ä»€ä¹ˆï¼Œå¤§æ•°æ®ç²¾å‡†æ¨èã€åƒäººåƒé¢éƒ½æ˜¯ä¸ºäº†æ»¡è¶³ç”¨æˆ·å–œæ¬¢æ–°å¥‡çš„å¿ƒç† â€‹ å¦‚æœæŸä¸€æ¬¡åˆ·æ–°çŸ¥ä¹ï¼Œæ¨èçš„éƒ½æ˜¯ä½ çœ‹è¿‡çš„æˆ–è€…ä¸æ„Ÿå…´è¶£çš„é—®ç­”ï¼Œé‚£ä½ è‡ªç„¶ä¸ä¼šä¸Šç˜¾ï¼Œåä¹‹ï¼Œå¦‚æœä½ æ€»æ˜¯ç»™ç”¨æˆ·å¸¦æ¥æ–°å¥‡æ„Ÿï¼Œç”¨æˆ·å¿…å®šä¼šè¿›è¡Œæ›´å¤šçš„è¡ŒåŠ¨ï¼Œæ¥è·å–æ›´å¤šå¥–åŠ±ï¼Œæ‰€ä»¥å¤šå˜æ€§æ˜¯å¥–åŠ±çš„æ ¸å¿ƒæ¦‚å¿µ â€‹ æœ€åè¡¥å……ä¸€ç‚¹ï¼Œé™¤äº†è®©ç”¨æˆ·ç»å¸¸è·å¾—å¥–åŠ±ä¹‹å¤–ï¼Œè®©ç”¨æˆ·åœ¨ç¬¬ä¸€æ¬¡æ¥è§¦ä½ çš„ä¸œè¥¿å°±æœ‰ä¸€ä¸ªå¥½å°è±¡ä¹Ÿæ˜¯å…³é”®ç‚¹ï¼Œä¾‹å¦‚é¦–æ¬¡æ‰“å¼€å°çº¢ä¹¦ï¼ŒQQï¼Œä»–çš„ç™»å½•èƒŒæ™¯è§†é¢‘æ˜¯ç¾å¥½åˆ‡ä»¤äººå‘å¾€çš„ï¼Œè®©ä½ æ„Ÿå—åˆ°äº§å“å€¡å¯¼çš„ä»·å€¼ï¼Œå¦‚æœæ°å¥½è¿™ä¹Ÿæ˜¯ä½ å‘å¾€çš„ï¼Œè¿™ä¸ªäº§å“æ¯«æ— ç–‘é—®ä¼šå¸å¼•äº†ä½ çš„æ³¨æ„åŠ›ï¼Œä½ å°†ä¼šç»§ç»­ä½¿ç”¨ä»– æŠ•å…¥ â€‹ æƒ³è±¡ä¸€ä¸ªç®€å•çš„åœºæ™¯ï¼Œå°æ˜ç»è¿‡æœ‹å‹æ¨èä¸‹è½½äº†ç‹è€…è£è€€ï¼Œç©äº†1å¹´æ—¶é—´ï¼Œåœ¨æ¸¸æˆä¸­è¾¾åˆ°äº†ç‹è€…æ®µä½ï¼ŒæœŸé—´åœ¨ç‹è€…è£è€€ä¸­è´­ä¹°äº†å¤§é‡ä»˜è´¹çš®è‚¤ï¼ŒåŒæ—¶è®¤è¯†äº†æ¸¸æˆå¥½å‹ï¼›è¿™æ—¶å€™å‡ºæ¥äº†å¦ä¸€ä¸ªç«å“ï¼Œä¸æ¯”ç‹è€…è£è€€é€Šè‰² â€‹ ä½†æ˜¯è¯¥ç«å“æƒ³å¸å¼•å°æ˜ï¼Œéš¾åº¦æ˜¯æå¤§çš„ï¼Œå› ä¸ºå°æ˜å·²ç»åœ¨ç‹è€…è£è€€ä¸­æŠ•å…¥å¤ªå¤šï¼Œæ—¶é—´ï¼Œçš®è‚¤ï¼Œæ¸¸æˆå¥½å‹ï¼Œå¯¹å±€èµ„æ–™ï¼Œç»æ´»è‹±é›„ï¼Œè¿™éƒ½ä¼šè®©å°æ˜æ— æ³•è„±ç¦»ã€‚ â€‹ æŠ•å…¥æ˜¯ä¸Šç˜¾æ¨¡å‹é—­ç¯çš„æœ€åä¸€æ­¥ï¼Œå½“ç”¨æˆ·é€šè¿‡è§¦å‘ï¼Œé‡‡å–äº†è¡ŒåŠ¨ï¼Œå¹¶è·å¾—äº†å¥–åŠ±ï¼Œè¿™æ—¶å€™å¦‚æœèƒ½è®©ç”¨æˆ·è¿›ä¸€æ­¥è¿›è¡ŒæŠ•å…¥ï¼Œé‚£ä¹ˆè¿™ä¸ªäº§å“åœ¨ç”¨æˆ·å¿ƒä¸­çš„åœ°å€å°†ä¼šè¾¾åˆ°é¡¶å³° å†…å®¹â€‹ åœ¨å¾®ä¿¡ä¸Šæ·»åŠ å¥½å‹ï¼Œæ·»åŠ ç¾¤ï¼Œè¿™éƒ½æ˜¯å†…å®¹ï¼Œéšç€ä½¿ç”¨çš„æ—¶é—´è¶Šé•¿ï¼Œä½ å°±ä¼šè¶Šç¦»ä¸å¼€å¾®ä¿¡ï¼Œè®©ä½ æ¢æ‰å¾®ä¿¡ï¼Œé‚£çœŸçš„æ¯”ç™»å¤©è¿˜éš¾ æ•°æ®èµ„æ–™â€‹ ä»¥ä½œè€…ä¸ºä¾‹å­ï¼Œä½œä¸ºä¸€åå‰ç«¯å¼€å‘è€…ï¼Œæˆ‘çš„å¼€æºä»£ç éƒ½å­˜æ”¾åœ¨GitHubï¼Œéšç€æˆ‘å·¥ä½œå¹´é™è¶Šé•¿ï¼Œæˆ‘è¶Šèˆä¸å¾—ç¦»å¼€GitHubï¼Œæˆ‘çš„å¤§é‡èµ„æ–™éƒ½åœ¨githubä¸­ï¼Œå¯¹æˆ‘è€Œè¨€ï¼Œä»–æœ‰å¾ˆé«˜çš„ä»·å€¼ å…³æ³¨è€…â€‹ å°çº¢æ˜¯ä¸€ä½å¤§å‚äº§å“ç»ç†ï¼Œé€šè¿‡é•¿æœŸåœ¨çŸ¥ä¹å‘è¡¨é«˜è´¨é‡æ–‡ç« è·å¾—äº†20wå…³æ³¨ï¼Œéšç€äººæ•°çš„å˜å¤šï¼Œå°çº¢å°†ä¼šè¶Šæ¥è¶Šç¦»ä¸å¼€çŸ¥ä¹ï¼Œå¾®åšï¼Œå°çº¢ä¹¦ Bç«™ç¤¾åŒºéƒ½æ˜¯è¿™æ ·ï¼Œå…³æ³¨è€…å¯¹äºå½“äº‹äººæ¥è¯´æ˜¯ä¸å¯å¿½è§†çš„éšå½¢ä»·å€¼ ä¿¡èª‰â€‹ å°æ˜è§‰å¾—å’¸é±¼ä¸é”™ï¼Œç»å¸¸åœ¨å’¸é±¼ä¸Šå”®å–ä¸€äº›ä¸œè¥¿ï¼Œä½ å·²ç»å”®å–ä¸€äº›ä¸œè¥¿ï¼Œåœ¨æœªæ¥ä¼šè¶Šæ¥è¶Šå…³æ³¨ä½ çš„ä¿¡ç”¨æƒ…å†µï¼Œä½ å°±ä¼šèŠ±æ›´å¤šçš„ç»å†å»ç»è¥ä»– æŠ€èƒ½â€‹ ä»¥æˆ‘è‡ªå·±ä¸¾ä¾‹å­ï¼Œå­¦ä¹ ç¼–ç¨‹çš„æ—¶å€™ï¼Œä½¿ç”¨çš„æ˜¯vscodeï¼ˆç¼–ç¨‹å¼€å‘è½¯ä»¶ï¼‰ï¼Œè‡³ä»Šæˆ‘å·²ç»ä½¿ç”¨äº†5å¹´ï¼Œå·²ç»å¯¹ä»–äº§ç”Ÿäº†ä¾èµ–ï¼Œé€šè¿‡ä»–å­¦ä¼šäº†ç¼–è¾‘æŠ€èƒ½ï¼ŒæŠ•å…¥äº†å¾ˆå¤§çš„æ—¶é—´æˆæœ¬ï¼Œå­¦ä¹ æˆæœ¬ï¼Œå°½ç®¡ç«å“æŸäº›ç»†èŠ‚æ›´å¥½ï¼Œä½†è€…ä¾æ—§å¾ˆéš¾è®©æˆ‘è¡ŒåŠ¨èµ·æ¥å»æ¢æ‰vscode æ€»ç»“â€‹ è‡³æ­¤æˆ‘ä»¬èµ°å®Œäº†ä¸Šç˜¾æ¨¡å‹ï¼Œæˆ‘ä»¬å›é¡¾ä¸€ä¸‹ï¼Œé¦–å…ˆé€šè¿‡å¤–éƒ¨æˆ–è€…å†…éƒ¨è§¦å‘æ¥è®©ç”¨æˆ·è¿›å…¥è¡ŒåŠ¨é˜¶æ®µï¼Œåœ¨è¡ŒåŠ¨ä¸­ç»™äºˆç”¨æˆ·å¤šå˜çš„å¥–åŠ±ï¼Œæœ€åè®©ç”¨æˆ·ä¸æ–­æŠ•å…¥ï¼Œæ—¶é—´ï¼Œé‡‘é’±ï¼Œå†…å®¹ï¼Œæˆ–è€…èµ„æ–™ï¼Œä¹Ÿå¯ä»¥ä¸ºç”¨æˆ·åˆ°æ¥ä»·å€¼ ä¿¡èª‰ å…³æ³¨è¿™ï¼Œç»è¿‡è¿™æ ·çš„é—­ç¯åï¼Œç”¨æˆ·å°†ä¼šè¶Šæ¥è¶Šä¾èµ–ä½ çš„äº§å“ â€‹ ä¼¼ä¹è¿™ä¸ªæ¨¡å‹å¾ˆæ£’ï¼Œæ˜¯ä¸€ä¸ªå€¼å¾—æ€è€ƒçš„æ–¹æ³•è®ºï¼Œä½†æ˜¯ä¸€ä¸ªæœ‰ä»·å€¼çš„äº§å“æ˜¯ä¸€åˆ‡çš„å‰æï¼Œå¦‚æœäº§å“æ²¡æœ‰æŒ åˆ°ç”¨æˆ·ç—’ç‚¹ï¼Œæˆ–è€…æœ¬èº«å°±æ˜¯ä¼ªéœ€æ±‚ï¼Œé‚£ä¸Šç˜¾æ¨¡å‹ä¹Ÿæ— æµäºäº‹ï¼Œä»–ä¸æ˜¯æ•‘å‘½ç¨»è‰ï¼Œè€Œæ˜¯é”¦ä¸Šæ·»èŠ±ï¼Œè®©ä½ çš„äº§å“å˜çš„æ›´åŠ å¥½ã€‚ â€‹ å±å¹•å‰çš„ä½ æ­¤æ—¶æ­¤åˆ»æ˜¯å¦è„‘æµ·ä¸­å·²ç»æƒ³åˆ°äº†å¾ˆå¤šï¼Œæˆ–è€…æ˜¯å¯¹äº§å“çš„ç†è§£ï¼Œæˆ–è€…æ˜¯å¯¹ä½ æ­£åœ¨è¿›è¡Œä¸­çš„é¡¹ç›®äº§ç”Ÿäº†æ–°çš„æƒ³æ³•ï¼›åç»­å†…å®¹æä¾›äº†åŸºäºä¸Šç˜¾æ¨¡å‹çš„äº§å“è®¾è®¡æ¨¡æ¿ï¼Œé€šè¿‡è¿™æ ·çš„æ¨¡æ¿å¯ä»¥åˆ†æåˆ«äººçš„é¡¹ç›®ï¼Œä¹Ÿå¯ä»¥æ„å»ºä½ å‡†å¤‡å¼€å‘æˆ–è€…æ­£åœ¨è¿›è¡Œä¸­çš„é¡¹ç›® å°†ä¸Šç˜¾æ¨¡å‹åº”ç”¨åˆ°äº§å“ä¸­ä»¥å†…éƒ¨è§¦å‘ä¸ºèµ·ç‚¹â€‹ å¦‚æœä¸€æ¬¾äº§å“æ— æ³•è®©ç”¨æˆ·å†…éƒ¨è§¦å‘ï¼Œè¿™å°±æ„å‘³ç€ç”¨æˆ·æ„ŸçŸ¥ä¸åˆ°å…¶ä»·å€¼ï¼Œäº§å“çš„æœ¬è´¨æ˜¯æ»¡è¶³å®¢æˆ·éœ€æ±‚ï¼Œå¸®åŠ©ç”¨æˆ·è§£å†³é—®é¢˜ï¼›åœ¨è¿™é˜¶æ®µæˆ‘ä»¬éœ€è¦ç ”ç©¶ã€å®šä½æˆ‘ä»¬çš„å®¢æˆ·ç¾¤ä½“ï¼Œæç‚¼ç‰¹æ€§ï¼Œæè¿°ç”¨æˆ·ç”»åƒï¼Œé€šè¿‡ä¸°ç”°5Whyæ³•ï¼Œæ·±å…¥äº†è§£ç”¨æˆ·çš„æ ¸å¿ƒè¯‰æ±‚ï¼Œä¿è¯å†…éƒ¨è§¦å‘çš„åˆç†æ€§ è®¾è®¡å¤šå˜çš„å¥–åŠ±â€‹ ä¸€æ¬¾äº§å“å¯ä»¥ä¸ºç”¨æˆ·å¸¦æ¥ä»€ä¹ˆï¼Ÿè¿™æ˜¯æå…¶é‡è¦çš„é—®é¢˜ï¼Œæˆ‘ä»¬é€šè¿‡å†…éƒ¨è§¦å‘ç¡®å®šæˆ‘ä»¬çš„ç”¨æˆ·ç¾¤ä½“ï¼Œä¸‹ä¸€æ­¥å°±éœ€è¦æ€è€ƒç»™äºˆç”¨æˆ·ä»€ä¹ˆå¥–åŠ±ï¼ŒçŒç‰©å¥–åŠ±æ›´å¥½ï¼Œè¿˜æ˜¯ç¤¾äº¤å¥–åŠ±æ›´å¥½ï¼ŒåŒæ—¶è¦åœ¨å¥–åŠ±ç¯èŠ‚ä¸­è´¯å½»å¤šå˜æ€§åŸåˆ™ï¼Œè¿™é‡Œå†æ¬¡å¼ºè°ƒï¼šå¤šå˜æ€§æ˜¯å¥–åŠ±çš„å…³é”® æ³¨ï¼šå¦‚ä½•ç»™ç”¨æˆ·ç¬¬ä¸€æ¬¡è‰¯å¥½çš„ä½“éªŒï¼Œè®©ç”¨æˆ·æ„ŸçŸ¥åˆ°ä»·å€¼ï¼Œå¼•å¯¼å…¶å†…éƒ¨è§¦å‘ï¼Œè¿™ä¹Ÿæ˜¯å…³é”®çš„ä¸€ç¯ï¼Œå…¶ä¸­è¶Šæ˜¯ç”Ÿå‘½å‘¨æœŸçŸ­çš„äº§å“ï¼Œé¦–æ¬¡çš„å•Šå“ˆæ—¶åˆ»ï¼ˆä¸€ä¸ªç”¨æˆ·å¯¹äº§å“æ„ŸçŸ¥æœ€å¼ºçš„ç‚¹ï¼‰å¿…é¡»è¦è¶Šæ—©å‡ºç° ç”¨æˆ·å¯ä»¥æŠ•å…¥ä»€ä¹ˆâ€‹ ç”¨æˆ·å¯ä»¥åœ¨ä½ çš„äº§å“ä¸­ç”Ÿäº§ä»€ä¹ˆæ ·çš„å†…å®¹ï¼Œæ•°æ®èµ„æ–™ï¼Œè¿˜æ˜¯å…³æ³¨è€…ï¼Œæ‰¾å‡†ç±»å‹ï¼ŒåŒæ—¶è¦ç ”ç©¶ç”¨æˆ·å¿ƒç†ï¼Œæ‰¾åˆ°ç”¨æˆ·å¯èƒ½æƒ³æŠ•å…¥çš„å®é™…ï¼Œå†å¼•å¯¼ç”¨æˆ·å»å®Œæˆ åˆ©ç”¨å¤–éƒ¨è§¦å‘æ¨å¹¿â€‹ ä¸Šç˜¾æ¨¡å‹ä¸€æ—¦å½¢æˆï¼Œä¾¿éœ€è¦æºæºä¸æ–­çš„ç”¨æˆ·è¿›å…¥å…¶ä¸­ï¼Œè¿™é‡Œå¯ä»¥æ ¹æ®è‡ªèº«çš„äº§å“ç±»å‹æ¥é€‰æ‹©å¤–éƒ¨è§¦å‘æ–¹å¼ï¼Œä¾‹å¦‚è‡ªèº«æœ‰é’±ï¼Œå¯ä»¥ä»˜è´¹å®Œæˆè§¦å‘ï¼Œæˆ–è€…é€šè¿‡ç¤¾ç¾¤è¿›è¡Œäººé™…å‹è§¦å‘ï¼Œå…·ä½“è§¦å‘æ–¹å¼éœ€è¦æ ¹æ®äº§å“ç‰¹æ€§æ¥å†³å®š é‡å¤æµ‹è¯•è¿­ä»£ä¼˜åŒ–â€‹ å½“ç”¨æˆ·è¿›è¡Œä¸Šç˜¾æ¨¡å‹ï¼Œå¹¶äº§ç”Ÿä¾èµ–ä¹‹åï¼Œæˆ‘ä»¬å°±éœ€è¦ä¸æ–­æ£€æŸ¥æ¯ä¸ªç¯èŠ‚æ˜¯å¦ç¬¦åˆé¢„æœŸï¼Œæ˜¯å¦å­˜åœ¨çŸ­æ¿ï¼Œæ ¹æ®å®é™…æ•°æ®è¿›è¡Œæµ‹è¯•ï¼Œå¹¶è¿›è¡Œä¼˜åŒ–è¿­ä»£ï¼Œä¸æ–­å®Œå–„ä¸Šç˜¾æ¨¡å‹ å¯¹æŠ½å¥–åŠ©æ‰‹å°ç¨‹åºçš„ä¸Šç˜¾æ¨¡å‹åˆ†æ å‚è€ƒèµ„æ–™å‚è€ƒæ–‡ç« ï¼šhttp://www.woshipm.com/pd/5386132.html å‚è€ƒä¹¦ç±ï¼šä¸Šç˜¾ï¼šè®©ç”¨æˆ·å…»æˆä½¿ç”¨ä¹ æƒ¯çš„å››å¤§äº§å“é€»è¾‘ å°¼å°”Â·åŸƒäºšå°” ç‘å®‰Â·èƒ¡ä½›","categories":[{"name":"äº§å“ç»ç†","slug":"äº§å“ç»ç†","permalink":"https://vkcyan.github.io/categories/%E4%BA%A7%E5%93%81%E7%BB%8F%E7%90%86/"}],"tags":[{"name":"äº§å“æ—¥å¸¸","slug":"äº§å“æ—¥å¸¸","permalink":"https://vkcyan.github.io/tags/%E4%BA%A7%E5%93%81%E6%97%A5%E5%B8%B8/"}]},{"title":"Vue + webpacké¡¹ç›®çš„ç§»åŠ¨ç«¯é€‚é…","slug":"æŠ€æœ¯æ–‡ç« /vueé¡¹ç›®ä½¿ç”¨vwè¿›è¡Œç§»åŠ¨ç«¯é€‚é…","date":"2022-05-19T16:00:00.000Z","updated":"2022-12-11T13:51:24.087Z","comments":true,"path":"2022/05/20/æŠ€æœ¯æ–‡ç« /vueé¡¹ç›®ä½¿ç”¨vwè¿›è¡Œç§»åŠ¨ç«¯é€‚é…/","link":"","permalink":"https://vkcyan.github.io/2022/05/20/%E6%8A%80%E6%9C%AF%E6%96%87%E7%AB%A0/vue%E9%A1%B9%E7%9B%AE%E4%BD%BF%E7%94%A8vw%E8%BF%9B%E8%A1%8C%E7%A7%BB%E5%8A%A8%E7%AB%AF%E9%80%82%E9%85%8D/","excerpt":"","text":"2022-5-20æ›´æ–°æŠ€æœ¯æ ˆï¼švue3 + webpack5 å®‰è£…æ’ä»¶1npm i postcss-px-to-viewport -D å¢åŠ é…ç½®æ–°å»ºé…ç½®æ–‡ä»¶postcss.config.js 1234567891011121314151617181920212223module.exports = () =&gt; &#123; return &#123; plugins: &#123; autoprefixer: &#123;&#125;, &quot;postcss-px-to-viewport&quot;: &#123; unitToConvert: &quot;px&quot;, // éœ€è¦è½¬æ¢çš„å•ä½ï¼Œé»˜è®¤ä¸º&quot;px&quot; viewportWidth: 750, // è®¾è®¡ç¨¿çš„è§†å£å®½åº¦ unitPrecision: 5, // å•ä½è½¬æ¢åä¿ç•™çš„ç²¾åº¦ propList: [&quot;*&quot;], // èƒ½è½¬åŒ–ä¸ºvwçš„å±æ€§åˆ—è¡¨ viewportUnit: &quot;vw&quot;, // å¸Œæœ›ä½¿ç”¨çš„è§†å£å•ä½ fontViewportUnit: &quot;vw&quot;, // å­—ä½“ä½¿ç”¨çš„è§†å£å•ä½ selectorBlackList: [&quot;.ignore&quot;, &quot;.hairlines&quot;, &quot;.ig-&quot;], // éœ€è¦å¿½ç•¥çš„CSSé€‰æ‹©å™¨ minPixelValue: 1, // æœ€å°çš„è½¬æ¢æ•°å€¼ï¼Œå¦‚æœä¸º1çš„è¯ï¼Œåªæœ‰å¤§äº1çš„å€¼ä¼šè¢«è½¬æ¢ mediaQuery: false, // åª’ä½“æŸ¥è¯¢é‡Œçš„å•ä½æ˜¯å¦éœ€è¦è½¬æ¢å•ä½ replace: true, // æ˜¯å¦ç›´æ¥æ›´æ¢å±æ€§å€¼ï¼Œè€Œä¸æ·»åŠ å¤‡ç”¨å±æ€§ include: undefined, // å¦‚æœè®¾ç½®äº†includeï¼Œé‚£å°†åªæœ‰åŒ¹é…åˆ°çš„æ–‡ä»¶æ‰ä¼šè¢«è½¬æ¢ï¼Œä¾‹å¦‚åªè½¬æ¢ &#x27;src/mobile&#x27; ä¸‹çš„æ–‡ä»¶ (include: /\\/src\\/mobile\\//) landscape: false, // æ˜¯å¦æ·»åŠ æ ¹æ® landscapeWidth ç”Ÿæˆçš„åª’ä½“æŸ¥è¯¢æ¡ä»¶ @media (orientation: landscape) landscapeUnit: &quot;vw&quot;, // æ¨ªå±æ—¶ä½¿ç”¨çš„å•ä½ landscapeWidth: 568, // æ¨ªå±æ—¶ä½¿ç”¨çš„è§†å£å®½åº¦ &#125;, &#125;, &#125;;&#125;; endä»¥ä¸‹é…ç½®å·²ç»è¿‡æ—¶ï¼Œè¯·çœ‹æœ€æ–°å†…å®¹ éœ€è¦å®‰è£…ä¸€ä¸‹çš„æ’ä»¶ 1npm install postcss-aspect-ratio-mini postcss-px-to-viewport postcss-write-svg postcss-cssnext postcss-viewport-units cssnano cssnano-preset-advanced postcss-import postcss-url --S postcss.config.jsé…ç½® 123456789101112131415161718192021222324252627module.exports = &#123; plugins: &#123; &#x27;postcss-import&#x27;: &#123;&#125;, &#x27;postcss-url&#x27;: &#123;&#125;, &#x27;postcss-aspect-ratio-mini&#x27;: &#123;&#125;, &#x27;postcss-write-svg&#x27;: &#123; utf8: false &#125;, &#x27;postcss-cssnext&#x27;: &#123;&#125;, &#x27;postcss-px-to-viewport&#x27;: &#123; viewportWidth: 750, // è§†çª—çš„å®½åº¦ï¼Œå¯¹åº”çš„æ˜¯æˆ‘ä»¬è®¾è®¡ç¨¿çš„å®½åº¦ï¼Œä¸€èˆ¬æ˜¯750 viewportHeight: 1334, // è§†çª—çš„é«˜åº¦ï¼Œæ ¹æ®750è®¾å¤‡çš„å®½åº¦æ¥æŒ‡å®šï¼Œä¸€èˆ¬æŒ‡å®š1334ï¼Œä¹Ÿå¯ä»¥ä¸é…ç½® unitPrecision: 3, // æŒ‡å®š`px`è½¬æ¢ä¸ºè§†çª—å•ä½å€¼çš„å°æ•°ä½æ•°ï¼ˆå¾ˆå¤šæ—¶å€™æ— æ³•æ•´é™¤ï¼‰ viewportUnit: &#x27;vw&#x27;, // æŒ‡å®šéœ€è¦è½¬æ¢æˆçš„è§†çª—å•ä½ï¼Œå»ºè®®ä½¿ç”¨vw selectorBlackList: [&#x27;.ignore&#x27;, &#x27;.hairlines&#x27;], // æŒ‡å®šä¸è½¬æ¢ä¸ºè§†çª—å•ä½çš„ç±»ï¼Œå¯ä»¥è‡ªå®šä¹‰ï¼Œå¯ä»¥æ— é™æ·»åŠ ,å»ºè®®å®šä¹‰ä¸€è‡³ä¸¤ä¸ªé€šç”¨çš„ç±»å minPixelValue: 0, // å°äºæˆ–ç­‰äº`1px`ä¸è½¬æ¢ä¸ºè§†çª—å•ä½ï¼Œä½ ä¹Ÿå¯ä»¥è®¾ç½®ä¸ºä½ æƒ³è¦çš„å€¼ mediaQuery: false // å…è®¸åœ¨åª’ä½“æŸ¥è¯¢ä¸­è½¬æ¢`px` &#125;, &#x27;postcss-viewport-units&#x27;: &#123; filterRule: rule =&gt; rule.nodes.findIndex(i =&gt; i.prop === &#x27;content&#x27;) === -1 &#125;, cssnano: &#123; preset: &#x27;advanced&#x27;, autoprefixer: false, &#x27;postcss-zindex&#x27;: false &#125; &#125;&#125;; è¿™é‡Œæ³¨æ„å‡å¦‚ç”Ÿæˆçš„é¡¹ç›®é‡Œé¢æ²¡æœ‰.postcssrc.js è¯´æ˜å†™åœ¨package.jsoné‡Œé¢,è®°å¾—æŠŠpackageé‡Œé¢çš„éƒ¨åˆ†é…ç½®åˆ é™¤ 12345&quot;postcss&quot;: &#123; &quot;plugins&quot;: &#123; &quot;autoprefixer&quot;: &#123;&#125; &#125; &#125;, æœ€ååœ¨index.htmlé‡Œé¢è¿›è¡Œå¼•å…¥viewport-units-buggyfillè§£å†³å…¼å®¹é—®é¢˜ 123456&lt;script src=&quot;//g.alicdn.com/fdilab/lib3rd/viewport-units-buggyfill/0.6.2/??viewport-units-buggyfill.hacks.min.js,viewport-units-buggyfill.min.js&quot;&gt;&lt;/script&gt; &lt;script&gt; window.onload = function () &#123; window.viewportUnitsBuggyfill.init(&#123; hacks: window.viewportUnitsBuggyfillHacks &#125;); &#125; &lt;/script&gt; æ³¨æ„å¦‚æœé‡åˆ°å›¾ç‰‡æ— æ³•æ­£å¸¸æ˜¾ç¤º 1.imgå›¾ç‰‡ä¸æ˜¾ç¤ºï¼š å…¨å±€å¼•å…¥ 123img &#123; content: normal !important;&#125; 2.ä¸ç¬¬ä¸‰æ–¹UIåº“å…¼å®¹é—®é¢˜ï¼š ä½¿ç”¨postcss-px-to-viewport-optï¼Œç„¶åä½¿ç”¨excludeé…ç½®é¡¹ï¼Œå…·ä½“å‚è€ƒ Vue+tsä¸‹çš„ç§»åŠ¨ç«¯vwé€‚é…ï¼ˆç¬¬ä¸‰æ–¹åº“cssé—®é¢˜ï¼‰","categories":[{"name":"ç§»åŠ¨ç«¯","slug":"ç§»åŠ¨ç«¯","permalink":"https://vkcyan.github.io/categories/%E7%A7%BB%E5%8A%A8%E7%AB%AF/"}],"tags":[{"name":"vue3","slug":"vue3","permalink":"https://vkcyan.github.io/tags/vue3/"},{"name":"webpack5","slug":"webpack5","permalink":"https://vkcyan.github.io/tags/webpack5/"},{"name":"å“åº”å¼","slug":"å“åº”å¼","permalink":"https://vkcyan.github.io/tags/%E5%93%8D%E5%BA%94%E5%BC%8F/"},{"name":"vw","slug":"vw","permalink":"https://vkcyan.github.io/tags/vw/"}]},{"title":"NPDPäº§å“ç»ç†å›½é™…èµ„æ ¼è®¤è¯","slug":"NPDPäº§å“ç»ç†/NPDPäº§å“ç»ç†ä»‹ç»","date":"2022-03-17T16:00:00.000Z","updated":"2022-12-11T13:51:24.076Z","comments":true,"path":"2022/03/18/NPDPäº§å“ç»ç†/NPDPäº§å“ç»ç†ä»‹ç»/","link":"","permalink":"https://vkcyan.github.io/2022/03/18/NPDP%E4%BA%A7%E5%93%81%E7%BB%8F%E7%90%86/NPDP%E4%BA%A7%E5%93%81%E7%BB%8F%E7%90%86%E4%BB%8B%E7%BB%8D/","excerpt":"","text":"äº§å“ç»ç†ä¸é¡¹ç›®ç»ç†å¯¹æ¯” å†…å®¹ äº§å“ç»ç† é¡¹ç›®ç»ç† èŒè´£ å‘ç°å¹¶å®šä¹‰èŒƒå›´ æ‰§è¡Œå¹¶äº¤ä»˜èŒƒå›´ èŒƒå›´ å¯¹äº§å“æ•´ä¸ªç”Ÿå‘½å‘¨æœŸè´Ÿè´£ é˜¶æ®µæ€§å¯¹é¡¹ç›®è´Ÿè´£ è§’è‰² æ¯äº²ï¼Œå®šä¹‰ç›®æ ‡ï¼Œå‘å¸ƒè®¡åˆ’ï¼Œç„¶ååœ¨ç”Ÿå‘½å‘¨æœŸçš„å„ä¸ªé˜¶æ®µç»§ç»­åŸ¹è‚²äº§å“ åƒå®¶åº­æ•™å¸ˆï¼Œä¸€ç›´å¾…åœ¨äº§å“æ—è¾¹ï¼Œå¸®åŠ©äº§å“æˆé•¿ï¼Œè®©ä»–æœ€åæˆä¸ºäº§å“æ»¡æ„çš„æ ·å­ ä¸»é¢˜çŸ¥è¯†ç»„åˆç®¡ç† æ–°äº§å“å¼€å‘æˆ˜ç•¥ æ–°äº§å“æµç¨‹ äº§å“ç”Ÿå‘½å‘¨æœŸç®¡ç† æ–‡åŒ–ï¼Œç»„ç»‡ä¸å›¢é˜Ÿ å·¥å…·ä¸æ•ˆç»©åº¦é‡ å¸‚åœºç ”ç©¶ çŸ¥è¯†ç‚¹åˆ†å¸ƒæ–°äº§å“æµç¨‹ 20% æ–°äº§å“å¼€å‘ 20% ç»„åˆç®¡ç† 10% äº§å“ç”Ÿå‘½å‘¨æœŸç®¡ç† 10% å¸‚åœºç ”ç©¶ 10% å·¥å…·ä¸ç»©æ•ˆåº¦é‡ 20%","categories":[{"name":"äº§å“ç»ç†","slug":"äº§å“ç»ç†","permalink":"https://vkcyan.github.io/categories/%E4%BA%A7%E5%93%81%E7%BB%8F%E7%90%86/"}],"tags":[{"name":"NPDP","slug":"NPDP","permalink":"https://vkcyan.github.io/tags/NPDP/"}]},{"title":"å·¥å…·ä¸ç»©æ•ˆåº¦é‡","slug":"NPDPäº§å“ç»ç†/å·¥å…·ä¸ç»©æ•ˆåº¦é‡","date":"2022-03-17T16:00:00.000Z","updated":"2022-12-11T13:51:24.077Z","comments":true,"path":"2022/03/18/NPDPäº§å“ç»ç†/å·¥å…·ä¸ç»©æ•ˆåº¦é‡/","link":"","permalink":"https://vkcyan.github.io/2022/03/18/NPDP%E4%BA%A7%E5%93%81%E7%BB%8F%E7%90%86/%E5%B7%A5%E5%85%B7%E4%B8%8E%E7%BB%A9%E6%95%88%E5%BA%A6%E9%87%8F/","excerpt":"","text":"9ç§åˆ›æ„å·¥å…· åç§° å†…å®¹ SCAMPER ç‰¹åˆ«æ˜¯åœ¨ç”Ÿäº§æ”¹è¿›ç°æœ‰äº§å“ï¼Œäº§ç”Ÿæ–°çš„äº§å“çš„æƒ³æ³•ä¸Šå¾ˆæœ‰å¸®åŠ©ï¼ŒSCAMPERæ˜¯ä¸€äº›è¡Œä¸ºä¸œè¥¿çš„é¦–å­—æ¯ç¼©ç•¥è¯ã€‚åˆå«å¥”é©°æ³• å¥”å¥”æ³•Sï¼šæ›¿ä»£ Cï¼š åˆå¹¶ Aï¼šæ”¹é€  Mï¼šè°ƒæ•´ Pï¼šæ”¹å˜ç”¨é€” Eï¼šå»é™¤ Rï¼šé€†å‘æ“ä½œ å¤´è„‘é£æš´ åœ¨ç¾¤ä½“å†³ç­–ä¸­ï¼Œç”±äºç¾¤ä½“æˆå‘˜å¿ƒç†ç›¸äº’ä½œç”¨å½±å“ï¼Œæ˜“å±ˆäºæƒå¨æˆ–å¤§å¤šæ•°äººæ„è§ï¼Œå½¢æˆâ€œç¾¤ä½“æ€ç»´â€ã€‚ç¾¤ä½“æ€ç»´å‰Šå¼±äº† æ€ç»´å¯¼å›¾ åœ¨å„ç§ä¿¡æ¯æˆ–åˆ›æ„ä¹‹é—´å»ºç«‹æ€ç»´é“¾æ¥çš„å›¾å½¢åŒ–æŠ€æœ¯ã€‚é¦–å…ˆï¼Œè®²ä¸€ä¸ªå…³é”®å­—æˆ–è€…çŸ­è¯­å†™åœ¨ä¸€é¡µçº¸çš„ä¸­é—´ï¼Œç„¶åï¼Œä»è¿™ä¸€ä¸­å¿ƒç‚¹è§¦å‘ï¼Œå°†å…¶ä¸ä¸åŒæ–¹å‘çš„æ–°åˆ›æ„è¿æ¥ï¼Œä»è€Œå»ºç«‹èµ·ç½‘ç»œå¼æ€ç»´å…³ç³»","categories":[{"name":"äº§å“ç»ç†","slug":"äº§å“ç»ç†","permalink":"https://vkcyan.github.io/categories/%E4%BA%A7%E5%93%81%E7%BB%8F%E7%90%86/"}],"tags":[{"name":"NPDP","slug":"NPDP","permalink":"https://vkcyan.github.io/tags/NPDP/"}]},{"title":"æ–‡åŒ–ã€ç»„ç»‡ä¸å›¢é˜Ÿ","slug":"NPDPäº§å“ç»ç†/æ–‡åŒ–ã€ç»„ç»‡ä¸å›¢é˜Ÿ","date":"2022-03-17T16:00:00.000Z","updated":"2022-12-11T13:51:24.077Z","comments":true,"path":"2022/03/18/NPDPäº§å“ç»ç†/æ–‡åŒ–ã€ç»„ç»‡ä¸å›¢é˜Ÿ/","link":"","permalink":"https://vkcyan.github.io/2022/03/18/NPDP%E4%BA%A7%E5%93%81%E7%BB%8F%E7%90%86/%E6%96%87%E5%8C%96%E3%80%81%E7%BB%84%E7%BB%87%E4%B8%8E%E5%9B%A2%E9%98%9F/","excerpt":"","text":"æ–‡åŒ–å®šä¹‰â€‹ ç»„ç»‡ä¸­äººä»¬å…±åŒæ‹¥æœ‰æ¥å—çš„ä¿¡å¿µã€æ ¸å¿ƒä»·å€¼è§‚ã€è¡Œä¸ºå‡†åˆ™ã€æ€ç»´æ–¹å¼ã€å‡è®¾ä¸æœŸæœ› ç¤ºä¾‹ ååº”ç»„ç»‡çš„ä»·å€¼è§‚ï¼Œå½°æ˜¾ä¸ä¹ æƒ¯ã€ä»ªå¼ã€å…¸ç¤¼ã€æ•…äº‹ã€è‹±é›„æ¦œæ · æŒ‡å‡ºå¦‚ä½•å®Œæˆå·¥ä½œ è¡¨è¾¾ç”Ÿå­˜åŠ›ï¼Œå³ä¸ºäº†æ´»ä¸‹å»æˆ‘ä»¬åº”å½“åšäº›ä»€ä¹ˆ æ–‡åŒ–æ˜¯å¦æ­£ç¡®å–å†³äºç»„ç»‡æœ¬èº«â€‹ ä¸€ä¸ªç»„ç»‡ä¸­è¿ä½œè‰¯å¥½çš„æ–‡åŒ–å¯èƒ½å¯¹äºå¦ä¸€ä¸ªç»„ç»‡æ˜¯å®Œå…¨é”™è¯¯çš„ æˆåŠŸçš„åˆ›æ–°æ–‡åŒ–å…·å¤‡çš„å…±åŒç‰¹ç‚¹ æ¸…æ™°çš„æ–¹å‘å’Œç›®æ ‡ é¼“åŠ±å°è¯• ä¸ªäººç»©æ•ˆä¸ç»„ç»‡ç»©æ•ˆå¯†åˆ‡ç›¸å…³ å¥‘åˆåˆ›æ–°æ–‡åŒ–æ˜¯æ‹›è˜æ ‡å‡†ä¹‹ä¸€ é¼“åŠ±å†…éƒ¨å’Œå¤–éƒ¨çš„æœ‰æ•ˆæ²Ÿé€š é¼“åŠ±å»ºè®¾æ€§å†²çª è®©å·¥ä½œå°½å¯èƒ½æ„‰æ‚¦æœ‰å›æŠ¥ æ°›å›´å®šä¹‰â€‹ æ˜¯å‘˜å·¥å¯ç›´æ¥æˆ–è€…é—´æ¥æ„ŸçŸ¥åˆ°çš„å·¥ä½œç¯å¢ƒç‰¹ç‚¹çš„é›†åˆï¼Œå¯¹å‘˜å·¥çš„è¡Œä¸ºæœ‰é‡å¤§çš„å½±å“ ç¤ºä¾‹ é¢†å¯¼äººæ°´å¹³ã€æ²Ÿé€šã€è´£ä»»ã€ä¿¡ä»»ã€å…¬å¹³çš„è®¤å¯ä¸å›æŠ¥ã€æœºä¼šï¼Œå‘˜å·¥å‚ä¸ æ–°äº§å“å¼€å‘ä¸­çš„ç®¡ç†è€…è§’è‰²æˆ˜ç•¥çº¬åº¦ ç®¡ç†å†…å®¹ è§’è‰²ä¸èŒè´£åˆ†é… ä½¿å‘½æ„¿æ™¯ã€ä»·å€¼è§‚ æ•´ä½“çš„ä¼ä¸šæ„¿æ™¯ã€ä½¿å‘½ä»·å€¼è§‚æ˜¯ç”±å…¬å¸é«˜ç®¡ä»¥åŠå…³é”®èŒèƒ½éƒ¨é—¨çš„è´Ÿè´£äººä¸€èµ·æŒ‡å®šï¼Œåœ¨è‘£äº‹ä¼šå±‚é¢é€šè¿‡ ä¸šåŠ¡æˆ˜ç•¥ é€šå¸¸ç”±æŸä¸ªç‰¹å®šçš„ä¸šåŠ¡å•å…ƒçš„æ‰§è¡Œå›¢é˜ŸæŒ‡å®šï¼ˆæœ‰æ­§ä¹‰ï¼‰ èŒèƒ½æˆ˜ç•¥ èŒèƒ½éƒ¨é—¨è´Ÿè´£äººä»¥åŠé«˜ç®¡å›¢é˜Ÿå®šåˆ¶ äº§å“æˆ˜ç•¥ é«˜çº§äº§å“ç»ç†ï¼ˆé«˜çº§äº§å“å‰¯æ€»è£ï¼Œé¦–å¸­äº§å“å®˜ç­‰ï¼‰æŒ‡å®š åˆ›æ–°æˆ˜ç•¥ è·¨èŒèƒ½å›¢é˜Ÿçš„é«˜çº§ç»ç†å®šåˆ¶ï¼Œç”±ä¸€ä½è‘£äº‹ä¼šæˆå‘˜é¢†å¯¼ æµç¨‹çº¬åº¦ è§’è‰² ç®¡ç†å†…å®¹ æµç¨‹æ‹¥æŠ¤äººprocess champion è´Ÿè´£æ¨åŠ¨ç»„ç»‡å†…æ­£å¼å•†ä¸šæµç¨‹çš„æ—¥å¸¸å·¥ä½œï¼Œå¯¹æµç¨‹è¿›è¡Œè°ƒæ•´ã€åˆ›æ–°å’ŒæŒç»­æ”¹è¿› ç±»ä¼¼è€ƒå§”ä¼šï¼Œè´Ÿè´£å®šåˆ¶å’Œæ”¹è¿›è€ƒè¯•è§„åˆ™ æµç¨‹ä¸»ç®¡process owner å¯¹æ–°äº§å“å¼€å‘æµç¨‹çš„æˆ˜ç•¥æ€§ç»“æœï¼ŒåŒ…æ‹¬ç”Ÿäº§èƒ½åŠ›ã€è¾“å‡ºè´¨é‡å’Œç»„ç»‡ç±»çš„å‚ä¸åº¦è´Ÿè´£çš„æ‰§è¡Œç»ç†ï¼Œæ•æ·ä¸­ç”±POå’Œæ•æ·æ•™ç»ƒæ¥è´Ÿè´£ ç±»ä¼¼å·¡åœºè€å¸ˆï¼Œè´Ÿè´£ç›‘ç£è§„åˆ™çš„æ‰§è¡Œæ•ˆæœ æµç¨‹ç»ç†process manager ç¡®ä¿æµç¨‹ä¸­çš„åˆ›æ„å’Œé¡¹ç›®æŒ‰æ—¶æœ‰åºè¿›è¡Œçš„è¿è¥ç»ç†ã€‚æœ‰æ—¶è¢«æˆä¸ºä¸šåŠ¡æµç¨‹ç»ç†æˆ–è€…å·¥è‰ºç»ç† ç±»ä¼¼ç›‘è€ƒè€å¸ˆï¼Œè´Ÿè´£è§„åˆ™çš„æŒ‰æ—¶æœ‰åºæ‰§è¡Œ é¡¹ç›®ç»ç†project manager é‡‡ç”¨ç»„ç»‡è®¤å¯çš„æµç¨‹ï¼Œè´Ÿè´£ç®¡ç†ç‰¹å®šçš„äº§å“å¼€å‘é¡¹ç›® ç±»ä¼¼ç­ä¸»ä»»ï¼Œç»„ç»‡å­¦ç”ŸæŒ‰è§„åˆ™è¯•è¯•è€ƒè¯•é¡¹ç›® ç»„ç»‡ä¸å›¢é˜Ÿ èŒè´£ è¯´æ˜ å»ºç«‹æ–‡åŒ–æ°›å›´ ç»„ç»‡çš„æ–‡åŒ–å’Œæ°›å›´ç”±æœ€é«˜å±‚ç®¡ç†è€…é¢†å¯¼ï¼Œå¹¶å—å…¶å½±å“ æ¨åŠ¨ç§¯ææ°›å›´ æ˜¯èŒèƒ½ç»ç†å’Œå„ä¸ªå›¢é˜Ÿæˆ–é¡¹ç›®ç»ç†çš„èŒè´£ å›¢é˜Ÿå¼€å‘ æ•´ä½“å›¢é˜Ÿå¼€å‘çš„è´£ä»»ç”±é«˜çº§äº§å“å¼€å‘ç»ç†æ‰¿æ‹…ï¼ŒåŒ…æ‹¬ï¼šå›¢é˜Ÿæˆå‘˜çš„é€‰æ‹”ï¼Œé«˜ç»©æ•ˆå›¢é˜Ÿçš„å»ºç«‹ï¼Œæ°”æ°›çš„ä¿æŒ äº§å“ç®¡ç†è€…çš„å…³é”®èŒè´£è½å®äº§å“å¼€å‘æˆ˜ç•¥ï¼Œè·¨èŒèƒ½åˆä½œã€‚ èŒä½ èŒè´£ é¦–å¸­äº§å“å®˜ å…ˆCEOå›æŠ¥ï¼Œå®šåˆ¶æ•´ä½“çš„äº§å“æˆ˜ç•¥ï¼Œç›‘æ§ã€ç®¡ç†å¥½äº§å“çš„è¥é”€ä¸å¼€å‘ é«˜çº§å‰¯æ€»è£ é¢†å¯¼å¤§å‹äº§å“ç»ç†å›¢é˜Ÿï¼Œä¸å·¥ç¨‹ã€é”€å”®ã€åˆ¶é€ ã€è¥é”€èŒèƒ½çš„ä¸»è¦é¢†å¯¼ç´§å¯†é…åˆå·¥ä½œï¼Œç¡®ä¿å¼€å‘ä¸­çš„äº§å“æ˜¯æ­£ç¡®çš„ï¼Œä¸”æœ‰åŠ©äºå®ç°å…¬å¸ç›®æ ‡ äº§å“ç¾¤ç»ç† ä¸ºè´Ÿè´£æŸä¸ªäº§å“ç¾¤çš„äº§å“å›¢é˜Ÿæä¾›æŒ‡å¯¼ï¼Œè´Ÿè´£æ‰§è¡Œé«˜çº§ç®¡ç†è€…æŒ‡å®šçš„æˆ˜ç•¥ï¼Œé¢†å¯¼è·¨èŒèƒ½å›¢é˜Ÿ äº§å“ç»ç† å¯¹å…·ä½“çš„äº§å“å’Œäº§å“ç±»åˆ«è´Ÿè´£ äº§å“ç»ç† VS é¡¹ç›®ç»ç† äº§å“ç»ç† é¡¹ç›®ç»ç† å‘ç°ä¸å®šä¹‰èŒƒå›´ï¼ˆè¦åšä»€ä¹ˆï¼Œåšæˆä»€ä¹ˆæ ·ï¼‰ èŒƒå›´çš„æ‰§è¡Œä¸äº¤ä»˜ï¼ˆæ‰§è¡Œå¹¶äº¤ä»˜äº§å“ï¼‰ å¯¹äº§å“æ•´ä¸ªç”Ÿå‘½å‘¨æœŸè´Ÿè´£ é˜¶æ®µæ€§çš„å¯¹é¡¹ç›®è´Ÿè´£ å›¢é˜Ÿé¢†å¯¼è€…çš„è§’è‰²å’ŒèŒè´£-é«˜çº§ç®¡ç†è€…æ–°äº§å“å¼€å‘ä¸­é«˜çº§ç®¡ç†è€…è§’è‰²ä¸ºæˆ˜ç•¥è´Ÿè´£ å®šåˆ¶ä¼ä¸šçº§å’Œäº‹ä¸šç¾¤çº§æˆ˜ç•¥çš„ç»ˆæè´£ä»»åœ¨äºé«˜çº§ç®¡ç†è€… è€ŒåŒ…æ‹¬äº§å“ç ”å‘æˆ˜ç•¥åœ¨å†…çš„èŒèƒ½å‹æˆ˜ç•¥å®šåˆ¶çš„è´£ä»»äººåœ¨äºèŒèƒ½éƒ¨é—¨è´Ÿè´£äºº é«˜çº§ç®¡ç†è€…è§’è‰²å€¡å¯¼è€…ï¼šé¡¹ç›®å€¡å¯¼è€…å¹¶éå›¢é˜Ÿçš„ä¸€å‘˜ï¼Œå¯èƒ½æ˜¯å¸‚åœºéƒ¨æˆ–è€…æ˜¯ç ”å‘éƒ¨çš„æ€»ç»ç†ï¼Œä»–ä»¬å¯¹é¡¹ç›®å……æ»¡äº†çƒ­æƒ…ï¼Œæœ‰æ„ŸæŸ“åŠ›ï¼Œå¹¶ä¸”æ„¿æ„ä¸ºæ¨è¿›é¡¹ç›®æ‰¿æ‹…é£é™©ï¼Œèƒ½å¤Ÿå¸®åŠ©å›¢é˜Ÿè·å¾—èµ„æºï¼Œå¸®åŠ©å›¢é˜Ÿæ‰¿æ‹…é£é™© å‘èµ·è€…ï¼šæä¾›é¡¹ç›®æ‰€éœ€çš„èµ„æºï¼Œæ€»èµ„æºéœ€æ±‚æ‰¿è¯ºä»¥åŠä¼˜åŒ–é…ç½®ï¼Œè¯„ä¼°ç»©æ•ˆï¼Œæä¾›æ¿€åŠ±å¥–åŠ±ï¼Œå…³å£è¯„å®¡ï¼Œè¿è¥è§„åˆ’ç­‰ å¼•å¯¼è€…ï¼šå¸®åŠ©å›¢é˜Ÿå°½é‡å‡å°‘å®˜åƒšä¸»ä¹‰ï¼Œçªç ´ç¹æ–‡ç¼›èŠ‚çš„é™åˆ¶å’Œå…¶ä»–ç»„ç»‡å£å’ï¼Œä»è€Œæé«˜ç”Ÿäº§åŠ› é«˜çº§ç®¡ç†è€…ä»»åŠ¡æ–¹å‘å¼•é¢†è€…ï¼š å¥–åŠ±å…¬å¸æˆ˜ç•¥ ç¡®ä¿ä¸ºæ–°äº§å“æ‰€åšçš„ä¸€åˆ‡åŠªåŠ›æ˜¯ä¸€è‡´çš„ äº§å“çº¿ç¼”é€ è€… ä¸ºç†è§£ç›®å‰åŠæœªæ¥çš„äº§å“çº¿ç¡®ç«‹æ¡†æ¶ å®šä¹‰äº§å“ç±»å‹ ç»„åˆç®¡ç† ç¡®å®šé¡¹ç›®è®¾ç½® åŒ¹é…é¡¹ç›®å®¹é‡ã€ç”Ÿäº§åŠ› é«˜çº§ç®¡ç†è€…æ€»ç»“ è·¨èŒèƒ½å›¢é˜Ÿå’ŒçŸ©é˜µç»“æ„ç»„ç»‡ç»“æ„ç±»å‹â€‹ çŸ©é˜µç»“æ„å¼ä¸€ç§ç»„ç»‡ç»“æ„ï¼Œå…¶ä¸­çš„æ±‡æŠ¥å…³ç³»æŒ‰ç½‘æ ¼æˆ–è€…çŸ©é˜µå¥–åŠ±ï¼Œè€Œä¸æŒ‰ç…§ä¼ ç»Ÿçš„å±‚çº§ç»“æ„ï¼Œæ¢è¨€ä¹‹ï¼Œä¸€ä¸ªå‘˜å·¥å…·æœ‰åŒé‡çš„å›æŠ¥å…³ç³»ï¼Œé€šå¸¸æ˜¯æŒ‡èŒèƒ½ç»ç†å’Œäº§å“ç»ç†ï¼ˆé¡¹ç›®ç»ç†ï¼‰æ±‡æŠ¥ çŸ©é˜µç»“æ„ å›¢é˜Ÿç±»å‹ é¡¹ç›®ç»ç† ä¸Šä¸‹çº§ å›¢é˜Ÿæˆå‘˜ å›¢é˜Ÿèƒ½åŠ› é€‚åˆçš„äº§å“ä»»åŠ¡ç±»å‹ èŒèƒ½å‹å›¢é˜Ÿ æ—  æœ‰ åˆ†æ•£ æœ€å¼± æ”¹è¿›çš„ï¼Œè½»å¾®çš„ï¼ˆæ”¯æŒå‹é¡¹ç›®ï¼‰ è½»é‡çº§å›¢é˜Ÿ æœ‰æ— å®æƒ æ—  å…¼èŒ å¼± æ´¾ç”Ÿçš„æ‰©å¼ äº§å“çº¿ï¼ˆè¡ç”Ÿå‹é¡¹ç›®ï¼‰ é‡é‡å‹å›¢é˜Ÿ æœ‰æœ‰å®æƒ æ— ï¼ˆäº¤å‰ï¼‰ ä¸´æ—¶ä¸“èŒ å¼º æ–°é¢†åŸŸï¼Œä¸ç¡®å®šï¼Œå¤æ‚çš„ï¼ˆå¹³å°å‹é¡¹ç›®ï¼‰ è‡ªä¸»å‹å›¢é˜Ÿ åˆ›ä¸šå›¢é˜Ÿé¢†å¯¼ æœ‰ ä¸“èŒ æœ€å¼º å…¨æ–°çš„ï¼Œé•¿å‘¨æœŸï¼Œé«˜é£é™©ï¼ˆçªç ´æ€§é¡¹ç›®ï¼‰","categories":[{"name":"äº§å“ç»ç†","slug":"äº§å“ç»ç†","permalink":"https://vkcyan.github.io/categories/%E4%BA%A7%E5%93%81%E7%BB%8F%E7%90%86/"}],"tags":[{"name":"NPDP","slug":"NPDP","permalink":"https://vkcyan.github.io/tags/NPDP/"}]},{"title":"æ–°äº§å“å¼€å‘æˆ˜ç•¥","slug":"NPDPäº§å“ç»ç†/æ–°äº§å“å¼€å‘æˆ˜ç•¥","date":"2022-03-17T16:00:00.000Z","updated":"2022-12-11T13:51:24.078Z","comments":true,"path":"2022/03/18/NPDPäº§å“ç»ç†/æ–°äº§å“å¼€å‘æˆ˜ç•¥/","link":"","permalink":"https://vkcyan.github.io/2022/03/18/NPDP%E4%BA%A7%E5%93%81%E7%BB%8F%E7%90%86/%E6%96%B0%E4%BA%A7%E5%93%81%E5%BC%80%E5%8F%91%E6%88%98%E7%95%A5/","excerpt":"","text":"æˆ˜ç•¥å®šä¹‰ï¼šèƒ½å¤Ÿå¼•å‘æœªæ¥çš„ä¸€ç§æ–¹æ³•ä¸æˆ˜ç•¥ï¼Œä¾‹å¦‚ï¼ŒæŸä¸ªç›®æ ‡çš„å®ç°è·¯å¾„æˆ–æŸä¸ªé—®é¢˜çš„è§£å†³æ–¹æ³• å•†ä¸šç¯å¢ƒä¸‹çš„æˆ˜ç•¥å®šä¹‰ï¼š æˆ˜ç•¥èƒ½å¤Ÿå®šä¹‰ä¸ä¼ æ’­ä¸€ä¸ªç»„ç»‡çš„ç‹¬ç‰¹å®šä½ï¼Œè¯´æ˜åº”å½“å¦‚ä½•è°ƒæ•´ç»„ç»‡çš„èµ„æºã€æŠ€èƒ½ä¸èƒ½åŠ›ä»¥è·å–ç«äº‰ä¼˜åŠ¿ï¼ˆæ³¢ç‰¹ï¼Œ2008ï¼‰ ç»™äºˆè¡Œä¸šå®šä½ã€æœºé‡å’Œèµ„æºï¼Œä¼ä¸šä¸ºå®ç°é•¿è¿œç›®æ ‡è€Œå®šåˆ¶çš„è®¡åˆ’ï¼ˆç§‘ç‰¹å‹’ 2012ï¼‰ ç»è¥æˆ˜ç•¥çš„è®¾è®¡æ­¥éª¤ æˆ˜ç•¥åˆ¶å®šä¸æ‰§è¡Œè´£ä»»äººâ€‹ æ•´ä½“çš„ä¼ä¸šæ„¿æ™¯å’Œä½¿å‘½é€šå¸¸ç”±å…¬å¸é«˜ç®¡å›¢é˜Ÿä»¥åŠå…³é”®èŒèƒ½éƒ¨é—¨ï¼ˆè´¢åŠ¡ã€è¥é”€ã€åˆ¶é€ ç­‰ï¼‰çš„è´Ÿè´£äººä¸€èµ·æ­£å¼åˆ¶å®šï¼Œè¿™äº›å†…å®¹åœ¨è‘£äº‹ä¼šå±‚é¢å¾—åˆ°äº†æ­£å¼é€šè¿‡ ä¸šåŠ¡æˆ˜ç•¥ï¼šé€šå¸¸ç”±æŸä¸ªç‰¹å®šçš„ä¸šåŠ¡å•å…ƒçš„æ‰§è¡Œå›¢é˜Ÿè¿›è¡Œåˆ¶å®š èŒèƒ½æˆ˜ç•¥ï¼šé€šå¸¸ç”±èŒèƒ½éƒ¨é—¨è´Ÿè´£äººåŠé«˜ç®¡ç®¡ç†å›¢é˜Ÿï¼ˆè´¢åŠ¡ï¼Œè¥é”€ï¼‰è¿›è¡Œåˆ¶å®š äº§å“æˆ˜ç•¥ï¼šé€šå¸¸ç”±é«˜çº§äº§å“ç»ç†ï¼ˆå¦‚é«˜çº§äº§å“ç®¡ç†å‰¯æ€»è£ï¼‰è¿›è¡Œåˆ¶å®š åˆ›æ–°æˆ˜ç•¥ï¼šåŒå·¥å‚ç”±è·¨èŒèƒ½éƒ¨é—¨çš„é«˜çº§ç»ç†åˆ¶å®šï¼Œç”±ä¸€ä½è‘£äº‹ä¼šæˆå‘˜é¢†å¯¼ï¼Œä»–å¯èƒ½æ˜¯åˆ›æ–°å‰¯æ€»è£ï¼Œé¦–å¸­æŠ€æœ¯å®˜æˆ–é¦–å¸­æ‰§è¡Œå®˜ ä½¿å‘½ æ„¿æ™¯ ä»·å€¼è§‚ä½¿å‘½å®šä¹‰ï¼š å…¬å¸ä¿¡å¿µã€å“²å­¦ã€ç›®çš„ã€ç»è¥åŸåˆ™æˆ–è€…ä¼ä¸šä¿¡ä»°çš„å£°æ˜ ç›®çš„ï¼šé˜è¿°ä¼ä¸šä¸ºä»€ä¹ˆå­˜åœ¨(Why)ã€‚ä¸ºäº†å‡èšå…¬å¸èƒ½é‡ä¸èµ„æº æ¡ˆä¾‹ï¼š å‘å¸ƒåˆ›æ„ å…‹æœå›°éš¾(3Må…¬å¸ä½¿å‘½) æ„¿æ™¯å®šä¹‰ï¼š é€è¿‡é¢„è§ä¸æ´å¯Ÿçš„ç°è±¡ï¼Œé€è¿‡å®é™…ä¸Šçš„é™åˆ¶ï¼Œå€Ÿæ­¤æƒ³è±¡å‡ºä¼ä¸šå¯¹äºæœªæ¥å‘å±•çš„å¯èƒ½æ€§ ç›®çš„ï¼šé˜è¿°ä¼ä¸šè¦å¾€å“ªé‡Œ(Where) æ¡ˆä¾‹ï¼š è®¾è®¡å„å¼ç²¾è‰¯ï¼Œä¼˜å¼‚çš„å®¶å±…ç”¨å“ï¼Œå¹¶ä¸”ä»·æ ¼ä½åˆ°è®©è®¸å¤šäººéƒ½ä¹°å¾—èµ·(IKEAå®œå®¶å®¶å±…æ„¿æ™¯) ä»·å€¼è§‚ å‚ä¸çš„æˆå‘˜ä¸ºäº†å®Œæˆä»»åŠ¡éœ€è¦éµå®ˆçš„è¡Œä¸ºå‡†åˆ™ ä¸€ä¸ªäººæˆ–è€…å…¬å¸å¸¦æ¥æŸç§ç¨‹åº¦çš„æƒ…æ„Ÿæ¥éµå®ˆä¸€ä¸ªåŸåˆ™ ç›®çš„ï¼š é˜è¿°ä¼ä¸šçš„è¡Œä¸ºå‡†åˆ™ä¸ä»·å€¼è§‚(How) æ¡ˆä¾‹ï¼š è¯šä¿¡æ­£ç›´ æ‰¿è¯º åˆ›æ–° å®¢æˆ·ä¼™ä¼´å…³ç³»(TSMCå…¬å¸ä»·å€¼è§‚) å››ç§åˆ›æ–°æˆ˜ç•¥æ¡†æ¶æ³¢ç‰¹æˆ˜ç•¥æ¡†æ¶æ³¢ç‰¹å°†å…¬å¸ä¼˜åŠ¿æœ€ç»ˆåˆ’åˆ†æˆä¸º2ä¸ªéƒ¨åˆ†ï¼šæˆæœ¬ä¼˜åŠ¿ä¸å·®å¼‚åŒ– é€šè¿‡è¿è¥è¿™äº›ä¼˜åŠ¿æˆ–å®½æˆ–çª„çš„èŒƒå›´ï¼Œå®šä¹‰äº†ä¸‰ç§é€šç”¨æˆ˜ç•¥ æˆæœ¬é¢†å…ˆæˆ˜ç•¥ å·®å¼‚åŒ–æˆ˜ç•¥ ç»†åˆ†å¸‚åœºæˆ˜ç•¥ æˆ˜ç•¥åç§° ç‰¹ç‚¹ ä¼˜åŠ¿ åŠ£åŠ¿ ä¾‹å­ æˆæœ¬é¢†å…ˆæˆ˜ç•¥ å¸å¼•ä»·æ ¼æ•æ„Ÿæ€§å®¢æˆ·æå‡å¸‚åœºä»½é¢è§„æ¨¡ç”Ÿäº§é™ä½æˆæœ¬ä¼˜åŒ–ä¾›åº”é“¾ åœ¨ä»·æ ¼ç«äº‰æ¿€çƒˆå¸‚åœºä¸­æœ‰ä¿æŒç«äº‰çš„æ–¹æ³• åˆ©æ¶¦ä½é™ä½æˆæœ¬å½±å“è´¨é‡å¯¼è‡´å®¢æˆ·æµå¤± ä¸–ç•Œå·¥å‚ï¼Œä¸­å›½åˆ¶é€  å·®å¼‚åŒ–æˆ˜ç•¥ èšç„¦è¾ƒå®½äº§å“åŸºç¡€äº¤ä»˜ä¼˜è´¨äº§å“å»ºç«‹å¿ è¯šå®¢æˆ·å…³ç³»è·å–å¸‚åœºä»½é¢æ›´å…³æ³¨äº§å“å“è´¨å’Œæ€§èƒ½ åˆ©äºå»ºç«‹å®¢æˆ·å¿ è¯šåº¦å¯ä»¥è·å¾—æ›´é«˜çš„åˆ©æ¶¦ç‡ å¿…é¡»æŒç»­åˆ›æ–°ï¼Œå¼€å‘æ–°äº§å“å¸å¼•å®¢æˆ·æ€§èƒ½ä¸å¥½å¯èƒ½å¯¼è‡´å¸‚åœºä»½é¢çš„å¤§å¹…åº¦ä¸‹æ»‘ æ˜Ÿå·´å…‹è‹¹æœ ç»†åˆ†å¸‚åœºæˆ˜ç•¥ ä¹Ÿç§°â€èšç„¦æˆ˜ç•¥â€é€‚ç”¨äºç‹­å°å¸‚åœºå¯¹å¸‚åœºæœ‰æ·±å…¥è®¤è¯†ä¸ç‹¬ç‰¹è§è§£ èšç„¦è¥é”€å’Œæ–°äº§å“å¼€å‘å·¥ä½œå…·å¤‡å¾ˆé«˜çš„ç«äº‰å£å’å¢åŠ äº§å“å¼€å‘æŠ•å…¥æé«˜åˆ©æ¶¦ç‡ ä¾èµ–å•ä¸€ç‹­å°å¸‚åœºé£é™©å¤§æ–°æŠ€æœ¯å†²å‡» åŒ»ç¾è¡Œä¸šæœˆå­ä¸­å¿ƒ è¿ˆå°”æ–¯.æ–¯è¯ºæˆ˜ç•¥æ¡†æ¶åŸºäºä¼ä¸šå¯¹äºå˜æ›´å“åº”çš„ç ”ç©¶ï¼Œæä¾›æœ‰ç”¨æ¡†æ¶å»æè¿°äº§å“å¼€å‘æˆ˜ç•¥æ–¹æ³• ç±»å‹ åŠ¨ä½œ æ–¹å¼ æ¢ç´¢è€…Prospector é¦–å…ˆä¸Šå¸‚å¯»æ±‚å¢é•¿æ•¢äºå†’é™© å¼€å‘å’Œåº”ç”¨æ–°æŠ€æœ¯å€ŸåŠ©å¿«é€Ÿä¸Šå¸‚ï¼Œå é¢†å¸‚åœºä»½é¢ åˆ†æè€…Analyzer å¿«é€Ÿè·Ÿéšäº§å“é€šå¸¸æ›´å¥½ ç»å¸¸è·Ÿéšæ¢ç´¢å‹å…¬å¸ï¼Œå¼€å‘æ¨¡ä»¿äº§å“è¢«ç§°ä¸ºâ€å¿«é€Ÿè·Ÿéšè€…â€æ–°äº§å“å¼€å‘æˆæœ¬ä½ é˜²å¾¡è€…Defender åœ¨ç¨³å®šå¸‚åœºä¸­ç»´æŠ¤å…¶å¸‚åœºä»½é¢ é£é™©åŒæ¶å‹ï¼Œèšç„¦äºç‹­çª„çš„ï¼Œç¨³å®šçš„å¸‚åœºä¸äº§å“ç±»åˆ«é€šå¸¸ä¸å…·å¤‡æŠ€æœ¯è¿›æ”»èƒ½åŠ› ååº”è€…Eeactor åªæœ‰åœ¨é­é‡å¨èƒæ—¶æ‰ä¼šæœ‰æ‰€ååº” æ²¡æœ‰æ¸…æ™°çš„æˆ˜ç•¥ç›®æ ‡æ²¡æœ‰æ˜ç¡®çš„æŠ€æœ¯å¼€å‘è®¡åˆ’å’Œå¸‚åœºè¿›å…¥è®¡åˆ’ æŒç»­å¼åˆ›æ–° VS é¢ è¦†å¼åˆ›æ–°æŒç»­å¼åˆ›æ–° ä¸åˆ›é€ æ–°çš„å¸‚åœºä¸æ–°ä»·å€¼ä¸»å¼ ï¼Œè‡´åŠ›äºæŠŠç°æœ‰äº§å“åšçš„æ›´åŠ å¥½ ä»å®¡ç¾ï¼ŒåŠŸèƒ½ï¼Œç‰¹æ€§æˆ–æˆæœ¬è§’åº¦å…³æ³¨äº§å“å˜æ›´å’Œæ”¹è¿›çš„æ¸è¿›è¿‡ç¨‹ é¢ è¦†å¼åˆ›æ–° å…‹è±é¡¿.å…‹é‡Œæ–¯å¦æ£®é¦–æ¬¡æå‡ºé¢ è¦†å¼åˆ›æ–°çš„æ¦‚å¿µ(1997) æœ‰åŠ©äºåˆ›å»ºæ–°å¸‚åœºä¸æ–°çš„ä»·å€¼ç½‘ç»œ(ä»·å€¼ä¸»å¼ ) åˆæœŸå…³æ³¨å°ä¼—æœ‰å½±å“åŠ›çš„ç›®æ ‡å¸‚åœºï¼Œè¯¥å¸‚åœºäº§å“å…·æœ‰é‡è¦çš„æ–°ç‰¹æ€§æˆ–åŠŸèƒ½ï¼Œä½†æ˜¯å› ä¸ºå¼€å‘æˆç†Ÿåº¦ä¸å¤Ÿå……åˆ†ï¼Œè¿˜æ— æ³•ä¸ç°åœ¨å·²è¢«å¹¿æ³›æ¥å—çš„äº§å“ç«äº‰ åˆæœŸåœ¨ç›®æ ‡å¸‚åœºçš„å½±å“åŠ›åŠ ä¸Šäº§å“æ”¹è¿›å°†ä¼šæ‰©å¤§å¸‚åœºï¼Œå¯¼è‡´ç°æœ‰äº§å“æœ€ç»ˆé€€å‡ºå¸‚åœº ä¿ƒæˆå’Œåˆ›é€ é¢ è¦†å¼å½±å“çš„é€šå¸¸æ˜¯ä¸€ä¸ªå•†ä¸šæ¨¡å¼ï¼Œè€Œéæ˜¯ä¸€é¡¹æŠ€æœ¯ é¢ è¦†å¼åˆ›æ–°ä¸ä¼šä¸€å¤œä¹‹é—´å®ç°ï¼Œè€Œæ˜¯é€æ¸å‘ç”Ÿçš„ çš®è¨è¯ºæˆ˜ç•¥æ¡†æ¶ - åˆ›æ–°ç”»å¸ƒåœ¨æŠ€æœ¯ä¸å•†ä¸šæ¨¡å¼åˆ›æ–°çš„ä¸¤ä¸ªæ–¹é¢æœ‰æ•ˆåˆ†é…ç²¾åŠ›å’Œèµ„æº å…¶ä»–æˆ˜ç•¥åº“ç€çš„æˆ˜ç•¥ åº“ç€æ˜¯é—¨å¾„ç®¡ç†æµç¨‹çš„å¥ åŸºäººï¼Œåº“ç€çš„æˆ˜ç•¥ä»æŠ€æœ¯å’Œå¸‚åœºçš„è§’åº¦æ¥è®¨è®º å·®å¼‚åŒ–æˆ˜ç•¥ï¼š ä¸æ³¢ç‰¹çš„å·®å¼‚åŒ–æˆ˜ç•¥ç±»ä¼¼ï¼Œæä¾›é«˜ä»·æ ¼ï¼Œé«˜è´¨é‡çš„äº§å“ï¼Œæ»¡è¶³å®¢æˆ·éœ€æ±‚ é«˜æˆæœ¬æˆ˜ç•¥ï¼š ç ”å‘æˆæœ¬é«˜ï¼Œè¾ƒå°‘å…³æ³¨å¸‚åœºå’Œå®¢æˆ·éœ€æ±‚ æŠ€æœ¯æ¨åŠ¨æˆ˜ç•¥ï¼š æœ€æ–°æŠ€æœ¯ï¼Œé«˜åº¦åˆ›æ–°æƒ³æ³•ï¼Œè¾ƒå°‘å…³æ³¨ç”¨æˆ·éœ€æ±‚ ä¿å®ˆæˆ˜ç•¥ï¼š ä½é£é™©ï¼Œæœ‰é™ç ”å‘æŠ•å…¥ï¼Œéå·®å¼‚åŒ–äº§å“ éåšå¼ˆæˆ˜ç•¥ï¼š ä¸è¿ˆå°”æ–¯.æ–¯è¯ºçš„ååº”è€…æˆ˜ç•¥ç±»ä¼¼ å¹³å°æˆ˜ç•¥å¹³å°æˆ˜ç•¥è¢«å®šä¸ºä¸ºä¸€ç³»åˆ—å­ç³»ç»ŸåŠå…¶æ¥å£ï¼Œç”±æ­¤å¯ä»¥å»ºä¸€ä¸ªé€šç”¨æ¶æ„ï¼Œç»§è€Œé«˜æ•ˆçš„å¼€å‘ï¼Œåˆ¶é€ å‡ºå…¶å»¶ä¼¸äº§å“ ä¼˜åŠ¿ï¼š å¿«é€Ÿï¼Œè¿ç»­çš„æ¨å‡ºä¸€ç³»åˆ—äº§å“ é¼“åŠ±ä»é•¿æœŸè§†è§’å®šåˆ¶äº§å“æˆ˜ç•¥ èƒ½å¤§å¹…åº¦æå‡è¿è¥æ•ˆç‡ å…¬å¸ä¸å¸‚åœºèƒ½æ¸…æ™°ç†è§£äº§å“å¹³å°çš„åº•å±‚è¦ç´  èƒ½å¸¦æ¥å·¨å¤§çš„å·®å¼‚åŒ–ï¼Œä½¿è‡ªèº«äº§å“ä¸ç«äº‰äº§å“å¾—ä»¥åŒºåˆ†å¼€æ¥ æŠ€æœ¯æˆ˜ç•¥æŠ€æœ¯æˆ˜ç•¥æ˜¯ä¸€ä»½æœ‰å…³æŠ€æœ¯ç»´æŠ¤å’ŒæŠ€æœ¯å‘å±•çš„è®¡åˆ’ï¼Œè¿™äº›æŠ€æœ¯èƒ½å¤Ÿæ”¯æŒç»„ç»‡çš„æœªæ¥å‘å±•ï¼Œæœ‰åŠ©äºç»„ç»‡æˆ˜ç•¥ç›®æ ‡çš„å®ç° æŠ€æœ¯æˆ˜ç•¥ä¸ç»è¥æˆ˜ç•¥å’Œåˆ›æ–°æˆ˜ç•¥ç›¸è¿ æŠ€æœ¯é¢„æµ‹æ–¹æ³• å¤´è„‘é£æš´æ³• ä¸“å®¶å°ç»„æ³• å¾·å°”è²æ³• (ä¸“å®¶ åŒ¿å å¤šè½® è¶‹å‘ä¸€è‡´) SWOTæ³• ä¸“åˆ©åˆ†ææ³• è¶‹åŠ¿åˆ†ææ³• æŠ€æœ¯Sæ›²çº¿åŸºæœ¬ä¸Šæ˜¾ç¤ºäº†å¤§å¤šæ•°æŠ€æœ¯çš„ç”Ÿå‘½å‘¨æœŸé˜¶æ®µ å¼•å…¥æœŸ æˆé•¿æœŸ æˆç†ŸæœŸ çŸ¥è¯†äº§æƒæˆ˜ç•¥çŸ¥è¯†äº§æƒï¼š æ™ºåŠ›åˆ¶é€ å‡ºæ¥ä¸œè¥¿ï¼Œæ¯”å¦‚å‘æ˜ã€æ–‡å­¦ã€è‰ºæœ¯ã€è®¾è®¡ã€ç¬¦å·ã€åç§°ã€å•†ä¸šç”¨æˆ·å›¾åƒçš„æ‰€æœ‰æƒï¼›åŒå…¶ä»–äº§æƒä¸€æ ·å¯ä»¥å‡ºå”®ï¼Œæˆæƒï¼Œäº¤æ¢æˆ–è€…è¢«æ‹¥æœ‰è€…æ”¾å¼ƒï¼›çŸ¥è¯†äº§æƒè¢«æ³•å¾‹ä¿æŠ¤ï¼Œä¾‹å¦‚ä¸“åˆ©ã€ç‰ˆæƒå’Œå•†æ ‡å¯ä»¥è®©æ‰€æœ‰äººä»ä»–ä»¬çš„åˆ›é€ ä¸­è·å–è£èª‰å’Œé‡‘é’±å›æŠ¥ã€‚ çŸ¥è¯†äº§æƒçš„ç±»å‹ä¸“åˆ©ï¼šåœ¨ä¸€å®šæ—¶é—´é˜¶æ®µç”Ÿæ•ˆçš„ï¼Œç”±æ”¿åºœæˆæƒæˆ–è®¸å¯çš„æƒåˆ©ï¼Œç‰¹åˆ«æŒ‡ç¦æ­¢ä»–äººåˆ¶é€ ï¼Œä½¿ç”¨æˆ–è€…é”€å”®ä¸€ä¸ªå‘æ˜çš„æ‰€æœ‰æƒåŠ› ç‰ˆæƒï¼šä¸€å®šå¹´é™å†…ï¼Œç»™äºˆåŸåˆ›è€…ç‹¬å®¶çš„ï¼ŒæŒ‡å®šçš„æ³•å¾‹æƒåˆ©ï¼Œå¯ä»¥å°åˆ·ï¼Œå‘è¡Œï¼Œåˆ¶ä½œ å•†æ ‡ï¼šä»£è¡¨å…¬å¸ã€äº§å“çš„ç»ç”±æ³•å®šæ³¨å†Œæˆ–è®¸å¯çš„ç¬¦å·ï¼Œå•è¯æˆ–è€…è¯ç»„ æ¤ç‰©å“ç§æƒï¼š ç»™äºˆç‹¬å®¶æƒåŠ›ç”Ÿäº§å’Œé”€å”®æŸç§å¯ç¹æ®–çš„æ¤ç‰© å•†ä¸šæœºå¯†ï¼šå’Œä¼ä¸šç›¸å…³çš„ä¿å¯†ä¿¡æ¯ è¥é”€æˆ˜ç•¥ä»ä¸šåŠ¡ç›®æ ‡åˆ°è¥é”€è®¡åˆ’ï¼Œå…¶ä¸­åŒ…å«ä¸šåŠ¡ç›®æ ‡ã€è¥é”€æˆ˜ç•¥ã€å…¬å¸ç»„åˆã€è¥é”€è®¡åˆ’ å¸‚åœºè¥é”€ç»„åˆ4Päº§å“Productï¼šå¤–è§‚ åŠŸèƒ½ ç‰¹è‰² è´¨é‡ åŒ…è£… æ”¯æŒ è´¨ä¿ å“ç‰Œ ä¿ƒé”€Promotionï¼šä¸»é¢˜&#x2F;ä¿¡æ¯ ç¤¾äº¤åª’ä½“ å…¬å…³ é”€å”®å›¢ä½“ å•†å“å±•ä¼š çº¸è´¨åª’ä½“ å®šä»·Priceï¼šç›®å½•ä»·æ ¼ æŠ˜æ‰£ æ†ç»‘é”€å”® ä¿¡ç”¨æ¡æ¬¾ æ¸—é€å®šä»·ï¼ˆä½ä»·å é¢†å¸‚åœºï¼‰ æ’‡è„‚å®šä»·ï¼ˆé«˜ä»·å›æ”¶æˆæœ¬ï¼‰ åœ°ç‚¹Placeï¼šæ¸ é“ åº“å­˜ ç‰©æµ å®ä½“åˆ†é”€ å¦‚ä½•å®šä»· æ— è®ºä½•æ—¶ä½•åœ°ï¼Œå¯¹äº§å“ç»ç†è€Œè¨€å¿…é¡»æ˜ç¡®ç‚¹ï¼šæ€»åˆ©æ¶¦æ¯”å¸‚åœºä»½é¢ã€æ•ˆç‡æ›´åŠ é‡è¦ ç»´æŒä½æˆæœ¬æ˜¯äº§å“çš„äº‹æƒ…ï¼Œç»´æŒé«˜å”®ä»·æ˜¯è¿è¥çš„äº‹æƒ… é™ä»·æ˜¯æœ€æ˜‚è´µçš„è¿è¥ç­–ç•¥ï¼Œè€Œæä»·çš„æ•ˆæœæœªå¿…ä¼šæœ‰æƒ³è±¡ä¸­çš„ç³Ÿç³• å¦‚ä½•åº”å¯¹ç«äº‰å¯¹æ‰‹çš„ä»·æ ¼å˜åŒ–â€‹ æŸä¸€å®¶é…’ä¼çš„ä¸€æ¬¾é…’ç»è¿‡å¤šå¹´ç»è¥ï¼Œåœ¨å¸‚åœºä¸Šå æœ‰ç‡ä¸€åº¦è¾¾åˆ°20%ï¼Œåæ¥ç«äº‰å¯¹æ‰‹ä¹Ÿå‡ºäº†ç±»ä¼¼çš„äº§å“ï¼Œæ¯”ä»–è¦ä½1ç¾å…ƒï¼Œè¿™æ—¶å€™é…’ä¼åº”è¯¥è¿›è¡Œä»·æ ¼ç«äº‰å—ï¼Ÿæ˜¾ç„¶è¿™ä¼šå¯¼è‡´è‡ªå·±æ€»åˆ©æ¶¦é™ä½ï¼Œè¿™æ—¶å€™å†³ç­–è€…å†³å®šï¼Œå°†è¿™æ¬¾é…’æä»·1ç¾å…ƒï¼ŒåŒæ—¶å‡ºè¿™æ¬¾é…’çš„ä¸åŒåŒ…è£…çš„äº§å“ï¼Œå¯ä»¥ç†è§£ä¸ºé’æ˜¥ç‰ˆï¼Œå…¶ä»·æ ¼æ›´åŠ ä½å»‰ï¼Œä»¥æ­¤ä¸å¯¹æ‰‹ç«äº‰ï¼Œä¸€æ–¹é¢æé«˜äº†å‰è€…é…’çš„åœ°ä½ï¼Œä¸€æ–¹é¢æ‹‰ä½äº†å¯¹æ‰‹çš„å“ç‰ŒåŠ›ï¼Œä½¿é”€å”®é‡å¢åŠ ï¼Œåˆ©æ¶¦é‡å¢åŠ  å¦‚ä½•â€œå¿½æ‚ â€ç”¨æˆ·ä»˜è´¹åœ¨ä¸€å®šå¾—åˆ°3w 80%çš„å‡ ç‡å¾—åˆ°4wï¼Œ20%çš„æ¦‚å¿µå¾—åˆ°0å…ƒé¢å‰ï¼Œå¤§éƒ¨åˆ†ç”¨æˆ·ä¼šé€‰æ‹©å‰è€… åœ¨ä¸€å®šå¤±å»3w 80%çš„å‡ ç‡å¤±å»4wï¼Œ20%çš„æ¦‚å¿µå¤±å»0å…ƒé¢å‰ï¼Œå¤§éƒ¨åˆ†ç”¨æˆ·ä¼šé€‰æ‹©åè€… ç»“è®ºï¼šäººæ€§åœ¨é¢å¯¹å¤±å»ä¸é£é™©çš„æ—¶å€™æ›´åŠ å®³æ€•å¤±å» ç­–ç•¥ï¼šä¸è¦å‘Šè¯‰ç”¨æˆ·ä¹°äº†äº§å“ä¼šå¾—åˆ°ä»€ä¹ˆï¼Œè€Œæ˜¯å‘Šè¯‰ç”¨æˆ·ä¸è´­ä¹°ä¼šå¤±å»ä»€ä¹ˆ åœºæ™¯ï¼šå„¿ç«¥å…´è¶£ç­ é˜…è¯»åˆ°ä¸€åŠçš„ä»˜è´¹é˜…è¯» è¥é”€ç†å¿µçš„å†å²æ¼”å˜ 4P - 4C - 4R 4P äº§å“å¯¼å‘ 4C é¡¾å®¢å¯¼å‘ 4R é¡¾å®¢å¿ è¯šåº¦å¯¼å‘ äº§å“ï¼ˆproductï¼‰ é¡¾å®¢éœ€æ±‚ï¼ˆConsumerï¼‰ å…³ç³»ï¼ˆRelationï¼‰ ä¿ƒé”€ï¼ˆpromotionï¼‰ ä¾¿åˆ©æ€§ï¼ˆConvenienceï¼‰ ååº”ï¼ˆRespondï¼‰ ä»·æ ¼ï¼ˆpriceï¼‰ æ²Ÿé€šï¼ˆCommunicationï¼‰ å›æŠ¥ï¼ˆReturnï¼‰ åˆ†é”€ï¼ˆplaceï¼‰ æˆæœ¬ï¼ˆCostï¼‰ å…³è”ï¼ˆRelevancyï¼‰ äº§å“ä¸‰ç¯é¶æ ¸å¿ƒåˆ©ç›Šï¼šäº§å“æ ¸å¿ƒä»·å€¼ï¼ˆä¸æ˜¯æœ‰å½¢ç‰©ç†å±æ€§ï¼‰ æœ‰å½¢æ€§èƒ½ï¼šèµ‹äºˆäº§å“å¤–è§‚å’ŒåŠŸèƒ½çš„ç‰©ç†å’Œç¾å­¦è®¾è®¡ç‰¹å¾ é™„åŠ æ€§èƒ½ï¼š äº§å“æä¾›çš„é¢å¤–æ€§èƒ½å¯ä»¥æ˜¯å…è´¹çš„ äº§å“æè¿°FABæ¯ä¸ªäº§å“æˆ–è€…å“ç‰Œéƒ½å…·å¤‡çš„ä¸‰ä¸ªè¦ç´  äº§å“çš„F-A-Bç»“æ„ï¼ˆæ€»ç»“æ¯ä¸ªäº§å“çš„å–ç‚¹ï¼Œç‰¹ç‚¹ï¼Œä¼˜åŠ¿å’Œåˆ©ç›Šï¼‰ ç‰¹ç‚¹ï¼ˆFeatureï¼‰ï¼šå¯¹äº§å“æœ¬èº«çš„æŠ€æœ¯æ€§è§£é‡Šï¼Œé€šå¸¸åŒ…å«äº§å“ä¸“ä¸šåŒ–è¯è¯­ ä¼˜åŠ¿ï¼ˆAdvantageï¼‰ï¼šç”±äºäº§å“æœ¬èº«çš„ç‰¹æ€§æ‰€å¯¼è‡´çš„äº§å“è¡¨ç° åˆ©ç›Šï¼ˆbenefitï¼‰ï¼šä¸æ¶ˆè´¹è€…çš„æ„Ÿå—å¯†åˆ‡ç›¸å…³ï¼Œç”±äº§å“å¸¦ç»™æ¶ˆè´¹è€…çš„ä»·å€¼ åŸºäºæ„Ÿè§‰ä¸Šçš„ä½“éªŒï¼Œå¾€å¾€æ˜¯é’ˆå¯¹ä¸ªäººè€Œè¨€ï¼Œç›¸å¯¹çš„ï¼Œç±»æ¯”çš„ï¼Œå®šæ€§çš„ é‡‡ç”¨FABè¡¨è¿°äº§å“å–ç‚¹ç¤ºä¾‹ åç§° ç‰¹ç‚¹ï¼ˆFï¼‰ ä¼˜åŠ¿ï¼ˆAï¼‰ åˆ©ç›Šï¼ˆBï¼‰ æµ·é£ä¸ å¯Œå«æœ€æ–°ä¸æºè›‹ç™½ å¤´å±‘å»æ— è¸ª ç§€å‘æ›´å‡ºä¼— æ½˜å©· å«ä¸°å¯Œçš„ç»´ä»–å‘½åŸB5 èƒ½ç”±å‘æ ¹æ¸—é€åˆ°å‘çƒ§ï¼Œè¡¥å……å…»åˆ† ä½¿ä»–æµ¦å‘å¥åº·ï¼Œäº®æ³½ é£˜æŸ” å«ä¸è´¨æ¶¦å‘ç´  æ´—å‘æ´—æŠ¤ä¸€æ¬¡å®Œæˆ ä»¤å¤´å‘æŸ”é¡ºé£˜é€¸ ä¸ºäº§å“å–ç‚¹å¡‘é€ ç”»é¢æ„Ÿï¼ˆåœºæ™¯ï¼‰ äº§å“å–ç‚¹ æ™®é€šæ–‡æ¡ˆ æœ‰ç”»é¢æ„Ÿçš„æ–‡æ¡ˆ è€³æœºéŸ³è´¨å¥½ å£°å£°éœ‡æ’¼ï¼Œæ¿€å‘æ¢¦æƒ³ çŠ¹å¦‚ç½®èº«éŸ³ä¹ä¼šç°åœº ç¬”è®°æœ¬å™ªéŸ³ä½ åˆ›æƒ³æè‡´ï¼Œç²¾å¿ƒç”±æˆ‘ é—­ä¸Šçœ¼ç›ï¼Œæ„Ÿå—ä¸åˆ°ç”µè„‘å¼€æœº å·¥èµ„è¾›è‹¦ï¼Œä¸å¦‚æ—…è¡Œ ä¹äº«ç”Ÿæ´»ï¼Œç•…æ„äººç”Ÿ ä½ å†™PPTæ—¶ï¼Œé˜¿æ‹‰æ–¯åŠ çš„é³•é±¼æ­£è·ƒå‡ºæ°´é¢ æ³¢å£«é¡¿çŸ©é˜µåˆ†æ å•†ä¸šç”»å¸ƒä¸»è¦å†…å®¹ä¸è¦ç‚¹ äºšé©¬é€Šå•†ä¸šç”»å¸ƒ èƒ½åŠ›æˆ˜ç•¥èƒ½åŠ›æ¥æºèƒ½åŠ›è¦æ±‚ æŠ€æœ¯ è¥é”€ ç ”å‘ å†…éƒ¨æ¥æº ä¿æŒç°æœ‰èƒ½åŠ› è·å–æ–°èƒ½åŠ› é‡æ–°åŸ¹è®­ï¼Œé‡æ–°å¼€å‘ç°æœ‰èƒ½åŠ› å¤–éƒ¨æ¥æº å…¼å¹¶æˆ–æ”¶è´­ åˆèµ„ä¼ä¸š å¼€æ”¾å¼åˆ›æ–° å’¨è¯¢ å°é—­å¼åˆ›æ–° VS å¼€æ”¾å¼åˆ›æ–° å°é—­å¼åˆ›æ–°çš„åŸºæœ¬åŸåˆ™ å¼€æ”¾å¼åˆ›æ–°çš„åŸºæœ¬åŸåˆ™ æœ¬è¡Œä¸šé‡Œæœ€èªæ˜çš„å‘˜å·¥ä¸ºæˆ‘ä»¬å·¥ä½œ å¹¶éæ‰€æœ‰çš„èªæ˜äººéƒ½ç»™æˆ‘ä»¬å·¥ä½œï¼Œæˆ‘ä»¬éœ€è¦å’Œä¼ä¸šå†…å¤–éƒ¨çš„èªæ˜äººåˆä½œ ä¸ºäº†ä»ç ”å‘ä¸­ä¼šå“¦ä½ ï¼Œæˆ‘ä»¬å¿…é¡»è‡ªå·±è¿›è¡Œå‘æ˜åˆ›é€ ï¼Œå¼€å‘äº§å“å¹¶æ¨å‘å¸‚åœº å¤–éƒ¨ç ”å‘å·¥ä½œå¯ä»¥ç©¿åœ¨å·¨å¤§ä»·å€¼ï¼Œè€Œè¦åˆ†äº«å…¶ä¸­çš„ä¸€éƒ¨åˆ†ï¼Œåˆ™å¿…é¡»è¿›è¡Œå†…éƒ¨ç ”å‘ å¦‚æœæˆ‘ä»¬è‡ªå·±è¿›è¡Œç ”ç©¶ï¼Œå°±èƒ½æœ€å…ˆæŠŠäº§å“æ¨å‘å¸‚åœº æˆ‘ä»¬ä¸æ˜¯éè¦è‡ªå·±è¿›è¡Œç ”ç©¶æ‰èƒ½ä»ä¸­å—ç›Š æœ€å…ˆå°†åˆ›æ–°å•†ä¸šåŒ–çš„ä¼ä¸šå°†æˆä¸ºèµ¢å®¶ å»ºç«‹ä¸€ä¸ªæ›´å¥½çš„å•†ä¸šæ¨¡å¼è¦æ¯”è´¸ç„¶å†²è¿›å¸‚åœºå¥½å¾ˆå¤š å¦‚æœæˆ‘ä»¬åˆ›é€ å‡ºå•†ä¸šä¸­æœ€å¤šæœ€å¥½çš„åˆ›æ„ï¼Œæˆ‘ä»¬å¿…å°†èƒœåˆ© å¦‚æœæˆ‘ä»¬èƒ½å……åˆ†åˆ©ç”¨ä¼ä¸šå†…å¤–éƒ¨çš„åˆ›æ„ï¼Œæˆ‘ä»¬å¿…å°†èƒœåˆ© æˆ‘ä»¬å¿…é¡»æ§åˆ¶çŸ¥è¯†äº§æƒï¼Œè¿™æ ·ç«äº‰å¯¹æ‰‹å°±æ— ä»æˆ‘ä»¬çš„åˆ›æ„ä¸­è·åˆ© æˆ‘ä»¬åº”å½“é€šè¿‡è®©ä»–äººä½¿ç”¨æˆ‘ä»¬çš„çŸ¥è¯†äº§æƒè€Œä»ä¸­è·åˆ©ï¼ŒåŒæ—¶åº”å½“è´­ä¹°ä»–äººçš„çŸ¥è¯†äº§æƒåªè¦å®ƒèƒ½æå‡æˆ‘ä»¬çš„å•†ä¸šæ¨¡å¼ ä¿æŒå¸‚åœºç«äº‰ä¼˜åŠ¿çš„åŠæ³• å¦‚æœåœ¨ä¸€ä¸ªç›¸å¯¹å°é—­çš„è¡Œä¸šï¼Œåº”å½“ç€é‡å‘å±•å†…ç”Ÿä¼˜åŠ¿ï¼Œæå‡è‡ªèº«èƒ½åŠ›ä½†äº§ä¸šèåˆä¸è·¨ç•Œåˆä½œå…´èµ·æ—¶ï¼Œç”Ÿæ€ä¼˜åŠ¿çš„é‡è¦æ€§ä¼šç‰¹åˆ«æ˜æ˜¾ å®šä½è§‚â€‹ è®¤ä¸ºå†³å®šç«äº‰ä¼˜åŠ¿çš„å› ç´ æœ‰ä¸¤ä¸ªï¼Œä¸€æ˜¯è¡Œä¸šç›ˆåˆ©èƒ½åŠ›ï¼ŒäºŒæ˜¯ä¼ä¸šåœ¨è¡Œä¸šä¸­çš„åœ°ä½ã€‚å› æ­¤ä¼ä¸šçš„ç›ˆåˆ©èƒ½åŠ›å–å†³äºå…¶ç«äº‰æˆ˜ç•¥é€‰æ‹©ï¼Œè€Œç«äº‰æˆ˜ç•¥çš„é€‰æ‹©åˆ™æ˜¯ï¼šé€‰æ‹©æœ‰å¸å¼•åŠ›ã€é«˜æ½œåœ¨åˆ©æ¶¦çš„è¡Œä¸šå¹¶å»ºç«‹è‡ªå·±çš„ä¼˜åŠ¿ç«äº‰åœ°ä½ èµ„æºèƒ½åŠ›è§‚â€‹ è®¤ä¸ºä¼ä¸šåœ¨ç«äº‰ä¼˜åŠ¿äº§ç”Ÿä¸ä¼ä¸šå†…éƒ¨è¿ä½œï¼ˆç»„ç»‡è¿‡ç¨‹ï¼ŒåŒ…æ‹¬åè°ƒ&#x2F;æ•´åˆã€å­¦ä¹ &#x2F;é‡æ„ä¸è½¬å˜ï¼‰ã€æµç¨‹å’Œå½“å‰æ‰€å¤„ä½ç½®ï¼Œå…·æœ‰è·¯å¾„ä¾èµ–æ€§ ç”Ÿæ€ä¼˜åŠ¿è§‚â€‹ è®¤ä¸ºåœ¨æ–°æŠ€æœ¯åº”ç”¨å±‚å‡ºä¸ç©·ã€äº§ä¸šç¯å¢ƒæ—¥è¶‹åŠ¨è¡ã€æ¶ˆè´¹è€…å¯¹ä¸€ä½“åŒ–è§£å†³æ–¹æ¡ˆçš„æœŸæœ›è¶Šæ¥è¶Šé«˜çš„èƒŒæ™¯ä¸‹ï¼Œäº§ä¸šè¾¹ç•Œé€æ¸æ¨¡ç³Šï¼Œè·¨ç•Œåˆä½œä¸ä»·å€¼å…±åˆ›æˆä¸ºæ½®æµï¼Œä»–ä¸ä»…ä»…å…³æ³¨è‡ªèº«çš„ä»·å€¼é“¾è¿˜è¦é‡æ–°å®šä¹‰å’Œä¼˜åŒ–ä»·å€¼ç½‘ä¸Šé¢çš„æ´»åŠ¨ï¼Œç®¡ç†å¥½æœªæ‹¥æœ‰çš„èµ„æº äº’è”ç½‘æ€ç»´â€œå­¤ç‹¬ä¹å‰‘â€å‰‘è°± äº’è”ç½‘+â€‹ â€œäº’è”ç½‘+â€å°±æ˜¯â€œäº’è”ç½‘+å„ä¸ªä¼ ç»Ÿè¡Œä¸šâ€ï¼Œä½†è¿™å¹¶ä¸æ˜¯ç®€å•çš„ä¸¤è€…ç›¸åŠ ï¼Œè€Œæ˜¯åˆ©ç”¨ä¿¡æ¯é€šä¿¡æŠ€æœ¯ä»¥åŠäº’è”ç½‘å¹³å°ï¼Œè®©äº’è”ç½‘ä¸ä¼ ç»Ÿè¡Œä¸šè¿›è¡Œæ·±åº¦èåˆï¼Œåˆ›é€ æ–°çš„å‘è¯ç”Ÿæ€ â€‹ â€œäº’è”ç½‘+â€è¡ŒåŠ¨åŠ æŠ¤å°†é‡ç‚¹ä¿ƒè¿›äº‘è®¡ç®—ã€ç‰©è”ç½‘ã€å¤§æ•°æ®ä¸ºä»£è¡¨çš„æ–°ä¸€ä»£ä¿¡æ¯æŠ€æœ¯ä¸ç°ä»£åˆ¶é€ ä¸šã€ç”Ÿäº§æ€§æœåŠ¡ä¸šç­‰çš„èåˆåˆ›æ–°ï¼Œå‘å±•å£®å¤§æ–°å…´ä¸šæ€ï¼Œæ‰“é€ æ–°çš„äº§å“å¢é•¿ç‚¹ï¼Œä¸ºå¤§ä¼—åˆ›ä¸šã€ä¸‡ä¼—åˆ›æ–°æä¾›ç¯å¢ƒï¼Œä¸ºä¼ä¸šæ™ºèƒ½åŒ–æä¾›æ”¯æ’‘ï¼Œå¢å¼ºæ–°çš„ç»æµå‘å±•åŠ¨åŠ›ï¼Œä¿ƒè¿›å›½æ°‘ç»æµæè´¨å¢æ•ˆå‡çº§ äº’è”ç½‘+ å¼€å±•çš„å‰æç”¨æˆ·ä¸­å¿ƒä¸å……åˆ† è¡Œä¸šé€šç‚¹å¤šï¼Œä½æ•ˆç¯èŠ‚å¤šï¼Œç”¨æˆ·ä½“éªŒä¸å¥½çš„è¡Œä¸š å……åˆ†ç«äº‰å¸‚åœºï¼Œè¡Œæ”¿å„æ–­å°‘ï¼Œå¸‚åœºåŒ–é•¿åº¦æ¯”è¾ƒé«˜çš„åœ°æ–¹ æ•°æ®é©±åŠ¨ä¸å……åˆ† äº§å“æˆ–è€…æœåŠ¡å¯è™šæ‹ŸåŒ–ã€æ•°æ®åŒ–çš„è¡Œä¸š ä»·å€¼ç¯èŠ‚å¯æ•°æ®åŒ–çš„åœ°æ–¹ï¼Œå°†é¢ä¸´æ•°æ®åŒ–æ”¹é€  ç”Ÿæ€åä½œä¸å……åˆ† åˆ©ç”¨ä¿¡æ¯ä¸å¯¹ç§°ï¼Œé ä¸­ä»‹å‹çš„å•†ä¸šæ¨¡å¼ç›ˆåˆ©çš„åœ°æ–¹ï¼Œä¼šè¢«æ”¹å˜","categories":[{"name":"äº§å“ç»ç†","slug":"äº§å“ç»ç†","permalink":"https://vkcyan.github.io/categories/%E4%BA%A7%E5%93%81%E7%BB%8F%E7%90%86/"}],"tags":[{"name":"NPDP","slug":"NPDP","permalink":"https://vkcyan.github.io/tags/NPDP/"}]},{"title":"æ–°äº§å“æµç¨‹","slug":"NPDPäº§å“ç»ç†/æ–°äº§å“æµç¨‹","date":"2022-03-17T16:00:00.000Z","updated":"2022-12-11T13:51:24.078Z","comments":true,"path":"2022/03/18/NPDPäº§å“ç»ç†/æ–°äº§å“æµç¨‹/","link":"","permalink":"https://vkcyan.github.io/2022/03/18/NPDP%E4%BA%A7%E5%93%81%E7%BB%8F%E7%90%86/%E6%96%B0%E4%BA%A7%E5%93%81%E6%B5%81%E7%A8%8B/","excerpt":"","text":"æ€ç»´å¯¼å›¾ç®¡æ§äº§å“å¤±è´¥ï¼ˆé™ä½ä¸ç¡®å®šæ€§ï¼‰çš„æ–¹æ³•ä¸ç¡®å®šæ€§ã€ç´¯è®¡æˆæœ¬ä¸å¼€å‘é˜¶æ®µçš„å…³ç³» æ ‡å‡†çš„å†³ç­–æ¡†æ¶ äº§å“å¼€å‘æµç¨‹åŸºæœ¬é˜¶æ®µ æ¢ç´¢ï¼ˆExplorationï¼‰ ç­›é€‰ï¼ˆScreeningï¼‰ å•†ä¸šè¯„ä¼°ï¼ˆBusiness Evaluationï¼‰ å¼€å‘ï¼ˆDevelopmentï¼‰ æµ‹è¯•ï¼ˆTestingï¼‰ å•†ä¸šåŒ–ï¼ˆCommercializationï¼‰ å¸¸è§äº§å“å¼€å‘æµç¨‹ é—¨å¾„ç®¡ç†æµç¨‹ï¼ˆStage - Gate@ï¼‰ é›†æˆäº§å“å¼€å‘ï¼ˆIPDï¼‰ ç²¾ç›Šå¼€å‘ï¼ˆLeanï¼‰ æ•æ·å¼€å‘ï¼ˆAgilï¼‰ è®¾è®¡æ€ç»´ï¼ˆDesign Thinkingï¼‰ æ¨¡ç³Šå‰ç«¯FFEâ€‹ æ¨¡ç³Šå‰æ®µï¼ˆFuzzy front endï¼ŒFFEï¼‰ï¼šäº§å“å¼€å‘é¡¹ç›®çš„å‰ç«¯æ˜¯ä¸€ä¸ªæ—©æœŸæç«¯çš„èµ·ç‚¹ï¼Œåœ¨è¿›å…¥æ­£å¼çš„äº§å“å¼€å‘æµç¨‹å‰ï¼Œç»„ç»‡åœ¨è¯¥é˜¶æ®µè¯†åˆ«æœºä¼šï¼Œå½¢æˆæ¦‚å¿µã€‚ â€‹ è¯¥é˜¶æ®µåŒ…æ‹¬åˆ›æ„ç”Ÿæˆé˜¶æ®µï¼Œåˆå§‹æ¦‚å¿µå‘å±•é˜¶æ®µå’Œé«˜çº§ä¸šåŠ¡é˜¶æ®µã€‚ â€‹ æ˜¯é¡¹ç›®ä¸­å®šä¹‰æœ€ä¸ç¡®å®šçš„ä¸€ä¸ªé˜¶æ®µ â€‹ æ³¨ï¼šåˆ›æ„é˜¶æ®µå¯èƒ½æœ‰5ä¸ªï¼Œæ¦‚å¿µå¼€å‘é˜¶æ®µç»è¿‡æ·˜æ±°ä¸èåˆå˜æˆäº†2ä¸ªï¼Œæœ€åç«‹é¡¹åˆ†æï¼Œç¡®å®šè¦åšçš„é¡¹ç›® é—¨å¾„ç®¡ç†æµç¨‹ é˜¶æ®µ-å…³å£æ¦‚å¿µä»€ä¹ˆæ˜¯é˜¶æ®µäº§å“å¼€å‘æµç¨‹ä¸­çš„ä¸€ä¸ªç¡®è®¤åŒºåŸŸï¼ŒåŒ…æ‹¬ï¼š æ´»åŠ¨ï¼šé¡¹ç›®è´Ÿè´£äººåŠå›¢é˜Ÿæˆå‘˜ä¾ç…§é¡¹ç›®è®¡åˆ’å¿…é¡»å®Œæˆçš„å·¥ä½œ ç»¼åˆåˆ†æï¼šé€šè¿‡è·¨èŒèƒ½éƒ¨é—¨åŠå›¢é˜Ÿæˆå‘˜ä¾ç…§é¡¹ç›®è®¡åˆ’å¿…é¡»å®Œæˆçš„å·¥ä½œ å¯äº¤ä»˜æˆæœï¼šæ˜¯ç»¼åˆåˆ†æç»“æœçš„å‘ˆç°ï¼Œè¿™æ˜¯å›¢é˜Ÿå¿…é¡»å®Œæˆçš„å¹¶åœ¨å…³å£æ—¶æ‰€ä»¥æäº¤çš„å†…å®¹ ä»€ä¹ˆæ˜¯å…³å¡åŸºæœ¬ä¸Šï¼Œä»–æ˜¯äº§å“å¼€å‘æµç¨‹ä¸­çš„ä¸€ä¸ªç¡®è®¤èŠ‚ç‚¹ï¼Œåœ¨è¯¥é˜¶æ®µæ—¶éœ€è¦åšå‡ºæœ‰å…³é¡¹ç›®æœªæ¥çš„å…³é”®å†³ç­–ã€‚åŒ…æ‹¬ å¯äº¤ä»˜æˆæœï¼šå…³å£è¯„å®¡ç‚¹çš„è¾“å…¥å†…å®¹ï¼ˆé˜¶æ®µä¸­çš„å¯äº¤ä»˜æˆæœï¼‰ã€‚å®ƒæ˜¯å‰é˜¶æ®µè¡Œä¸ºçš„ç»“æœï¼Œæ˜¯å®ç°ç¡®å®šçš„ï¼Œåœ¨æ¯ä¸ªå…³å£éƒ½æœ‰ä¸€ä¸ªå¯äº¤ä»˜æˆåŠŸçš„æ ‡å‡†æ¸…å• æ ‡å‡†ï¼šåˆ¤æ–­é¡¹ç›®æ˜¯ç»§ç»­è¿˜æ˜¯åœæ­¢ä»¥åŠä¼˜å…ˆçº§å†³ç­–çš„æ ‡å‡†ï¼Œè¿™äº›æ ‡å‡†é€šè¿‡ä»¥åˆ†æ•°å‘ˆç°ï¼ŒåŒ…æ‹¬è´¢åŠ¡å’Œå®šå‘æ ‡å‡† è¾“å‡ºï¼šå…³å£è¯„å®¡ç»“æœã€‚å…³å£å¿…é¡»æœ‰æ˜ç¡®çš„è¾“å‡ºåŒ…æ‹¬ä¸€ä¸ªå†³ç­–ï¼ˆç»§ç»­æˆ–è€…åœæ­¢ï¼‰ä»¥åŠä¸‹ä¸€ä¸ªé˜¶æ®µçš„è·¯å¾„ é˜¶æ®µ - å…³å£ï¼ˆStage - Gateï¼‰æ–°äº§å“å¼€å‘è¿‡ç¨‹ æ ¹æ®éœ€è¦ï¼Œå¯çµæ´»è£å‰ªä¸æ·»åŠ  åˆ†ä¸ºå…­ä¸ªé˜¶æ®µï¼Œç”±æ¥è‡ªå…¬å¸å†…éƒ¨ä¸åŒèŒèƒ½é¢†åŸŸçš„äººå‘˜ä¸€èµ·å®Œæˆï¼š å‘ç°ï¼ˆDiscoveryï¼‰ï¼šå¯»æ‰¾æ–°æœºä¼šå’Œæ–°äº§å“åˆ›æ„ ç­›é€‰ï¼ˆScopingï¼‰ï¼šä¹Ÿå«è§‚å¯Ÿï¼Œåˆæ­¥è¯„é€‰å¸‚åœºæœºä¼šã€æŠ€æœ¯éœ€æ±‚ä»¥åŠèƒ½åŠ›çš„å¯è·å¾—æ€§ ç«‹é¡¹åˆ†æï¼ˆBusiness Caseï¼‰ï¼šä¹Ÿå«æ„å»ºäº§å“æ¡†æ¶ï¼Œå»ºç«‹åœ¨ç­›é€‰é˜¶æ®µä¹‹ä¸Šçš„ä¸€ä¸ªå…³é”®é˜¶æ®µï¼ŒåŒ…æ‹¬æ›´ä¸ºæ·±å…¥çš„æŠ€æœ¯ï¼Œå¸‚åœºå’Œå•†ä¸šå¯è¡Œæ€§åˆ†æ å¼€å‘ï¼ˆDevelopmentï¼‰ï¼šäº§å“è®¾è®¡ï¼ŒåŸç”Ÿåˆ¶é€ ï¼Œç”Ÿäº§è®¾è®¡ï¼Œåˆ¶é€ å‡†å¤‡å’Œä¸Šå¸‚è§„åˆ’ æµ‹è¯•ä¸ä¿®æ­£ï¼ˆTesting and Validationï¼‰ï¼šä¹Ÿç¿»è¯‘æˆæµ‹è¯•ä¸ç¡®è®¤ï¼Œæµ‹è¯•äº§å“ä»¥åŠå•†ä¸šåŒ–è®¡åˆ’çš„æ‰€æœ‰æ–¹é¢ï¼Œä»¥ä¿®æ­£æ‰€æœ‰å‡è®¾å’Œç»“è®ºï¼Œå’Œè¯å®å¯¹äº§å“çš„é¢„æœŸå’Œæ€»ç»“ ä¸Šå¸‚ï¼ˆLaunchï¼‰ï¼šä¹Ÿç¿»è¯‘ä¸ºæŠ•æ”¾å¸‚åœºï¼Œäº§å“çš„å®Œæ•´å•†ä¸šåŒ–ï¼ŒåŒ…æ‹¬è§„æ¨¡åˆ¶é€ ä»¥åŠå•†ä¸šåŒ–ä¸Šå¸‚ é˜¶æ®µï¼šä¸€ä¸ªç¡®å®šåŒºåŸŸï¼ŒåŒ…æ‹¬ æ´»åŠ¨ï¼Œç»¼åˆåˆ†æï¼Œå¯äº¤ä»˜æˆæœ å…³å¡ï¼šä¸€ä¸ªç¡®å®šé˜¶æ®µï¼Œå¿…é¡»åˆæ˜ç¡®çš„è¾“å‡ºåŒ…æ‹¬ä¸€ä¸ªå†³ç­–ï¼ˆç»§ç»­æˆ–è€…åœæ­¢ç­‰ï¼‰ä»¥åŠä¸‹ä¸€é˜¶æ®µçš„è·¯å¾„ã€‚åŒ…æ‹¬ï¼šå¯äº¤ä»˜æˆæœï¼Œæ ‡å‡†ï¼Œè¾“å‡º ç€‘å¸ƒæ¨¡å‹ è¦æ±‚ï¼šäº†è§£è¦è®¾è®¡äº§å“éœ€è¦ä»€ä¹ˆåŠŸèƒ½ã€ç›®çš„ã€ç”¨æˆ·éœ€æ±‚ è®¾è®¡ï¼šç¡®å®šå®Œæˆé¡¹ç›®æ‰€éœ€çš„è½¯ä»¶ä¸ç¡¬ä»¶ï¼Œä¹‹åè¢«è½¬åŒ–ä¸ºç‰©ç†è®¾è®¡ å®æ–½ï¼šæ ¹æ®é¡¹ç›®è¦æ±‚å’Œè®¾è®¡è§„èŒƒç¼–å†™å®é™…ä»£ç  éªŒè¯ï¼šç¡®ä¿äº§å“ç¬¦åˆé¡¾å®¢çš„æœŸæœ› ç»´æŠ¤ï¼šé€šè¿‡å®¢æˆ·ç¡®å®šäº§å“è®¾è®¡ä¸­çš„ä¸è¶³æˆ–é”™è¯¯ï¼Œè¿›è¡Œä¿®æ­£ é›†æˆäº§å“å¼€å‘IPD integrated Product Developmentï¼ŒPID å‰èº« - å¹¶è¡Œå·¥ç¨‹å«ä¹‰â€‹ åœ¨äº§å“çš„è®¾è®¡ä¸åˆ¶é€ æµç¨‹ä¸­ï¼Œè·¨èŒèƒ½å›¢é˜Ÿé‡‡ç”¨å¹¶è¡Œæ¨¡å¼è¿›è¡Œå·¥ä½œï¼Œè€Œä¸æ˜¯å„ä¸ªåŠŸèƒ½çš„é¡ºåºä¾æ¬¡å¼€å‘ï¼Œä»è€Œä¿ƒä½¿å›¢é˜Ÿå…¨é¢è€ƒè™‘äº§å“ç”Ÿå‘½å‘¨æœŸä¸­ä»æ¦‚å¿µåˆ°å®æ–½çš„å…¨éƒ¨å…ƒç´ ï¼ŒåŒ…æ‹¬è´¨é‡ã€æˆæœ¬ã€ç»´æŠ¤ç­‰æ–¹é¢ ä¸»è¦ç‰¹å¾ å¹¶è¡Œäº¤å‰ï¼šå¹¶è¡Œå·¥ç¨‹å¼ºè°ƒäº§å“è®¾è®¡ä¸å·¥è‰ºè¿‡ç¨‹è®¾è®¡ã€ç”Ÿäº§å‡†å¤‡ã€é‡‡è´­ç­‰æ´»åŠ¨äº¤å‰è¿›è¡Œ æŒ‰éƒ¨ä»¶å¹¶è¡Œäº¤å‰ï¼Œå°†ä¸€ä¸ªäº§å“åˆ†æˆè‹¥å¹²éƒ¨åˆ†ï¼Œä½¿å…¶å„éƒ¨ä»¶èƒ½å¹¶è¡Œè¿›è¡Œäº¤å‰å¼€å‘ å„ä¸ªç»„ä»¶çš„è®¾è®¡ã€é‡‡è´­ã€ç”Ÿäº§ç­‰å„ç§äº’åŠ¨å°½å¯èƒ½çš„äº¤å‰å¹¶è¡Œ å°½æ—©å¼€å§‹å·¥ä½œï¼Œç›®çš„å°±æ˜¯äº‰å–æ—¶é—´ å…·ä½“åšæ³•â€‹ åœ¨äº§å“å¼€å‘çš„åˆæœŸï¼Œç»„ç»‡å¤šç§å¯ååŒå·¥ä½œçš„é¡¹ç›®ç»„ï¼Œä½¿å¾—æœ‰å…³äººå‘˜ä»ä¸€å¼€å§‹å°±è·å¾—æœ‰å…³é¡¹ç›®çš„æœ€æ–°æ¶ˆæ¯ï¼Œç§¯æç ”ç©¶æ¶‰åŠæœ¬éƒ¨é—¨çš„å·¥ä½œä»»åŠ¡ï¼Œå¹¶å°†éœ€æ±‚æä¾›ç»™è®¾è®¡äººå‘˜ï¼Œä½¿å¾—è®¸å¤šé—®é¢˜åœ¨å¼€å‘æ—©æœŸå°±å¾—åˆ°äº†è§£å†³ä»è€Œä¿è¯è®¾è®¡è´¨é‡ï¼Œå‡å°‘è¿”å·¥ä¸æµªè´¹ å‘å±• - é›†æˆäº§å“å¼€å‘IPDå«ä¹‰â€‹ ç³»ç»Ÿç»¼åˆåœ°åº”ç”¨ä¸åŒèŒèƒ½ä½“ç³»çš„æˆæœå’Œç†å¿µï¼Œæœ‰æ•ˆã€é«˜æ•ˆçš„å¼€å‘æ–°äº§å“ï¼Œæ»¡è¶³å®¢æˆ·éœ€æ±‚çš„æ–¹å¼ IPDç®¡ç†çš„ç²¾é«“ IPDåŸºäºå¹¶è¡Œå·¥ç¨‹å‘å±•è€Œæ¥ IPDé¦–å…ˆæ˜¯ä¸€ä¸ªå•†ä¸šæµç¨‹ï¼Œå…³æ³¨å•†ä¸šç»“æœï¼Œå°†äº§å“å¼€å‘ä½œä¸ºä¸€é¡¹æŠ•èµ„è¿›è¡Œå®¡æ…ç®¡ç† IPDé‡‡ç”¨è·¨èŒèƒ½å›¢é˜Ÿï¼ŒåŠ å¼ºéƒ¨é—¨åˆä½œï¼Œå½¢æˆåˆåŠ›ï¼Œå…±åŒæ‰¿æ‹… IPDæµç¨‹åˆ†ä¸ºä¸åŒçš„é˜¶æ®µï¼Œé€šè¿‡åœ¨å†³ç­–è¯„å®¡ç‚¹çš„å†³ç­–å®ç°é›†æˆç»„åˆç®¡ç†å›¢é˜Ÿï¼ˆIPMTï¼‰å’Œäº§å“å¼€å‘å›¢é˜Ÿï¼ˆPDTï¼‰äº’åŠ¨ï¼Œèµ„æºå—æ§åˆ†é…ä¸æŠ•å…¥ï¼Œæ—¢æ»¡è¶³é¡¹ç›®è¿›å±•çš„éœ€æ±‚ï¼Œåˆé¿å…äº†æŠ•èµ„å¤±æ§çš„é£é™© IPDæ˜¯çµæ´»çš„ï¼Œå‘å±•çš„ï¼ŒæŒç»­æ”¹è¿›è®¾è®¡çš„ï¼Œåœ¨ä¸æ–­å¸çº³ä¸šç•Œå®è·µå’Œè§£å†³ä¸šåŠ¡é—®é¢˜çš„è¿‡ç¨‹ä¸æ—¶ä¿±è¿› IPDæµç¨‹æ˜¯åŸºäºå¸‚åœºçš„å¼€å‘ï¼Œå…³æ³¨å¸‚åœºéœ€æ±‚å’Œç«äº‰åˆ†æï¼Œé¼“åŠ±åˆ›æ–°åŸºäºç€äºŒè€…ä¹‹ä¸Š é›†æˆäº§å“å¼€å‘ç³»ç»Ÿåˆ†çº§ ç²¾ç›Šäº§å“å¼€å‘å®šä¹‰ï¼ˆLean Product Developmentï¼‰ï¼šåˆ›å»ºåœ¨ä¸°ç”°é¦–åˆ›çš„ç²¾ç›Šæ–¹æ³•ï¼ˆTPSï¼‰çš„åŸºç¡€ä¹‹ä¸Šã€‚ç›®çš„æ˜¯ï¼šä»æµç¨‹ä¸­å»æ‰æµªè´¹ ç²¾ç›Šå¼€å‘çš„åŸåˆ™ï¼ˆæå‡ç”Ÿäº§æ•ˆç‡ï¼‰ ç¡®å®šå®¢æˆ·å®šä¹‰çš„ä»·å€¼ å°½æœ€å¤§åŠªåŠ›æ¢ç´¢ä¸åŒçš„è§£å†³æ–¹æ¡ˆ åˆ›é€ é¡ºç•…çš„äº§å“å¼€å‘æµç¨‹ å°Šé‡é¢œè‰²çš„æ ‡å‡†ï¼Œä»¥å‡å°‘å˜å¼‚ é¦–å¸­å·¥ç¨‹å¸ˆå…¨ç¨‹å‚ä¸ è·¨èŒèƒ½æ•´åˆ å­¦ä¹ ä¸æ–­æ”¹è¿› å‡†æ±‚å“è¶Šä¸ä¸æ–­å­¦ä¹ çš„æ–‡åŒ– å›¢é˜Ÿæ•´ä¸ªç»„ç»‡ æ¶ˆé™¤æµªè´¹ + å¼ºåŒ–å­¦ä¹  + æ…é‡æ”¿ç­– + å°½å¿«äº¤ä»˜ + æˆæƒå›¢é˜Ÿ + å“è´¨ä¸ºå…ˆ + å…¨å±€ä¼˜åŒ– + æ¶ˆé™¤æµªè´¹ &#x3D; ç²¾ç›Šäº§å“ æ½œåœ¨çš„æµªè´¹æ¥æºåŒ…æ‹¬ æ··ä¹±çš„å·¥ä½œç¯å¢ƒ ç¼ºä¹å¯ç”¨çš„èµ„æº ç¼ºä¹æ˜ç¡®çš„ä¼˜å…ˆçº§é¡ºåº ä¸åŒèŒèƒ½ä¹‹é—´çš„æ²Ÿé€šå­˜åœ¨éšœç¢ ç³Ÿç³•çš„äº§å“éœ€æ±‚å®šä¹‰ ç¼ºä¹å¯¹å¯åˆ¶é€ æ€§çš„æ—©æœŸè€ƒè™‘ è¿‡åº¦è®¾è®¡ å¤ªå¤šæ— æ•ˆä¼šè®® å¤ªå¤šçš„ç”µå­é‚®ä»¶ ç›´æ¥æ•ˆç›Š æ˜¾è‘—æå‡ç”Ÿäº§æ•ˆèƒ½ å‡†æ—¶åˆ¶å‡†æ—¶åˆ¶ç”Ÿäº§æ–¹å¼ï¼ˆJust In Timeç®€ç§°JITï¼‰ï¼Œåˆç§°ä½œæ— åº“å­˜ç”Ÿäº§æ–¹å¼ï¼ˆstockless productionï¼‰ï¼Œé›¶åº“å­˜ï¼ˆzero inventoriesï¼‰ï¼Œå•ä»¶æµï¼ˆone - piece flowï¼‰æˆ–è€…è¶…å¸‚å¸‚åœºç”Ÿäº§æ–¹å¼ï¼ˆsupermarket productionï¼‰ JITçš„åŸºæœ¬ç†å¿µï¼šåªåœ¨éœ€è¦çš„æ—¶å€™ã€æŒ‰éœ€è¦çš„é‡ï¼Œç”Ÿäº§æ‰€éœ€çš„äº§å“ï¼Œæ•…åˆè¢«ç§°ä¸ºå‡†æ—¶ç”Ÿäº§ã€é€‚æ—¶ç”Ÿäº§æ–¹å¼ã€‚ JITçš„ç›®æ ‡ï¼šå½»åº•æ¶ˆé™¤æ— æ•ˆåŠ³åŠ¨å’Œæµªè´¹ã€‚å…·ä½“è¦è¾¾åˆ°ä»¥ä¸‹ç›®æ ‡ åºŸå“é‡æœ€ä½ 2. åº“å­˜é‡æœ€ä½ 3. å‡†å¤‡æ—¶é—´æœ€çŸ­ 4. ç”Ÿäº§æå‰æœŸæœ€çŸ­ 5. å‡å°‘é›¶ä»¶æ¬è¿ï¼Œæ¬è¿é‡ä½ 6. æœºå™¨æŸåä½ 7. äº‹æ•…é™ä½ å•ä»¶æµæ‰¹é‡ç”Ÿäº§è™½ç„¶æ˜¯é™ä½æˆæœ¬çš„ç”Ÿäº§æ–¹æ³•ï¼Œä½†æ˜¯å®¹æ˜“å‡ºç°å †ç§¯æµªè´¹ï¼Œå‘¨è½¬éº»çƒ¦ï¼Œå®¹é”™ç‡ä½çš„é—®é¢˜ å•ä»¶æµåˆ™æœ‰ç›®çš„çš„é™ä½å‘¨è½¬é—®é¢˜ï¼Œå¹¶ä¸”å‡å°‘å †ç§¯æµªè´¹ï¼ŒåŒæ—¶å¢åŠ å®¹é”™ç‡ 5WHYæ³•ï¼ˆåˆ¨æ ¹é—®åº•æ³•ï¼‰ å®‰ç¯æ³•æ“ä½œï¼šäº§çº¿å¼‚å¸¸ï¼ŒæŒ‰ä¸‹æŒ‰é’® - äº§çº¿æŠ¥è­¦ - é¢†ç­æ”¯æŒ æ”¶ç›Šï¼š ä¸€çº¿å‘˜å·¥æ—¢è¦åŠ¨æ‰‹ï¼Œä¹Ÿè¦åŠ¨è„‘ é¼“åŠ±å‘˜å·¥æŒç»­æˆé•¿ï¼Œè·å¾—æˆå°±æ„Ÿ å…¬å¸æµç¨‹ä¼˜åŒ–ï¼ŒæŒç»­æ”¹å–„ ç°åœºç°ç‰©äº²ä¸´ç°åœº - ç»†è‡´è§‚å¯Ÿï¼Œåˆ†æ&#x2F;è¯„ä¼° - æ‰¾å‡ºåŸå›  æ„å»ºå­¦ä¹ å‹ç»„ç»‡ è¶…è¶ŠçŸ­æœŸåˆ©ç›Šï¼Œç€çœ¼é•¿æœŸåˆ©ç›Š è‡´åŠ›æå‡å‘˜å·¥ï¼Œåˆä½œä¼™ä¼´èƒ½åŠ› ç»§ä»»é¢†å¯¼å»¶ç»­å…¬å¸æ–‡åŒ–åŸºå›  ä¸°ç”°æ¨¡å¼çš„æ ¸å¿ƒç²¾ç¥æ˜¯é€šè¿‡æ”¯æŒå’Œé¼“åŠ±å‘˜å·¥æŒç»­æ”¹å–„å·¥ä½œæµç¨‹ è®©ä»–ä»¬ä¸æ–­æˆé•¿ä¸è¿›æ­¥ï¼Œè¿›è€Œè·å¾—å·¥ä½œæˆå°±æ„Ÿå’Œä¸»äººç¿æ„è¯† ç²¾ç›Šäº§å“å¼€å‘è¿‡ç¨‹çš„æ ¸å¿ƒæ¦‚å¿µ ç²¾ç›Šäº§å“å¼€å‘çš„ä¼˜åŠ£åŠ¿ä¼˜åŠ¿ æµç¨‹çš„èšç„¦ç‚¹åœ¨äºä¿¡æ¯çš„é¡ºç•…æµåŠ¨,è€Œéä¸¥å‰ç®¡æ§ é€šè¿‡äº‹ä»¶é©±åŠ¨æ–¹æ³•ç®€åŒ–åˆä½œï¼Œä¼˜åŒ–è®¾è®¡ é‡è§†å¯¹è¿›åº¦ã€æˆæœ¬ã€æ¶ˆæå’Œè´¨é‡æ–¹é¢çš„é£é™©çš„ç§¯æç®¡æ§ é€‚ç”¨äºå„ç§è§„æ¨¡çš„é¡¹ç›® ç”¨äºè®°å½•å­¦ä¹ å’Œè¿›å±•ã€åˆ¤å®šä¼˜å…ˆçº§å’Œè§£å†³é—®é¢˜çš„å·¥å…·æ˜¯ç®€å•çš„ï¼Œå¯è§†åŒ–çš„ åŠ£åŠ¿ å‚ä¸äººå‘˜å¿…é¡»æ˜¯ç›¸å½“æ•¬ä¸šå¹¶ä¸”ç»éªŒä¸°å¯Œçš„ éœ€è¦æ”¹å˜ç»„ç»‡çš„ç»“æ„å’Œæ–‡åŒ– éœ€è¦å¼ºæœ‰åŠ›çš„ä¾›åº”å•†ç®¡ç† ç»„ç»‡æœ‰æ„æ„¿ä¸”æœ‰èƒ½åŠ›æ¥å—é¡¹ç›®ç›®æ ‡çš„å’Œæ–¹å‘ä¸Šçš„å˜åŒ– æ•æ·å¼€å‘ä¼ ç»Ÿæ–¹æ³•VSæ•æ·æ–¹æ³• ä¼ ç»Ÿçš„å†™ä½œæ–¹å¼ æ•æ·çš„å†™ä½œæ–¹å¼ ç¡®å®šä¸»é¢˜ ä¸è¯»è€…äº’åŠ¨ æ•´ç†å¤§çº²ã€æ­å»ºæ¡†æ¶ ç¡®å®šä¸»é¢˜ ä¹¦å†™å†…å®¹ ä¸è¯»è€…äº’åŠ¨ã€‚æ”¶é›†åé¦ˆ è®¾è®¡ã€æ’ç‰ˆã€æ ¡å¯¹ è¯•å†™ç¬¬ä¸€å¼  å‡ºç‰ˆ ä¸è¯»è€…äº’åŠ¨ï¼Œæ”¶é›†åé¦ˆ ä¸è¯»è€…è§é¢ è¯•å†™ç¬¬äºŒç«  ç­¹é›†åé¦ˆ â€¦ è®¾è®¡ã€æ’ç­ã€æ ¡å¯¹ å‡ºç‰ˆ ä¼ ç»ŸVSæ•æ·ä¹‹å®¢æˆ·äº’åŠ¨å¯¹æ¯” ç¡®å®šæ€§é¡¹ç›®VSä¸ç¡®å®šæ€§é¡¹ç›® ç”Ÿå‘½å‘¨æœŸç±»å‹ å¢é‡å‹ï¼šæ¥¼ç›˜ å®šä¸‹æ¥ä¸ä¼šå˜ ä½†æ˜¯è¦ä¸æ–­äº¤ä»˜ æ•æ·æ€§ï¼šäº’è”ç½‘é¡¹ç›® ä¸æ–­åœ¨å˜åŒ– é¢„æµ‹å‹ï¼šé“è·¯å»ºé€  å˜åŒ–æå°ï¼Œæœ‰è§„å¾‹çš„é¡¹ç›® è¿­ä»£å‹ï¼šç ”å‘ç–«è‹— ä¸æ–­å˜åŒ–ï¼Œä½†æ˜¯åªéœ€è¦äº¤ä»˜ä¸€æ¬¡ Stacyæ–¯æ³°è¥¿å›¾ æ•æ·å®£è¨€ æ•æ·å®£è¨€ ä»·å€¼è§‚ ä¸ªä½“ä»¥åŠäº’åŠ¨ èƒœäº æµç¨‹å’Œå·¥å…· ä»¥äººä¸ºæœ¬ å¯å·¥ä½œçš„è½¯ä»¶ èƒœè¿‡ å®Œæ•´çš„æ–‡æ¡£ ä»¥ä»·å€¼ä¸ºå¯¼å‘ å®¢æˆ·åˆä½œ èƒœè¿‡ åˆåŒè°ˆåˆ¤ åˆä½œå…±èµ¢ å“åº”å˜åŒ– èƒœè¿‡ éµå¾ªåŸåˆ™ æ‹¥æŠ±å˜åŒ– æ•æ·å¼€å‘åäºŒå¤§åŸåˆ™ é€šè¿‡å°½æ—©å’ŒæŒç»­åœ°äº¤ä»˜æœ‰ä»·å€¼çš„è½¯ä»¶æ¥æ»¡è¶³å®¢æˆ· æ¬¢è¿å¯¹éœ€æ±‚æå‡ºå˜æ›´ï¼Œæ•æ·è¿‡ç¨‹è¦å–„äºåˆ©ç”¨éœ€æ±‚å˜æ›´ï¼Œå¸®åŠ©å®¢æˆ·è·å¾—ç«äº‰ä¼˜åŠ¿ ç»å¸¸äº¤ä»˜å¯ç”¨è½¯ä»¶ï¼Œå¹¶å‘¨æœŸè¶ŠçŸ­è¶Šå¥½ ä¸šåŠ¡äººå‘˜ä¸å¼€å‘äººå‘˜å¿…é¡»é€šåŠ›åˆä½œ è¦å–„äºæ¿€åŠ±é¡¹ç›®äººå‘˜ï¼ŒåŸºäºä»–ä»¬æ‰€éœ€çš„ç¯å¢ƒå’Œæ”¯æŒï¼Œå¹¶ç›¸ä¿¡ä»–ä»¬èƒ½å®Œæˆä»»åŠ¡ å›¢é˜Ÿå†…éƒ¨å’Œå„ä¸ªå›¢é˜Ÿä¹‹é—´ï¼Œæœ€æœ‰æ•ˆçš„æ²Ÿé€šæ–¹å¼æ˜¯é¢å¯¹é¢æ²Ÿé€š å¯å·¥ä½œçš„è½¯ä»¶æ˜¯è¡¡é‡è¿›åº¦çš„é¦–è¦æŒ‡æ ‡ æ•æ·è¿‡ç¨‹ä½“é•¿å¯æŒç»­çš„å¼€å‘ã€‚é¡¹ç›®æ–¹ã€å¼€å‘äººå‘˜å’Œç”¨æˆ·åº”è¯¥èƒ½å¤Ÿä¿æŒç¨³å®šæ’ä¹…çš„è¿›å±•é€Ÿåº¦ å¯¹æŠ€æœ¯çš„ç²¾ç›Šæ±‚ç²¾ä»¥åŠå¯¹è®¾è®¡çš„ä¸æ–­å®Œå–„å°†æé«˜æ•æ·æ€§ å°½é‡åšåˆ°ç®€æ´ï¼Œå°½æœ€å¤§å¯èƒ½å‡å°‘ä¸å¿…è¦å·¥ä½œï¼Œè¿™æ˜¯ä¸€é—¨è‰ºæœ¯ æœ€ä½³çš„æ¶æ„ã€éœ€æ±‚å’Œè®¾è®¡å‡ºè‡ªäºè‡ªç»„ç»‡å›¢é˜Ÿ å›¢é˜Ÿè¦å®šæœŸå›é¡¾å’Œåæ€å¦‚ä½•èƒ½å¤Ÿåšåˆ°æ›´æœ‰æ•ˆï¼Œå¹¶ç›¸åº”åœ°è°ƒæ•´å›¢é˜Ÿçš„è¡Œä¸º æ•æ·Scrumæ¡†æ¶ æ•æ·å®è·µSCRUMçš„333555 ä¸‰ä¸ªæ”¯æŸ± ä¸‰ä¸ªè§’è‰² ä¸‰ä¸ªå·¥ä»¶ é€æ˜æ€§ï¼ˆTransparencyï¼‰ äº§å“è´Ÿè´£äººï¼ˆProduct Ownerï¼‰ äº§å“å¾…åŠäº‹é¡¹åˆ—è¡¨ï¼ˆProduct Backlogï¼‰ æ£€æŸ¥ï¼ˆInspectionï¼‰ æ•æ·æ•™ç»ƒï¼ˆScrum Masterï¼‰ å†²åˆºå¾…åŠäº‹é¡¹åˆ—è¡¨ï¼ˆSprint Backlogï¼‰ é€‚åº”ï¼ˆAdaptationï¼‰ é¡¹ç›®å›¢é˜Ÿï¼ˆScrum Teamï¼‰ å¯äº¤ä»˜äº§å“å¢é‡ï¼ˆIncrementï¼‰ äº”ä¸ªäº‹ä»¶ äº”å¤§ä»·å€¼è§‚ å†²åˆº æ‰¿è¯ºï¼ˆCommitmentï¼‰ - æ„¿æ„å¯¹ç›®æ ‡åšå‡ºæ‰¿è¯º å†²åˆºè§„åˆ’ä¼šè®® ä¸“æ³¨ï¼ˆFocusï¼‰ - å…¨èº«å¿ƒéƒ½ç”¨åˆ°ä½ æ‰¿è¯ºçš„å·¥ä½œä¸Šå» æ¯æ—¥ç«™ä¼š å¼€æ”¾ï¼ˆOpennessï¼‰ - å›¢é˜Ÿå†…æ‰€æœ‰ä¿¡æ¯å¯¹æ‰€æœ‰äººå¼€å‘ è¿­ä»£è¯„å®¡ä¼šè®® å°Šé‡ï¼ˆRespectï¼‰ - æ¯ä¸ªäººéƒ½æœ‰ä»–ç‹¬ç‰¹çš„ä»·å€¼ä¸ç»éªŒ è¿­ä»£å›é¡¾ä¼šè®® å‹‡æ°”ï¼ˆCourageï¼‰ - å‹‡äºæ‰¿è¯ºï¼Œå±¥è¡Œæ‰¿è¯ºï¼Œæ•¢äºè¯´ä¸ æ•æ·å®è·µ - 3ä¸ªè§’è‰² äº§å“è´Ÿè´£äºº æ•æ·æ•™ç»ƒ æ•æ·å›¢é˜Ÿ ç¡®å®šäº§å“çš„åŠŸèƒ½å’Œæ ‡å‡†ç»´æŠ¤äº§å“å¾…åŠäº‹é¡¹åˆ—è¡¨æŒ‡å®šè½¯ä»¶çš„äº¤ä»˜å†…å®¹ä»£è¡¨å®¢æˆ·åˆ©ç›Šæ‹¥æœ‰æœ€ç»ˆè§£é‡Šæƒå¹³è¡¡æœ‰ç«äº‰å…³ç³»çš„åˆ©ç›Šç›¸å…³è€… å›¢é˜Ÿå’Œäº§å“ä¸»ç®¡ä¹‹é—´çš„åè°ƒè€…ï¼Œæ¶ˆé™¤ä»–ä»¬ä¹‹é—´çš„éšœç¢å·¥ä½œèŒè´£ä¸æ˜¯ç®¡ç†å›¢é˜Ÿæ¿€å‘å›¢é˜Ÿçš„åˆ›é€ åŠ›ï¼Œç»™å›¢é˜Ÿæˆæƒæå‡å›¢é˜Ÿç”Ÿäº§ç‡æ”¹è¿›å·¥ç¨‹å·¥å…·çš„å®è·µç¡®ä¿å›¢é˜Ÿå–å¾—è¿›å±•çš„ä¿¡æ¯å®æ—¶æ›´æ–°ä¸åŒæ­¥æœåŠ¡å›¢é˜Ÿã€æ•™å¯¼å›¢é˜Ÿã€ä¿æŠ¤å›¢é˜Ÿ 5åˆ°9ä¸ªäººå¤šèŒèƒ½éƒ¨é—¨äººå‘˜ç»„æˆå†²åˆºé˜¶æ®µï¼Œå›¢é˜Ÿé€šè¿‡è‡ªç»„ç»‡çš„æ–¹å¼å®ç°å†²åˆºç›®æ ‡å®ç°ç›®æ ‡çš„å¸†å¸†ä¸Šæœ‰é€‰æ‹©è‡ªä¸»æƒè´£ä»»å±äºæ•´ä¸ªå¼€å‘å›¢é˜Ÿä¸€èµ·æˆåŠŸï¼Œä¸€èµ·å¤±è´¥ä¸€èµ·è°ƒæ•´ï¼Œä¸€èµ·æ”¹è¿› æ•æ·å®è·µ - ç”¨æˆ·æ•…äº‹ä½œä¸º å­¦å‘˜ æˆ‘æƒ³ çœ‹ç›´æ’­è¯¾ ä»¥ä¾¿äº å’Œè€å¸ˆäº’åŠ¨ ä½œä¸ºè€å¸ˆ æˆ‘æƒ³ æå‰æ’è¯¾è¡¨ ä»¥ä¾¿äº åˆç†å®‰æ’äº‹ä»¶ ä½œä¸ºxx æˆ‘æƒ³ xx ä»¥ä¾¿äºxxxxx ç”¨æˆ·è¯´å‡ºè‡ªå·±çš„é—®é¢˜è€Œä¸æ˜¯ç»™å‡ºå…·ä½“è§£å†³æ–¹æ¡ˆ æ•æ·å®è·µ - äº§å“ä»£åŠåˆ—è¡¨â€‹ å¾…åŠäº‹é¡¹æ˜¯æ‰€æœ‰å·¥ä½œçš„æœ‰åºåˆ—è¡¨ï¼Œä»–ä»¥æ•…äº‹å½¢å¼å‘ˆç°ç»™å›¢é˜Ÿã€‚ä»·å€¼å¤§çš„æ’åœ¨ä¸Šé¢ã€‚ä»–æ˜¯äº§å“éœ€æ±‚å˜æ›´çš„å”¯ä¸€æ¥æº â€‹ ä»–æ˜¯ä¸€ä¸ªæŒç»­å®Œå–„çš„æ¸…å•ï¼Œæ ¹æ®äº§å“å’Œå¼€å‘ç¯å¢ƒçš„å˜åŒ–è€Œæ¼”è¿›ã€‚ â€‹ äº§å“è´Ÿè´£äººProduct Ownerè´Ÿè´£å¾…åŠäº‹é¡¹åˆ—è¡¨çš„å†…å®¹ï¼Œå¯ç”¨æ€§å’Œä¼˜å…ˆçº§ å‡ ç§å¼€å‘æµç¨‹çš„å¯¹æ¯”ç€‘å¸ƒæ¨¡å‹ VS æ•æ·æµç¨‹ ç€‘å¸ƒæ¨¡å‹ æ•æ·æµç¨‹ ç€‘å¸ƒä½¿ç”¨é˜¶æ®µ æ•æ·ä½¿ç”¨è¿­ä»£ ç€‘å¸ƒä½¿ç”¨ä¸æä¾›é«˜ä½é¢‘ç‡çš„äº’åŠ¨ï¼ˆå¼€å‘é˜¶æ®µä½é¢‘ç‡ï¼Œä¸šåŠ¡æµ‹è¯•é˜¶æ®µé«˜é¢‘ç‡ï¼‰ æœ‰é¢‘ç¹çš„ä¸šåŠ¡äº’åŠ¨ ç€‘å¸ƒæ¨¡å¼ä¸€ä¸ªé¡¹ç›®ç»ç† æ•æ·æµç¨‹æ˜¯scrum master ç€‘å¸ƒä¸èƒ½è¿­ä»£ æ•æ·èƒ½è¿­ä»£ æ•æ·ä¸ç²¾ç›Šæ•æ·å¼€å‘ï¼šæ•æ·è®¾è®¡çš„åˆè¡·æ˜¯å†çŸ­æ—¶é—´å†…æ‰§è¡Œä»»åŠ¡ï¼Œä¸å®¢æˆ·è¿›è¡Œé¢‘ç¹äº’åŠ¨ï¼Œå¹¶èƒ½å¤Ÿå¯¹å˜åŒ–åšå‡ºè¿…é€Ÿç›¸åº”ï¼Œæ¯”è¾ƒå¸¸ç”¨äºè½¯ä»¶å¼€å‘ ç²¾ç›Šå¼€å‘ï¼šç²¾ç›Šæ—¨åœ¨å‡å°‘æµªè´¹ï¼Œæé«˜è¿è¥æ•ˆç‡ï¼Œç‰¹åˆ«é€‚ç”¨äºåˆ¶é€ è¿‡ç¨‹ä¸­å¸¸è§çš„é‡å¤æ€§ä»»åŠ¡ é—¨å¾„ç®¡ç† VS æ•æ· ç‰¹å¾ é—¨å¾„ç®¡ç† æ•æ· æ¨¡å‹ç±»å‹ å®è§‚æŠ€æœ¯ å¾®è§‚è®¡åˆ’ï¼Œé¡¹ç›®ç®¡ç† èŒƒå›´ åˆ›æ„åˆ°ç»“æŸï¼Œç«¯ç‚¹åˆ°ç«¯ç‚¹ åªæœ‰å¼€å‘ä¸æµ‹è¯•é˜¶æ®µ ç»„ç»‡å¹¿åº¦ è·¨èŒèƒ½ - æŠ€æœ¯ã€å¸‚åœºã€ç”Ÿäº§ æŠ€æœ¯ ç»“æŸç‚¹ ä¸Šå¸‚æˆä¸ºæ–°äº§å“ å·²å¼€å‘æˆ–æµ‹è¯•çš„è½¯ä»¶ å†³ç­–æ¨¡å‹ æŠ•èµ„æ¨¡å‹ï¼šè®¾è®¡é«˜çº§ç®¡ç†å±‚æ²»ç†çš„ç»§ç»­æˆ–åœæ­¢æ¨¡å‹ ä¸»è¦æ˜¯æˆ˜æœ¯æ€§çš„ï¼šä¸‹ä¸€ä¸ªå†²åˆºéœ€è¦çš„åŠ¨ä½œ é›†æˆäº§å“å¼€å‘ä¸å…¶ä»–æµç¨‹å¯¹æ¯” é›†æˆäº§å“å¼€å‘æä¾›ä¸€ç§å°†äº§å“å¼€å‘ä¸­çš„åŠŸèƒ½ï¼Œè§’è‰²å’Œè¡Œä¸ºé›†æˆèµ·æ¥çš„æ¡†æ¶ã€‚ å®šä¹‰ä¸ºç³»ç»Ÿåœ°ã€ç»¼åˆçš„åº”ç”¨ä¸åŒèŒèƒ½ä½“ç³»çš„æˆåŠŸå’Œç†å¿µï¼Œæœ‰æ•ˆã€é«˜æ•ˆåœ°å¼€å‘æ–°äº§å“ï¼Œæ»¡è¶³å®¢æˆ·éœ€æ±‚çš„æ–¹å¼ é›†æˆäº§å“å¼€å‘æ¨¡å‹çš„ä¸€ä¸ªé‡è¦åŠŸèƒ½æ˜¯â€œå­¦ä¹ ä¸æŒç»­æ”¹è¿›â€ï¼Œæ¨¡å‹è¡¨æ˜ä¸“æ³¨äºäº§å“å¼€å‘è¿‡ç¨‹å’ŒæŠ€æœ¯çš„ç»„ç»‡å¦‚ä½•å‘å±•ä»¥çŸ¥è¯†ä¸ºåŸºç¡€çš„å­¦ä¹ å‹ç»„ç»‡ å„æµç¨‹æ¨¡å‹æ˜¯æ½œåœ¨äº’è¡¥çš„ï¼Œè€Œä¸æ˜¯ç›¸äº’æ’æ–¥çš„ï¼Œåº”ä»¥æŒç»­å­¦ä¹ å’Œæ”¹è¿›ä¸ºé‡ç‚¹ï¼Œå°†æ¯ä¸ªæ¨¡å‹ä¸­çš„å…ƒç´ èåˆä¸ºä¸€ä¸ªçœŸæ­£é€‚åˆäºäº§å“å¼€å‘çš„æ¨¡å‹ ç‰¹ç‚¹ é—¨å¾„ç®¡ç†æ¨¡å‹ å®è§‚è§„åˆ’ã€å†³ç­–åŸºç¡€ æ•æ·æ¨¡å‹ å¾®è§‚æŠ€æœ¯å’Œçµæ´»æ€§ ç²¾ç›Šç”Ÿäº§ å‡å°‘æµªè´¹ é›†æˆäº§å“å¼€å‘ å­¦ä¹ å‹ç»„ç»‡ï¼Œå¯¹æ–°äº§å“å¼€å‘çš„ç»¼åˆé›†æˆ å¼€å‘æµç¨‹çš„æ²»ç†æ²»ç†ï¼šç”¨äºæŒ‡å¯¼é¡¹ç›®ã€ç¨‹åºå’Œé¡¹ç›®ç»„åˆç®¡ç†ä¸­çš„æ´»åŠ¨æ¡†æ¶ã€åŠŸèƒ½å’Œæµç¨‹ã€‚æ²»ç†æ˜¯é‡‡å–é«˜å±‚çº§å’Œæˆ˜ç•¥æ€§çš„è§†è§’ï¼Œè€Œä¸æ˜¯é™·å…¥è¿‡ç¨‹å’Œé¡¹ç›®ç»†èŠ‚ æ²»ç† ç®¡ç† èŒèƒ½ ç›‘ç£ã€æ§åˆ¶ã€æ•´åˆå’Œå†³ç­– æŠ€æœ¯ã€ç»„ç»‡ã€é¢†å¯¼å’Œæ§åˆ¶ å…³æ³¨ç‚¹ ç»“æœå’Œç›®æ ‡ æ–¹æ³•å’ŒæŠ€æœ¯ å±‚é¢ å®è§‚ï¼ˆæˆ˜ç•¥ã€å†³ç­–è§’åº¦ï¼‰ ä¸­è§‚å’Œå¾®è§‚ï¼ˆæˆ˜æœ¯ã€æ‰§è¡Œè§’åº¦ï¼‰ è´Ÿè´£äºº è‘£äº‹ä¼š ç®¡ç†å±‚ ä½œç”¨ ä¸ºç®¡ç†æä¾›æ¡†æ¶ã€åŠŸèƒ½å’Œè¿‡ç¨‹æˆäºˆç®¡ç†è€…ç»è¥æƒå¹¶åŠ ä»¥ç›‘ç£ å†æ²»ç†æä¾›çš„æ¡†æ¶å’Œç›‘ç£ä¸­å½¢å¼ç»è¥æƒï¼Œå®ç°ç»è¥ç›®æ ‡ æ€»ç»“æ‰€æœ‰æµç¨‹æ¨¡å‹å‡éµä»ä¸€ä¸‹å…±åŒåŸåˆ™ å…³æ³¨æˆ˜ç•¥ä¸€è‡´æ€§ åŸºäºçŸ¥è¯†è¿›è¡Œå†³ç­– é™ä½äº§å“å¤±è´¥çš„é£é™© å‰ªæ‰å°†åˆ©ç›Šç›¸å…³è€…çš„è¾“å…¥ä¿¡æ¯èå…¥è®¾è®¡å†³ç­– åº”ç”¨è·¨èŒèƒ½å›¢é˜Ÿ æ˜¯ä¸€ä¸ªç»“æ„åŒ–æ¡†æ¶ï¼Œè¦è¢«æ•´ä¸ªé¡¹ç›®æ‰€ç†è§£å’Œåº”ç”¨ é—¨å¾„ç®¡ç†æµç¨‹ é›†æˆäº§å“å¼€å‘ ç²¾ç›Šå¼€å‘ æ•æ·å¼€å‘ æ˜¯å¦å¯¹æ•´ä¸ªæ–°äº§å“å¼€å‘æµç¨‹è¿›è¡Œç®¡ç† æ˜¯ æ˜¯ æ˜¯ å¦ æ˜¯å¦ä¸“æ³¨äºè·¨èŒèƒ½å›¢é˜Ÿçš„ä½¿ç”¨ æ˜¯ æ˜¯ æ˜¯ æ˜¯ èƒ½åŠ å¿«ä¸Šå¸‚é€Ÿåº¦å— æ˜¯ æ˜¯ æ˜¯ æ˜¯ æœ€é€‚ç”¨ä»€ä¹ˆç±»å‹çš„äº§å“è¡Œä¸š ç¡¬ä»¶ã€å®ç‰© å¤šäº§å“ åˆ¶é€  è½¯ä»¶ è½¯ä»¶ç±» å¦‚ä½•é™ä½äº§å“å¤±è´¥çš„é£é™© å…³å£ å†³ç­–ç‚¹ æ¶ˆé™¤æµªè´¹ å¿«é€Ÿè¿­ä»£ æ˜¯çº¿æ€§è¿˜æ˜¯è¿­ä»£ çº¿æ€§ çº¿æ€§ çº¿æ€§+è¿­ä»£ è¿­ä»£+çº¿æ€§","categories":[{"name":"äº§å“ç»ç†","slug":"äº§å“ç»ç†","permalink":"https://vkcyan.github.io/categories/%E4%BA%A7%E5%93%81%E7%BB%8F%E7%90%86/"}],"tags":[{"name":"NPDP","slug":"NPDP","permalink":"https://vkcyan.github.io/tags/NPDP/"}]},{"title":"ç»„åˆç®¡ç†","slug":"NPDPäº§å“ç»ç†/ç»„åˆç®¡ç†","date":"2022-03-17T16:00:00.000Z","updated":"2022-12-11T13:51:24.079Z","comments":true,"path":"2022/03/18/NPDPäº§å“ç»ç†/ç»„åˆç®¡ç†/","link":"","permalink":"https://vkcyan.github.io/2022/03/18/NPDP%E4%BA%A7%E5%93%81%E7%BB%8F%E7%90%86/%E7%BB%84%E5%90%88%E7%AE%A1%E7%90%86/","excerpt":"","text":"ç»„åˆç®¡ç†å¤§çº² äº§å“ç»„åˆäº§å“ç»„ç»‡ï¼šä¸€ä¸ªç»„ç»‡æ­£åœ¨æŠ•èµ„çš„å¹¶å°†å…¶åšå‡ºæˆ˜ç•¥æ€§æƒè¡¡å–èˆçš„ä¸€ç³»åˆ—é¡¹ç›®æˆ–äº§å“ äº§å“ç»„åˆç®¡ç†ï¼šä»¥ç»„åˆå½¢å¼è¢«ç®¡ç†çš„ä¸€ç³»åˆ—ç¨‹åºã€é¡¹ç›®å’Œ&#x2F;æˆ–æ“ä½œçš„é›†åˆã€‚ä¸€ä¸ªç»„åˆçš„æ„æˆå…ƒç´ æœªå¿…æ˜¯ç›¸äº’ä¾èµ–çš„ï¼Œç”šè‡³æœªå¿…æ˜¯ç›¸å…³çš„ï¼Œä½†ä»–ä»¬è¢«é›†åˆæˆä¸€ä¸ªç»„åˆï¼Œä»¥æ­¤ä¸ºå•ä½æ¥å—ç®¡ç†ï¼Œä»¥å®ç°æˆ˜ç•¥ç›®æ ‡ã€‚ åœ¨äº§å“å¼€å‘å’Œäº§å“ç®¡ç†ä¸­ï¼Œä¼ä¸šå¯ä»¥é€šè¿‡ä¸¤ç§é€”å¾„å®ç°æ–°äº§å“æˆåŠŸ æ­£ç¡®çš„å®Œæˆé¡¹ç›®ï¼ˆé¡¹ç›®ç®¡ç†ï¼‰ å®Œæˆæ­£ç¡®çš„é¡¹ç›®ï¼ˆç»„åˆç®¡ç†ï¼‰ ç®¡ç†ç»„åˆçš„äº”å¤§é«˜å±‚æ¬¡ç›®æ ‡ä»·å€¼æœ€å¤§åŒ–â€‹ è¿›è¡Œèµ„æºé…ç½®å°†ç»„åˆä»·å€¼æœ€å¤§åŒ–ï¼ˆç‹¬ç«‹é¡¹ç›®å•†ä¸šä»·å€¼çš„ç»¼åˆï¼‰ï¼ˆéè´¢åŠ¡è¯„ä¼°ä¸è´¢åŠ¡è¯„ä¼°ï¼‰ æˆ˜ç•¥ååŒâ€‹ ç¡®ä¿æ•´ä½“ç»„åˆæˆ˜ç•¥ä¸ç»è¥æˆ˜ç•¥åŠåˆ›æ–°æˆ˜ç•¥å§‹ç»ˆä¿æŒä¸€è‡´ï¼ˆè‡ªä¸‹è€Œä¸Šï¼Œè‡ªä¸‹è€Œä¸Šï¼Œç»“åˆæ³•ï¼‰ é¡¹ç›®å¹³è¡¡â€‹ æ ¹æ®é¢„å®šè®¾å®šçš„æ ‡å‡†å¦‚é•¿æœŸæˆ–çŸ­æœŸã€é«˜é£é™©æˆ–ä½é£é™©ã€ç‰¹å®šäº§å“æˆ–å¸‚åœºåˆ†ç±»ç­‰ï¼Œä¿æŒæ­£ç¡®çš„é¡¹ç›®ä¹‹é—´çš„å¹³è¡¡ ç®¡é“å¹³è¡¡â€‹ ç¡®ä¿èµ„æºåŠç„¦ç‚¹ä¸ä¼šè¿‡åº¦åˆ†æ•£ï¼Œé¿å…ç»„åˆå›Šæ‹¬çš„é¡¹ç›®è¿‡å¤šï¼Œå¯¼è‡´è¢«è¿‡åº¦åˆ†æµï¼ˆèµ„æºé…ç½®ï¼‰ è´¢åŠ¡ç¨³å¥â€‹ ç¡®ä¿äº§å“ç»„åˆæ‰€é€‰é¡¹ç›®èƒ½å¤Ÿå®ç°æ–°äº§å“åˆ›æ–°æˆ˜ç•¥ä¸­æ‰€è®¾å®šçš„è´¢åŠ¡ç›®æ ‡ï¼ˆè´¢åŠ¡å¯è¡Œæ€§ï¼‰ äº§å“è§„åˆ’å®šä¹‰â€‹ è¿è¥ä¸¥æ ¼ã€è§„èŒƒçš„æ–¹æ³•å¯¹å¸‚åœºèµ°åŠ¿åŠå®¢æˆ·çš„è¦æ±‚åŠéœ€æ±‚è¿›è¡Œåˆ†æï¼Œåˆ›å»ºåˆç†çš„å¸‚åœºç»†åˆ†è§„åˆ™ï¼Œå¯¹è¦æŠ•èµ„å’Œå–å¾—é¢†å…ˆåœ°ä½çš„ç»†åˆ†å¸‚åœºè¿›è¡Œé€‰æ‹©å’Œä¼˜å…ˆçº§æ’åºï¼Œä»è€Œè®¾è®¡ç¡®ä¿å¸‚åœºè¥é”€å–å¾—æˆåŠŸéœ€è¦æ‰§è¡Œçš„æ´»åŠ¨ï¼Œå®šåˆ¶å¯ç›ˆåˆ©ï¼Œå¯æ‰§è¡Œçš„ä¸šåŠ¡è®¡åˆ’å’Œé©±åŠ¨äº§å“å¹³å°ã€æ–°äº§å“åŒ…çš„å¼€å‘ è€æ¿å†³å®š é›†ä½“å†³å®š æˆç«‹è§„åˆ’éƒ¨é—¨ è·¨éƒ¨é—¨å›¢é˜Ÿè¿è¡Œ ä¼˜ç‚¹ å†³ç­–è¿…é€Ÿ ä½“ç°é›†ä½“æ„å¿—ï¼Œå½¢æˆå…±è¯† ä¿è¯èµ„æºï¼Œæå‡ä¸“ä¸šèƒ½åŠ› æå‡è§„åˆ’è´¨é‡ ç¼ºç‚¹ éšæ„ã€æ··ä¹± æ–¹æ³•ä¸ä¸¥è°¨ï¼Œè´£ä»»å®¹æ˜“åˆ†æ•£ å­˜åœ¨å±€é™æ€§ï¼Œå½±å“è§„åˆ’æ‰§è¡Œ å¯¹ç®¡ç†è¦æ±‚é«˜ï¼Œå†³ç­–å¯èƒ½è¾ƒæ…¢ é€‚ç”¨æƒ…å†µ å…¬å¸åˆ›ä¸šé˜¶æ®µ å…¬å¸è§„æ¨¡ä¸å¤§ï¼Œäº§å“è¾ƒå°‘ å…¬å¸è§„æ¨¡è¾ƒå¤§ï¼Œäº§å“è¾ƒå¤š å…¬å¸å¤šäº§å“çº¿ï¼Œä¼—å¤šäº§å“ ç»„åˆç®¡ç†æµç¨‹ ç»„åˆä¸­çš„é¡¹ç›®ç±»å‹ ç±»å‹ ç‰¹ç‚¹ å›¢é˜Ÿï¼ˆä¸€èˆ¬è€Œè¨€ï¼‰ çªç ´å‹é¡¹ç›®Breakthrouth æœ‰æ—¶è¢«ç§°ä¸ºæ¿€è¿›çš„æˆ–é¢ è¦†å¼çš„åŠªåŠ›é€šè¿‡æŠ€æœ¯å°†æ–°äº§å“å¸¦è¿›å¸‚åœºä¸å…¬å¸ç°è¡Œçš„é¡¹ç›®å¤§ä¸ç›¸åŒï¼Œæœ‰é«˜é£é™© è‡ªä¸»å›¢é˜Ÿ å¹³å°å‹é¡¹ç›®LpatForm å¼€å‘å‡ºä¸€ç³»åˆ—å­ç³»ç»ŸåŠå…¶æ¥å£ï¼Œç”±æ­¤åˆ›å»ºä¸€ä¸ªé€šç”¨æ¶æ„ï¼Œç»§è€Œé«˜æ•ˆçš„å¡è¦…å’Œç”Ÿäº§ä¸€ç³»åˆ—è¡ç”Ÿäº§å“ä¸ºå‘ç°è¡ç”Ÿäº§å“ã€é¡¹ç›®æä¾›å¹³å°é£é™©æ¯”äº§å“æ”¹è¿›æˆ–å¢é‡æå‡è¦é«˜ï¼Œä½†æ¯”å¼€å‘çªç ´æ€§äº§å“ä½ é‡é‡çº§å›¢é˜Ÿ è¡ç”Ÿé¡¹ç›®Derivative ä»å…¶ä»–ç°æœ‰äº§å“æˆ–å¹³å°ä¸­è¡ç”Ÿå‡ºæ¥å¯ä»¥å¡«è¡¥æœ‰äº§å“çº¿çš„ç©ºç™½ï¼Œæä¾›æ›´å…·æœ‰æˆæœ¬ç«äº‰åŠ›çš„åˆ¶é€ èƒ½åŠ›åŸºäºç»„ç»‡çš„æ ¸å¿ƒæŠ€æœ¯æå‡æ€§èƒ½å’Œå¼•å…¥æ–°ç‰¹æ•ˆé£é™©è¾ƒä½ è½»é‡çº§å›¢é˜Ÿ æ”¯æŒé¡¹ç›®Support å¯¹ç°æœ‰äº§å“æ¸è¿›å¼æ”¹é©æé«˜ç°æœ‰äº§å“çš„åˆ¶é€ æ•ˆç‡ä½é£é™© èŒèƒ½å›¢é˜Ÿ äº§å“ç»„åˆä¸æˆ˜ç•¥çš„å…³ç³»è‡ªä¸Šè€Œä¸‹æ³• å¼€å‘è¿‡ç¨‹ä¸­é¦–å…ˆè€ƒè™‘æ„¿æ™¯ä¸æˆ˜ç•¥ ç¡®å®šæ•´ä¸ªé¡¹ç›®ç»„åˆä¸­å¯è·å¾—çš„èµ„æºå¹³è¡¡ï¼Œæ ¹æ®é‡è¦æˆ˜ç•¥å¯èƒ½å¯¹æ–°äº§å“çš„è´¡çŒ®ï¼Œç¡®å®šä¸šåŠ¡å•å…ƒå’Œäº§å“ç§ç±»çš„é¡ºåº â€œæˆ˜ç•¥æ°´æ¡¶æ–¹æ³•â€è§„å®šäº†ä¸åŒä¸šåŠ¡å•å…ƒæˆ–äº§ç”Ÿç§ç±»ç†æƒ³çš„æŠ•å…¥æ¯”ä¾‹ åœ¨è·¯å¾„ä¸Šï¼Œé¡¹ç›®æŒ‰ä¼˜å…ˆçº§æ’åº è‡ªä¸‹è€Œä¸Šæ³• å§‹äºå•ä¸ªé¡¹ç›®ï¼Œç»è¯„ä¼°ç­›é€‰ï¼Œå½¢æˆé¡¹ç›®ç»„åˆ æˆ˜ç•¥æ ‡å‡†ä¾æ®è¯„ä¼°æ¯ä¸ªé¡¹ç›®çš„é€‰æ‹©æ ‡å‡†è€Œå®š ä¸åŒä¸è‡ªä¸Šè€Œä¸‹æ³•ï¼Œå•ä¸ªçš„äº§å“ç»„åˆå³æ˜¯ç»“æœä¸å¯¹ä¸šåŠ¡éƒ¨é—¨å’Œäº§å“ç±»å‹è¿›è¡Œç‰¹åˆ«è€ƒè™‘ï¼ˆä¸æ˜¯å¾ˆæ‡‚ï¼‰ è¯¥æ³•ä¿è¯é¡¹ç›®ä¸æˆ˜ç•¥æ˜¯ä¿æŒä¸€è‡´çš„ï¼Œä½†å¯èƒ½æ— æ³•å¯¹ç‰¹å®šçš„é¡¹ç›®ç±»å‹å¤´å›¾ç†æƒ³æ¯”ä¾‹çš„æˆæœ¬ è‡ªä¸Šè€Œä¸‹å’Œè‡ªä¸‹è€Œä¸Šçš„ç»“åˆæ³• å…·å¤‡ä¸¤ç§æ–¹æ³•çš„ä¼˜ç‚¹ ç¡®å®šèƒ½æ ¹æ®ä¸šåŠ¡éƒ¨é—¨æˆ–äº§å“ç±»å‹çš„æŠ•å…¥ï¼Œè¿›è¡Œæˆ˜ç•¥ä¼˜å…ˆçº§çš„æ’åº æ‰€æœ‰æ½œåœ¨çš„é¡¹ç›®éƒ½è¦æ ¹æ®æˆ˜ç•¥æ ‡å‡†å’Œæ¯ä¸ªé¡¹ç›®çš„é¢„ä¼°æŠ•å…¥è¿›è¡Œæ’åº é€šè¿‡æˆ˜ç•¥é¢„ç®—åˆ†é…é¡¹ç›®æ—¶ï¼Œè¦ç»¼åˆè€ƒè™‘ç‹¬ç«‹çš„ç›®æ ‡ä¼˜å…ˆé¡ºåºå’Œé¢„ç®—æŠ•å…¥ï¼Œå¹¶ä¸ä¸šåŠ¡éƒ¨é—¨æˆ–äº§å“ç±»å‹ä¼˜å…ˆé¡ºåºä¿æŒä¸€è‡´ ä»ä¸Šè€Œä¸‹çš„ç¡®å®šè®¡åˆ’ï¼Œä»ä¸‹è€Œä¸Šç¡®å®šæ‰§è¡Œ äº§å“æœºä¼šè¯„ä¼°æ–°äº§å“æŠ€æœ¯è¯„ä¼°å¸¸ç”¨æ–¹æ³•æ°”æ³¡å›¾ã€é€‰é¡¹æ ‡ä»·ã€è¯„åˆ†æ–¹æ³•ã€é¡¹ç›®æ’åºã€æˆ˜ç•¥æ°´æ¡¶ã€æŠ˜ç°ç°é‡‘å•ã€æ£€æŸ¥æ¸…å•ã€æŠ•èµ„å›æ”¶æœŸ ä¸€èˆ¬åˆ†ä¸ºè´¢åŠ¡æ–¹æ³•ä¸éè´¢åŠ¡æ–¹æ³• éè´¢åŠ¡æ€§è¯„ä¼°éè´¢åŠ¡è¯„ä¼°æ–¹æ³•æˆ–è¯„åˆ†ä¾æ®æ˜¯ä¸»è§‚åˆ¤æ–­ã€‚ç¡®å®šè¦é‡‡ç”¨çš„æ ‡å‡†åŒ…æ‹¬ï¼š æˆ˜ç•¥ä¸€è‡´ äº§å“ä¼˜åŠ¿ é£é™©é«˜ä½ç¨‹åº¦ æ³•å¾‹æ³•è§„å½±å“ ä¸Šå¸‚æ—¶é—´ å¸‚åœºå¸å¼• åˆ©ç”¨æ ¸å¿ƒç«äº‰åŠ›çš„èƒ½åŠ› æŠ€æœ¯å¯è¡Œæ€§ é€šè¿‡&#x2F;å¤±è´¥è¯„ä¼°ç¤ºä¾‹ è´¢åŠ¡æ€§è¯„ä¼°å»ºç«‹å¯¹æ¯ä¸ªäº§å“æœºä¼šè¿›è¡Œæ½œåœ¨è´¢åŠ¡è¯„ä¼°çš„åŸºç¡€ä¸Š å†³å®šæ–°äº§å“åœ¨è´¢åŠ¡ä¸Šæ˜¯å¦å¯è¡Œ å†³å®šé¡¹ç›®çš„ä¼˜å…ˆçº§ å…·ä½“å¯ç”¨çš„è´¢åŠ¡è¯„ä¼°æ–¹æ³•æœ‰ï¼š å‡€ç°å€¼ï¼ˆNet Persent Valueï¼ŒNPVï¼‰ æŠ•èµ„å›æ”¶æœŸï¼ˆPayback Periodï¼‰ å†…éƒ¨å›æŠ¥ç‡ï¼ˆInternal Rate of Returnï¼ŒIRRï¼‰ æŠ•å…¥äº§å‡ºæ¯”ã€æŠ•èµ„å›æŠ¥ç‡ï¼ˆReturn on Invesmentï¼Œ Rolï¼‰ ä»¥ä¸Šæ¯ç§æ–¹æ³•éƒ½éœ€è¦ é”€å”®æ½œåŠ›åŠå›æŠ¥çš„ç›¸å¯¹å€¼ åˆ¶é€ å’Œè¥é”€æˆæœ¬çš„ç›¸å¯¹å€¼ èµ„é‡‘æŠ•å…¥é¢„ä¼°ï¼ˆå¯¹æ–°å‚æˆ¿ã€è®¾å¤‡ç­‰è¿›è¡Œçš„æŠ•èµ„ï¼‰ è´¢åŠ¡å¯è¡Œæ€§ç ”ç©¶ - å‡€ç°å€¼åˆ†æå‡€ç°å€¼NPVï¼Œè¡¨ç¤ºæœŸæœ›é¡¹ç›®æœªæ¥æ”¶ç›ŠæŠ˜ç®—åˆ°æ­¤åˆ»çš„å€¼çš„æ€»å’Œ è´¢åŠ¡å¯è¡Œæ€§ç ”ç©¶ - æŠ•èµ„å›æŠ¥æœŸæŠ•èµ„å›æŠ¥ç‡ï¼ˆPayback periodï¼‰ï¼šæŒ‡å¤šé•¿æ—¶é—´èƒ½å¤Ÿæ”¶å›åœ¨äº§å“ä¸Šçš„è‡ªç”±æŠ•å…¥ é™æ€æŠ•èµ„å›æ”¶æœŸï¼šä¸è€ƒè™‘èµ„é‡‘çš„æ—¶é—´æˆæœ¬è®¡ç®—æŠ•èµ„å›æ”¶æœŸ åŠ¨æ€æŠ•èµ„å›æ”¶æœŸï¼šè€ƒè™‘èµ„é‡‘çš„æ—¶é—´æˆæœ¬è®¡ç®—æŠ•èµ„å›æ”¶æœŸ æŠ•èµ„å›æ”¶ç‡ &#x3D; 1&#x2F;æŠ•èµ„å›æ”¶æœŸ * 100%ï¼ˆå‡è®¾3.2å¹´æˆæœ¬æ”¶å›ï¼Œåˆ™æŠ•èµ„å›æ”¶ç‡ä¸º30%å·¦å³ï¼‰ æŠ•èµ„å›æŠ¥ç‡ï¼ˆROIï¼‰ &#x3D; è¿è¥æœŸå¹´å‡æ”¶ç›Š&#x2F;æŠ•èµ„æ€»é¢ * 100%ï¼ˆæŠ•èµ„æ”¶ç›Šç‡ï¼‰ï¼ˆå‡è®¾è¿è¥äº†5å¹´ï¼Œå¹³å‡æ¯å¹´æ”¶ç›Š100ï¼ŒæŠ•èµ„æ€»é¢500ï¼Œåˆ™æŠ•èµ„å›æŠ¥ç‡ä¸º20%ï¼‰ å†…éƒ¨æ”¶ç›Šç‡ &#x3D; å‡€ç°å€¼ç­‰äº0çš„æŠ˜ç°ç‡ ä»€ä¹ˆæ˜¯å¹³è¡¡ç»„åˆç›®çš„ï¼šè¾¾åˆ°è‰¯å¥½çš„é£é™©ä¸å›æŠ¥å¹³è¡¡ï¼ŒåŠ å…¥ä¸€äº›æ–°äº§å“æœºä¼š æ–°äº§å“æœºä¼šæ‰€å±çš„ä¸šåŠ¡å•å…ƒã€äº§å“ç±»åˆ«ã€ç›®æ ‡å¸‚åœºï¼Œæˆ–è€…äº§å“ç‰¹å¾ï¼Œéƒ½å¯ä»¥ä½œä¸ºæ–°äº§å“æœºä¼šçš„åˆ†ç±»æ ‡å‡†ã€‚ ä¾‹å¦‚ï¼š çªç ´æ€§é¡¹ç›®ã€è¡ç”Ÿé¡¹ç›®ã€å¹³å°å‹é¡¹ç›®ã€æ”¯æŒæ€§é¡¹ç›® ç ”å‘æˆæœ¬ã€å•†ä¸šåŒ–æˆæœ¬ æ½œåœ¨çš„å›æŠ¥å’Œåˆ©ç›Š é£é™©æ°´å¹³ - å¼€å‘é˜¶æ®µæˆ–å•†ä¸šåŒ–é˜¶æ®µ æŠ€æœ¯éš¾åº¦ - å¼€å‘æˆ–ç»´æŠ¤ ä¸Šå¸‚æ—¶é—´ - ä»å†³å®šå¼€å‘åˆ°è·å¾—å•†ä¸šæ±‡æŠ¥æ—¶é—´ è®¾æ–½è®¾å¤‡ä¸Šçš„èµ„é‡‘æŠ•å…¥ çŸ¥è¯†äº§æƒçš„ä»·å€¼åˆ›é€ æ½œåŠ› æ°”æ³¡å›¾ç»„åˆåˆ†æç”¨æ°”æ³¡å›¾ï¼ˆBubble Diagramï¼‰æ¥å±•ç¤ºäº§å“ç»„åˆæ˜¯å¦æœ‰æ•ˆ é€šå¸¸ï¼Œç”¨æ°”æ³¡å›¾æ¥è¡¨ç¤ºå¤„äºäºŒç»´åæ ‡å›¾ä¸­çš„é¡¹ç›® Xè½´å’ŒYè½´è¡¨ç¤ºå…·ä½“çš„åˆ©ç›Šæ ‡å‡†ï¼Œå¦‚é£é™©å’Œå›æŠ¥ æ°”æ³¡è¡¨ç¤ºå•ä¸ªé¡¹ç›®ï¼Œæ˜¯æ ¹æ®é¡¹ç›®åœ¨Xè½´å’ŒYè½´çš„æ’åºæ‰€ç»˜ æ°”æ³¡çš„å¤§å°è¡¨ç¤ºç¬¬ä¸‰ä¸ªæ ‡å‡†ï¼Œå¦‚æ‰€éœ€æŠ•å…¥èµ„é‡‘æ•°é¢æˆ–èµ„æºä»½é¢ èµ„æºé…ç½®æ–°äº§å“å¼€å‘æˆåŠŸç‡å—é™å› ç´  åŒæ—¶é¡¹ç›®å¤ªå¤š é¡¹ç›®è®¡åˆ’ç³Ÿç³•ï¼Œæ‰§è¡Œä»»åŠ¡èƒ½åŠ›å·® äº§å“å¼€å‘é¡¹ç›®ä¸å…¶ä»–ä¸šåŠ¡æœ‰ä¼˜å…ˆçº§ä¹‹äº‰ ä¸Šå¸‚å»¶æœŸï¼ŒæŒ‰ç…§å®Œæˆéš¾åº¦æå¤§ äº§å“èµ„æºç«äº‰ï¼Œæµç¨‹ä¸åˆç†ï¼Œç¼ºä¹è¾…åŠ©æ”¯æŒ ä»»åŠ¡ä¼˜å…ˆçº§ä¸æ–­å˜åŒ–ï¼Œèµ„æºé…ç½®éšä¹‹æ”¹å˜ ç®¡ç†è€…é™·å…¥å›°å¢ƒï¼Œæ— æ³•æ–½æ•‘é¡¹ç›® èµ„æºé…ç½®æ–¹æ³• åŸºäºé¡¹ç›®èµ„æºçš„éœ€æ±‚ åŸºäºæ–°ä¸šåŠ¡çš„ç›®æ ‡ å°†èµ„æºé…ç½®ä½œä¸ºä¸€ä¸ªä¸šåŠ¡æµç¨‹","categories":[{"name":"äº§å“ç»ç†","slug":"äº§å“ç»ç†","permalink":"https://vkcyan.github.io/categories/%E4%BA%A7%E5%93%81%E7%BB%8F%E7%90%86/"}],"tags":[{"name":"NPDP","slug":"NPDP","permalink":"https://vkcyan.github.io/tags/NPDP/"}]},{"title":"Vue3 + jsxå¼€å‘æŒ‡å—","slug":"æŠ€æœ¯æ–‡ç« /Vue3 ä½¿ç”¨jsxå¼€å‘æŒ‡å—","date":"2022-03-14T16:00:00.000Z","updated":"2022-12-11T13:51:24.086Z","comments":true,"path":"2022/03/15/æŠ€æœ¯æ–‡ç« /Vue3 ä½¿ç”¨jsxå¼€å‘æŒ‡å—/","link":"","permalink":"https://vkcyan.github.io/2022/03/15/%E6%8A%80%E6%9C%AF%E6%96%87%E7%AB%A0/Vue3%20%E4%BD%BF%E7%94%A8jsx%E5%BC%80%E5%8F%91%E6%8C%87%E5%8D%97/","excerpt":"","text":"â€‹ åœ¨2021å¹´ï¼Œvue3å‘å¸ƒäº†æ­£å¼ç‰ˆæœ¬ï¼Œå¹¶ä¸”ç»è¿‡ä¸€å¹´çš„ç»´æŠ¤å·²ç»è¶Šæ¥è¶Šç¨³å®šï¼Œæˆ‘ä»¬åœ¨å…¬å¸é¡¹ç›®ä¸­ä¹Ÿå°èŒƒå›´çš„ä¸Šçº¿äº†vue3çš„é¡¹ç›®ï¼Œæ€»ä½“è¿˜æ˜¯å¾ˆä¸é”™çš„ â€‹ ä½†æ˜¯setupè¯­æ³•éœ€è¦returnæ¯”è¾ƒéº»çƒ¦ï¼Œè¿˜æœ‰.valueé—®é¢˜ï¼Œå°è¯•è¿‡setupè¯­æ³•ç³–ï¼Œä¾æ—§è§‰å¾—setupè¯­æ³•çš„apiè®°å¿†è´Ÿæ‹…æ¯”è¾ƒé‡ â€‹ æ‰€ä»¥ä¸‹åŠå¹´é€æ¸æ‹¾èµ·äº†jsxçš„è¯­æ³•ï¼Œå¹¶åœ¨å¼€æºé¡¹ç›®ä¸­ä½¿ç”¨ï¼Œæ€»ä½“æ„Ÿè§‰è¿˜æ˜¯ç›¸å½“ä¸é”™çš„ï¼Œå‰äººæ ½æ ‘åäººä¹˜å‡‰ï¼Œæœ¬æ–‡å¯¹jsx for vueçš„å¸¸è§é—®é¢˜è¿›è¡Œè¯´æ˜ jsxå­¦ä¹ æˆæœ¬æ›´ä½ï¼Œè¿™ä¹ˆå¤šå¹´jsxæ²¡æœ‰å¤§æ”¹åŠ¨ï¼› æ— è®°å¿†è´Ÿæ‹…ï¼ŒåŒæ—¶è¶³å¤Ÿçµæ´»ï¼Œå¦‚æœä½ æ˜¯vueå¼€å‘è€…ï¼ŒåŒæ—¶å¯¹setupè¯­æ³•å¹¶ä¸æ˜¯å¤ªåˆå¾—æ¥ï¼Œ vue3 + jsxä¹Ÿæ˜¯éå¸¸ä¸é”™çš„é€‰æ‹©~ å‰ç½®çŸ¥è¯†â€‹ åœ¨vue3ä¸­ä½¿ç”¨jsxéœ€è¦å®‰è£…@vitejs&#x2F;plugin-vue-jsxï¼ˆwebpackç‰ˆæœ¬çš„ä¸äº†è§£ï¼Œæœ‰éœ€è¦è€…æ‰§è¡Œæœç´¢ï¼‰ï¼Œæ ¹æ®æ–‡æ¡£é…ç½®ä¸€ä¸‹å°±è¡Œäº†ï¼Œå®˜æ–¹æä¾›äº†æ–‡æ¡£ä¾›å‚è€ƒï¼Œæä¾›äº†ç›¸å…³ç¤ºä¾‹jsx-next,æœ‰reactåŸºç¡€çš„åŒå­¦å¯ä»¥å…ˆçœ‹å®˜æ–¹æ–‡æ¡£ï¼Œåœ¨å¼€å‘è¿‡ç¨‹ä¸­å‡ºç°é—®é¢˜å†çœ‹æœ¬æ–‡ æŒ‡ä»¤v-modelJSX for vueæ˜¯æ”¯æŒv-modelè¯­æ³•çš„ï¼Œè¿™ä¸€ç‚¹æ¯”reactçš„setState,ä½“éªŒæ„Ÿç¡®å®è¦å¥½ 1234567891011// æ­£å¸¸å†™æ³•&lt;input v-model=&quot;value&quot; /&gt; // vue&lt;input v-model=&#123;value&#125; /&gt; // jsx// æŒ‡å®šå€¼å†™æ³•&lt;input v-model:modelValue=&quot;value&quot; /&gt; // vue&lt;input v-model=&#123;[value,&#x27;modelValue&#x27;]&#125; /&gt; // jsx // ä¿®é¥°ç¬¦å†™æ³•&lt;input v-model:modelValue.trim=&quot;value&quot; /&gt; // vue&lt;input v-model=&#123;[value,&#x27;modelValue&#x27;,[&#x27;trim&#x27;]]&#125; /&gt; // jsx v-showè¿™ä¸ªapiä¸åœ¨vueä¸­çš„è¡¨ç°å½¢å¼ä¸€è‡´ 12&lt;div v-show=&quot;isShow&quot;&gt;&lt;/div&gt; // vue&lt;div v-show=&#123;isShow&#125;&gt;&lt;/div&gt; // jsx v-bind1234567891011121314// vue&lt;a-modal :width=&quot;&#x27;400px&#x27;&quot; :title=&quot;&#x27;è®¾ç½®ç»„ä»¶åç§°&#x27;&quot; &gt; // ....&lt;/a-modal&gt;// jsx&lt;a-modal width=&#123;&quot;400px&quot;&#125; title=&#123;&quot;è®¾ç½®ç»„ä»¶åç§°&quot;&#125; &gt; // ....&lt;/a-modal&gt; v-ifåœ¨jsx for vueä¸­æ²¡æœ‰è¿™ä¸ªapiï¼Œæˆ‘ä»¬éœ€è¦ç”¨jsxé£æ ¼æ¥å®ç°v-ifçš„æ•ˆæœ å¯ä»¥ç®€å•ç†è§£ä¸ºjsxç›´æ¥å°†ifæ¬åˆ°htmlä¸­ 12&lt;div v-if=&quot;isShow&quot;&gt; ... &lt;/div&gt; // vue&#123;isShow &amp;&amp; &lt;div&gt; ... &lt;/div&gt;&#125; // jsx äº‹ä»¶äº‹ä»¶è¯­æ³•jsx for vueï¼Œæ‰€æœ‰çš„äº‹ä»¶éƒ½æŒ‰ç…§reacté£æ ¼æ¥ æ‰€æœ‰äº‹ä»¶æœ‰onå¼€å¤´ æ‰€æœ‰äº‹ä»¶åç§°é¦–å­—æ¯å¤§å†™ ä¾‹å¦‚ï¼š@click &#x3D;&gt; onClick @change &#x3D;&gt; onChange @drop &#x3D;&gt; onDrop äº‹ä»¶ä¿®é¥°ç¬¦è¿™é‡Œæ²¡æœ‰æ‰¾åˆ°æƒå¨çš„èµ„æ–™ï¼Œæœ‰å°ä¼™ä¼´çŸ¥é“ä¹Ÿè¯·å‘ŠçŸ¥ä¸€ä¸‹ï¼Œç›®å‰å»ºè®®å¤§å®¶é€šè¿‡åŸç”ŸJavaScriptæ¥å®ç°vueäº‹ä»¶ä¿®é¥°ç¬¦çš„æ•ˆæœ .stop ï¼š é˜»æ­¢äº‹ä»¶å†’æ³¡ï¼Œåœ¨JSXä¸­ä½¿ç”¨event.stopPropagation()æ¥ä»£æ›¿ .preventï¼šé˜»æ­¢é»˜è®¤è¡Œä¸ºï¼Œåœ¨JSXä¸­ä½¿ç”¨event.preventDefault() æ¥ä»£æ›¿ APIrefä¸reactivevue3çš„templateä¼šè‡ªåŠ¨è§£ærefçš„.value,åœ¨jsxä¸­refçš„.valueæ˜¯ä¸ä¼šè¢«è‡ªåŠ¨è§£æçš„ 1234//å£°æ˜å˜é‡ let type = ref(1)&lt;p&gt;&#123;&#123; type &#125;&#125;&lt;/p&gt; // vue&lt;p&gt;&#123;type.value&#125;&lt;/p&gt; // jsx propsåœ¨jsx for vueä¸­ï¼Œpropsçš„è¯­æ³•ä½¿ç”¨çš„å°±æ˜¯setupçš„è¯­æ³•ï¼Œå®é™…è¡¨ç°å½¢å¼å®Œå…¨ä¸€è‡´ 1234567891011export default defineComponent(&#123; props: [&#x27;title&#x27;], setup(props) &#123; onMounted(() =&gt; &#123; console.log(props.title); &#125;) return () =&gt; ( &lt;div&gt;&#123;props.title&#125;&lt;/div&gt; ) &#125;&#125;) emitåŒæ ·ä¸vue3çš„setupè¯­æ³•ä¿æŒä¸€è‡´ï¼Œæ³¨æ„å­çˆ¶æ–¹æ³•éœ€è¦ç¬¦åˆreactè§„èŒƒ 123emit(&#x27;changeVisible&#x27;, false) // å­ç»„ä»¶ &lt;xxx onChangeVisible=&#123;(params) =&gt; xxxFun(params)&#125;&gt;&lt;/xxx&gt; // çˆ¶ç»„ä»¶ soltå¦‚ä½•å†™æ’æ§½è¿™é‡Œä»¥antd for vueçš„Popover æ°”æ³¡å¡ç‰‡ï¼Œä¸ºä¾‹å­ Vue3è¯­æ³•123456&lt;a-popover title=&quot;Title&quot;&gt; &lt;template #content&gt; &lt;span&gt;Content&lt;/span&gt; &lt;/template&gt; &lt;a-button type=&quot;primary&quot;&gt;Hover me&lt;/a-button&gt;&lt;/a-popover&gt; jsx for vueè¯­æ³•123456789&lt;a-popover title=&quot;Title&quot; content=&#123; &lt;&gt; &lt;span&gt;Content&lt;/span&gt; &lt;/&gt; &#125;&gt; &lt;a-button type=&quot;primary&quot;&gt;Hover me&lt;/a-button&gt;&lt;/a-popover&gt; åŸºç¡€æ¨¡æ¿12345678910111213import &#123; defineComponent, onMounted, ref &#125; from &#x27;vue&#x27;;export default defineComponent(&#123; // props: [&#x27;xx&#x27;], setup(props,&#123; emit &#125;) &#123; onMounted(() =&gt; &#123; // ... &#125;) return () =&gt; ( &lt;div&gt;&lt;/div&gt; ) &#125;&#125;) ç»“è¯­ å›½å†…è¿™æ–¹é¢èµ„æ–™æ¯”è¾ƒå°‘ï¼ŒæŸ¥é—®é¢˜çš„æ—¶å€™æ³¨æ„vueç‰ˆæœ¬ï¼Œä»¥åŠjsxçš„ä½¿ç”¨ï¼ˆrenderæ–¹å¼æœ¬æ–‡ä¸é€‚ç”¨ï¼‰ å¦‚æœä»£ç é‡Œé¢å­˜åœ¨é—®é¢˜ï¼Œå¦‚æœæ˜¯uiæ¡†æ¶ï¼Œå»ºè®®ç›´æ¥çœ‹reactç‰ˆæœ¬çš„ä»£ç ï¼Œä¾‹å¦‚antdvçš„jsxç‰ˆæœ¬ç›´æ¥çœ‹antdçš„å®ä¾‹ä»£ç  ç›´æ¥çœ‹jsxè¯­æ³•çš„é¡¹ç›®ä»£ç ï¼ŒH5-YD.v2 ä¸æ¥å—æ ç²¾ï¼Œä¾‹å¦‚å†™jsxä¸ºå•¥ä¸å»ç”¨ä½¿ç”¨react å¦‚æœåœ¨å­¦ä¹ è¿‡ç¨‹ä¸­é‡åˆ°äº†è§£å†³ä¸äº†çš„é—®é¢˜ï¼Œè¯·åˆ°QQç¾¤ 530496237ï¼Œå¤§ä½¬è§£ç­”ç–‘æƒ‘~","categories":[{"name":"JavaScript-2022","slug":"JavaScript-2022","permalink":"https://vkcyan.github.io/categories/JavaScript-2022/"}],"tags":[{"name":"JavaScript","slug":"JavaScript","permalink":"https://vkcyan.github.io/tags/JavaScript/"}]},{"title":"Viteé…ç½®aliasï¼ˆè®¾ç½®åˆ«åï¼‰","slug":"æŠ€æœ¯æ–‡ç« /viteé…ç½®alias","date":"2022-03-14T16:00:00.000Z","updated":"2022-12-11T13:51:24.087Z","comments":true,"path":"2022/03/15/æŠ€æœ¯æ–‡ç« /viteé…ç½®alias/","link":"","permalink":"https://vkcyan.github.io/2022/03/15/%E6%8A%80%E6%9C%AF%E6%96%87%E7%AB%A0/vite%E9%85%8D%E7%BD%AEalias/","excerpt":"","text":"Viteé…ç½®aliaséœ€è¦ä¸¤æ­¥è¿›è¡Œï¼ˆTSé¡¹ç›®ï¼‰ 1ã€ä¿®æ”¹vite.config.tsï¼ˆè®©ç¨‹åºæ”¯æŒï¼‰ 2ã€ä¿®æ”¹tsconfig.jsonï¼ˆè®©ç¼–è¾‘å™¨æ”¯æŒï¼‰ ä¿®æ”¹viteé…ç½®12345678910111213141516171819import &#123; defineConfig &#125; from &#x27;vite&#x27;import vue from &#x27;@vitejs/plugin-vue&#x27;import path from &#x27;path&#x27;function _resolve(dir: string) &#123; return path.resolve(__dirname, dir)&#125;// https://vitejs.dev/config/export default defineConfig(&#123; plugins: [vue()], // é…ç½®é¡¹ç›®åˆ«å resolve: &#123; alias: &#123; &#x27;@&#x27;: _resolve(&#x27;src&#x27;), &#125;, &#125;,&#125;) ä¿®æ”¹tsconfig.json123456789101112131415161718192021222324252627282930313233343536373839404142434445464748&#123; &quot;compilerOptions&quot;: &#123; &quot;target&quot;: &quot;esnext&quot;, &quot;module&quot;: &quot;esnext&quot;, &quot;moduleResolution&quot;: &quot;node&quot;, &quot;strict&quot;: true, &quot;jsx&quot;: &quot;preserve&quot;, &quot;noImplicitAny&quot;: false, &quot;sourceMap&quot;: true, &quot;resolveJsonModule&quot;: true, &quot;esModuleInterop&quot;: true, &quot;importHelpers&quot;: true, // ä¸è®©åŒæ ·çš„è¾…åŠ©å‡½æ•°é‡å¤çš„å‡ºç°åœ¨å¤šä¸ªæ–‡ä»¶ä¸­ &quot;allowSyntheticDefaultImports&quot;: true, // å…è®¸å¯¹ä¸åŒ…å«é»˜è®¤å¯¼å‡ºçš„æ¨¡å—ä½¿ç”¨é»˜è®¤å¯¼å…¥ã€‚ &quot;baseUrl&quot;: &quot;.&quot;, // éç›¸å¯¹æ¨¡å—çš„å¯¼å…¥å¯ä»¥ç›¸å¯¹äºbaseUrlæˆ–é€šè¿‡ä¸‹æ–‡ä¼šè®²åˆ°çš„è·¯å¾„æ˜ å°„æ¥è¿›è¡Œè§£æ &quot;lib&quot;: [ &quot;esnext&quot;, &quot;dom&quot; ], &quot;paths&quot;: &#123; // é…ç½®å¯¼å‡ºè·¯å¾„ï¼ˆè¿™é‡Œæ ¹æ®è‡ªå·±é¡¹ç›®æ‰§è¡Œä¿®æ”¹ï¼‰ &quot;@/stores*&quot;: [ &quot;./src/stores*&quot; ], &quot;@/components*&quot;: [ &quot;./src/components*&quot; ], &quot;@/modules*&quot;: [ &quot;./src/modules*&quot; ], &quot;@/utils*&quot;: [ &quot;./src/utils*&quot; ], &#125;, &quot;types&quot;: [ &quot;element-plus/global&quot; ] &#125;, &quot;exclude&quot;: [ &quot;node_modules&quot;, ], &quot;include&quot;: [ &quot;src/*&quot;, &quot;src/**/*.vue&quot;, &quot;src/**/*.tsx&quot;, &quot;src/**/*.jsx&quot;, &quot;src/**/*.ts&quot;, &quot;src/**/*.js&quot; ]&#125; ç»“è¯­ ä¿®æ”¹åè¯·é‡å¯ç¼–è¾‘å™¨ æœ¬æ–‡éªŒè¯ä¸2022å¹´1æœˆ10å·ï¼Œmacï¼ŒwinåŒå¹³å°å‡æœ‰æ•ˆï¼Œå¦‚æœä»¥ä¸Šé…ç½®æ— æ•ˆäº†ï¼Œè¯·æŸ¥çœ‹ç›¸å…³apiçš„æ”¹åŠ¨ å¦‚æœå¸®åŠ©ä½ è§£å†³äº†é—®é¢˜ï¼ŒåŠ¨åŠ¨å°æ‰‹ç‚¹ä¸ªèµå§ï¼:)","categories":[{"name":"JavaScript-2022","slug":"JavaScript-2022","permalink":"https://vkcyan.github.io/categories/JavaScript-2022/"}],"tags":[{"name":"JavaScript","slug":"JavaScript","permalink":"https://vkcyan.github.io/tags/JavaScript/"}]},{"title":"Vue3.x é¢„æ¸²æŸ“ Unable to prerender all routesé”™è¯¯æ’æŸ¥","slug":"æŠ€æœ¯æ–‡ç« /vue3.x é¢„æ¸²æŸ“ Unable to prerender all routesé”™è¯¯æ’æŸ¥","date":"2022-03-14T16:00:00.000Z","updated":"2022-12-11T13:51:24.087Z","comments":true,"path":"2022/03/15/æŠ€æœ¯æ–‡ç« /vue3.x é¢„æ¸²æŸ“ Unable to prerender all routesé”™è¯¯æ’æŸ¥/","link":"","permalink":"https://vkcyan.github.io/2022/03/15/%E6%8A%80%E6%9C%AF%E6%96%87%E7%AB%A0/vue3.x%20%E9%A2%84%E6%B8%B2%E6%9F%93%20Unable%20to%20prerender%20all%20routes%E9%94%99%E8%AF%AF%E6%8E%92%E6%9F%A5/","excerpt":"","text":"å‰è¨€â€‹ BOOSæœ€è¿‘å¯¹å‰å‡ å¹´åšçš„å…¬å¸å®˜ç½‘ä¸å¤ªæ»¡æ„ï¼Œè§‰å¾—æ²¡æœ‰æœ‰æ•ˆä½“ç°å…¬å¸çš„ä¼˜åŠ¿ï¼Œè¡¨æ˜éšç€å…¬å¸è¿™å‡ å¹´çš„åŠªåŠ›å‘å±•ï¼Œæˆ‘ä»¬å°†ä¼šæ¥è§¦åˆ°æ›´å¤§è§„æ¨¡çš„åˆä½œä¼™ä¼´ï¼Œè‡ªç„¶è¦å±•ç¤ºæ›´å¥½çš„ä¼ä¸šå½¢è±¡ï¼Œæ‰€ä»¥å®˜ç½‘é‡åšã€‚ éœ€æ±‚åˆ†æ æ²¡æœ‰äº¤äº’çš„é™æ€é¡µé¢ï¼Œä½†æ˜¯å­˜åœ¨å¤§é‡åŠ¨ç”» éœ€è¦æ”¯æŒè‰¯å¥½çš„SEO â€‹ æœ€æ—©æœŸçš„å®˜ç½‘æ˜¯vue2.x + webpack3.x + vue-cli-plugin-prerender-spaè¿›è¡Œå®ç°çš„ï¼Œæ•ˆæœæŒºä¸é”™ï¼Œå¾ˆå¿«å„å¤§æœç´¢å¼•æ“å°±æ”¶å½•äº†æˆ‘ä»¬çš„ç½‘ç«™ï¼Œæ‰€ä»¥è¿™æ¬¡æˆ‘ä»¬æ‰“ç®—æ²¿ç”¨æ­¤æ–¹æ¡ˆï¼Œä¸è¿‡ä½¿ç”¨æœ€æ–°æŠ€æœ¯æ ˆï¼› ä¸ºä»€ä¹ˆä¸ç”¨viteâ€‹ æŸ¥é˜…viteçš„ç”Ÿæ€åï¼Œæœªæ‰¾åˆ°ç±»ä¼¼prerender-spaçš„pluginï¼Œæ²¡åŠæ³•æ”¯æŒé¢„æ¸²æŸ“ï¼Œæ‰€ä»¥viteå°±è¢«æ·˜æ±°äº†ã€‚ ä¸ºä»€ä¹ˆä¸ç”¨unxtjsâ€‹ æˆ‘ä»¬çš„å®˜ç½‘ä¸å…·å¤‡å¤§é‡çš„æ¥å£äº¤äº’ï¼Œç”¨Nnxtjså¤šå°‘æœ‰ç‚¹æ€é¸¡ç”¨ç‰›åˆ€äº†ï¼Œå¹¶ä¸”è¿˜éœ€è¦ä½¿ç”¨pm2éƒ¨ç½²ä»£ç ï¼Œä»˜å‡ºäºæ”¶è·ä¸æˆæ­£æ¯”ï¼Œè¢«æ·˜æ±°ã€‚ æœ€ç»ˆæ–¹æ¡ˆâ€‹ æˆ‘ä»¬éƒ¨é—¨æ˜¯vueæŠ€æœ¯æ ˆï¼Œå›¢é˜Ÿä¸è€ƒè™‘reactï¼Œé€šè¿‡ä»¥ä¸Šæ’é™¤æ³•ï¼Œåªèƒ½ä½¿ç”¨vue3.x + webpack5.x + prerender-spaè¿›è¡Œä¸šåŠ¡å®ç°äº†ã€‚ æŠ€æœ¯å®ç°åŸºç¡€æ¨¡æ¿æˆ‘ä»¬ä½¿ç”¨æœ€æ–°çš„vue-cliè¿›è¡Œé¡¹ç›®æ­å»ºï¼Œé€‰æ‹©vue3ç‰ˆæœ¬ï¼Œæœ€è¿‘çš„clié»˜è®¤å°±æ˜¯webpack5 å®‰è£…é¢„æ¸²æŸ“æ’ä»¶1npm i prerender-spa-plugin -D å¢åŠ é…ç½®123456789101112131415161718const &#123; defineConfig &#125; = require(&#x27;@vue/cli-service&#x27;)const PrerenderSPAPlugin = require(&#x27;prerender-spa-plugin&#x27;)const path = require(&#x27;path&#x27;)module.exports = defineConfig(&#123; transpileDependencies: true, configureWebpack: (config) =&gt; &#123; if (process.env.NODE_ENV === &#x27;production&#x27;) &#123; config.plugins.push( new PrerenderSPAPlugin(&#123; staticDir: path.join(__dirname, &#x27;dist&#x27;), routes: [&#x27;/xxx&#x27;], &#125;) ) &#125; &#125;,&#125;) æ‰“åŒ…æµ‹è¯•1npm run build ç„¶åå°±å‡ºç°ä¸€ä¸ªé”™è¯¯ 1[prerender-spa-plugin] Unable to prerender all routes! è®©æˆ‘ä»¬ä¸€èµ·æŠ½ä¸å‰¥èŒ§ï¼Œçœ‹çœ‹æŠ¥é”™çš„å…·ä½“åŸå› ã€‚ é”™è¯¯æ’æŸ¥å› ä¸ºæŠ¥é”™æç¤ºå¾ˆæ¨¡ç³Šï¼Œæˆ‘ä»¬æ‰“å¼€ä»–çš„æºç ï¼Œåœ¨æºç line144å‘ç”Ÿé”™è¯¯çš„åœ°æ–¹å¢åŠ logï¼Œäº†è§£å…·ä½“æŠ¥é”™ã€‚ å†æ¬¡æ‰§è¡Œnpm run buildï¼Œå¾—åˆ°çœŸæ­£çš„é”™è¯¯ã€‚ 1Building for production...error TypeError: compilerFS.mkdirp is not a function â€‹ æˆ‘ä»¬ç»§ç»­æœ€ç»ˆæºç å‘ç° compilerFS ç”±webpackè¿›è¡Œæä¾›ï¼Œæˆ‘ä»¬å¸¦ç€é”™è¯¯å‰å¾€webpackå®˜ç½‘æŸ¥è¯¢é”™è¯¯ï¼Œäºæ˜¯å°±æ‰¾åˆ°äº†Filesystemsï¼Œå› ä¸ºè¿™ä¸ªæ’ä»¶å·²ç»å¥½å‡ å¹´æ²¡æœ‰æ›´æ–°ï¼Œè€Œæˆ‘ä»¬å½“å‰ä½¿ç”¨çš„æ˜¯webpack5ï¼Œå‡ºç°äº†APIå˜æ›´çš„æƒ…å†µã€‚ â€‹ äºæ­¤åŒæ—¶ï¼Œæ ¹æ®é”™è¯¯æç¤ºï¼Œæˆ‘ä»¬ä¹Ÿåœ¨è¯¥åº“çš„issuesä¸­æ‰¾åˆ°äº†å†å²è®¨è®ºã€‚ åœ¨è®¨è®ºä¸­ï¼Œæ‰¾åˆ°äº†ä¸¤ç§è§£å†³æ–¹æ¡ˆ ä¿®æ”¹node_modulesæºç ï¼Œä½¿å…¶å…¼å®¹webpack5 1234567891011// From https://github.com/ahmadnassri/mkdirp-promise/blob/master/lib/index.js const mkdirp = function (dir, opts) &#123; return new Promise((resolve, reject) =&gt; &#123; console.log(&#x27;\\ndir&#x27;, dir, opts, &#x27;\\n&#x27;); try &#123; compilerFS.mkdirp(dir, opts, (err, made) =&gt; err === null ? resolve(made) : reject(err)) &#125; catch(e) &#123; compilerFS.mkdir(dir, opts, (err, made) =&gt; err === null ? resolve(made) : reject(err)) &#125; &#125;) &#125; ä½¿ç”¨å·²ç»è¢«ä¿®æ”¹çš„åº“ï¼Œæ„Ÿè°¢è¿™ä½å¤§å“¥ 1npm i @dreysolano/prerender-spa-plugin æˆ‘ä»¬ä½¿ç”¨ç¬¬äºŒç§æ–¹æ¡ˆï¼Œé‡æ–°ä¿®æ”¹vue.config.js 12- const PrerenderSPAPlugin = require(&#x27;prerender-spa-plugin&#x27;)+ const PrerenderSPAPlugin = require(&#x27;@dreysolano/prerender-spa-plugin&#x27;) ç„¶åå†æ¬¡æ‰“åŒ…æµ‹è¯• æ‰“åŒ…æˆåŠŸï¼Œé€šè¿‡å¯åŠ¨æœ¬åœ°æœåŠ¡å™¨curlå‘½ä»¤æµ‹è¯•å¾—çŸ¥ï¼ŒSEOåŠŸèƒ½æ­£å¸¸ï¼Œæœªå‘ç°é—®é¢˜ã€‚ æ€»ç»“â€‹ ä½¿ç”¨prerender-spa-pluginæ‰“åŒ…å‡ºç°æŠ¥é”™[prerender-spa-plugin] Unable to prerender all routes!ï¼Œæ›´æ¢åº“ä¸º**@dreysolano&#x2F;prerender-spa-plugin**ï¼Œå³å¯è§£å†³é—®é¢˜ã€‚","categories":[{"name":"JavaScript-2022","slug":"JavaScript-2022","permalink":"https://vkcyan.github.io/categories/JavaScript-2022/"}],"tags":[{"name":"JavaScript","slug":"JavaScript","permalink":"https://vkcyan.github.io/tags/JavaScript/"}]},{"title":"å†™ç»™å‰ç«¯æ–°äººçš„nginxæ•™ç¨‹","slug":"æŠ€æœ¯æ–‡ç« /å‰ç«¯å·¥ç¨‹å¸ˆçš„nginxæ•™ç¨‹","date":"2022-03-14T16:00:00.000Z","updated":"2022-12-11T13:51:24.088Z","comments":true,"path":"2022/03/15/æŠ€æœ¯æ–‡ç« /å‰ç«¯å·¥ç¨‹å¸ˆçš„nginxæ•™ç¨‹/","link":"","permalink":"https://vkcyan.github.io/2022/03/15/%E6%8A%80%E6%9C%AF%E6%96%87%E7%AB%A0/%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B%E5%B8%88%E7%9A%84nginx%E6%95%99%E7%A8%8B/","excerpt":"","text":"å‰è¨€â€‹ æˆ‘ç›¸ä¿¡å¤§éƒ¨åˆ†å‰ç«¯æ–°æ‰‹æ˜¯æ¥è§¦ä¸åˆ°éƒ¨ç½²ç›¸å…³çš„å·¥ä½œçš„ï¼Œä¸€èˆ¬éƒ½æ˜¯å°†ä»£ç åŒ…äº¤ç»™åç«¯ï¼Œæˆ–è€…é€šè¿‡CIï¼ŒFTPå®Œæˆä»£ç çš„æ›´æ–°ï¼Œè‡³äºä»£ç å¦‚ä½•éƒ¨ç½²ï¼Œå¦‚ä½•ä»åŸŸååˆ°å‰ç«¯ä»£ç åŒ…ï¼Œå¾ˆå¤šå‰ç«¯ä»”æ²¡æœ‰å®é™…æ“ä½œè¿‡ï¼Œè‡ªç„¶æ˜¯ä¸çŸ¥é“çš„ï¼Œè¿™ç¯‡æ–‡ç« å°±æ˜¯è¦å¸®åŠ©æœªæ¥è§¦è¿‡éƒ¨ç½²çš„äººå­¦ä¼šåœ¨æœåŠ¡å™¨ä¸Šçº¿éƒ¨ç½²ä¸€ä¸ªå‰ç«¯é¡¹ç›®ï¼Œåœ¨è¿™ä¸ªä¸»çº¿ä¸­å¸¦å¤§å®¶æ…¢æ…¢çš„ç†Ÿæ‚‰nginx â€‹ è®°å¾—åœ¨2017å¹´æš‘å‡ï¼Œé‚£æ—¶å€™å¤§äºŒè¿˜æ²¡å¼€å­¦ï¼Œå½“æ—¶æˆ‘åªä¼šå†™ä¸€ç‚¹ç®€å•ä»£ç ï¼Œlinuxå’Œè¿ç»´å®Œå…¨æ²¡æ¥è§¦è¿‡ï¼Œä¸€å†²åŠ¨åœ¨é˜¿é‡Œäº‘è´­ä¹°äº†ä¸€ä¸ªæœåŠ¡å™¨ï¼Œå¤–åŠ ä¸€ä¸ªåŸŸåï¼Œå¥½åƒè¿˜æ˜¯xiaowuasy.top,ç°åœ¨å·²ç»ä¸èƒ½è®¿é—®äº†ï¼›é‚£æ—¶å€™å•çº¯çš„å…´è¶£ä½¿ç„¶ï¼Œæƒ³æ­å»ºä¸€ä¸ªç½‘ç«™ï¼Œå› ä¸ºå®åŠ›ä¸è¶³ï¼Œä¹Ÿä¸çŸ¥é“æ±‚åŠ©åˆ«äººï¼Œå‰å‰ååæŠ˜è…¾äº†ä¸€ä¸ªæœˆï¼Œæœ€ç»ˆç«Ÿç„¶æˆåŠŸåœ¨æœåŠ¡å™¨ä¸Šé¢éƒ¨ç½²äº†wordpressæœåŠ¡ï¼Œåé¢åŸŸåå¤‡æ¡ˆä¹ŸæˆåŠŸäº†ï¼› â€‹ è¿™æ®µç»å†æ˜¯æ›²æŠ˜çš„ï¼Œä¾ç¨€è®°å¾—åœ¨ç››å¤çš„å‚æ™šï¼Œæˆ‘ååœ¨æ…¢æ…¢æš—ä¸‹æ¥çš„å®¢å…ï¼Œå¤´ä¸Šè¿˜æ®‹ç•™ç€å› ä¸ºç´§å¼ æµä¸‹çš„ç»†æ±—ï¼Œçœ¼ç›å› ä¸ºä¸“æ³¨è€Œå¹²æ¶©ï¼Œé¢å¯¹ä¸å¤ªçœ‹å¾—æ‡‚çš„æ–‡æ¡£ï¼Œä¸€éä¸€éå°è¯•ï¼›æˆ‘è‡ªç„¶ä¸å¸Œæœ›å¤§å®¶åœ¨è¿™ä¸Šé¢æµªè´¹æ—¶é—´ï¼Œè¿™ä¹Ÿæ˜¯å†™è¿™ç¯‡æ–‡ç« çš„åˆè¡· å‰ç½®çŸ¥è¯† ä¸€ä¸ªäº‘æœåŠ¡å™¨ï¼Œé˜¿é‡Œäº‘ï¼Œè…¾è®¯äº‘ï¼Œxxäº‘éƒ½è¡Œï¼Œé¦–æ¬¡è´­ä¹°æˆ–è€…å­¦ç”Ÿè®¤è¯éƒ½æ˜¯æœ‰å¾ˆå¤§çš„ä¼˜æƒ ï¼ˆæœ¬æ–‡ä»¥é˜¿é‡Œäº‘ä¸ºä¾‹å­ï¼‰ äº†è§£linuxåŸºç¡€å‘½ä»¤ï¼Œä¹Ÿå°±æ˜¯å¯¹å„ç§æ–‡ä»¶çš„å¢åˆ æ”¹æŸ¥ æœ¬æ•™ç¨‹åŸºäºCentOS 7.5ç³»ç»Ÿï¼Œå¦‚æœæ˜¯å›¾å½¢åŒ–ç•Œé¢ï¼Œæˆ–è€…å…¶ä»–ç³»ç»Ÿï¼Œå‘½ä»¤å¯èƒ½ä¸å®Œå…¨ä¸€è‡´ï¼Œä½†æ˜¯æµç¨‹éƒ½æ˜¯ä¸€è‡´çš„ï¼Œå»ºè®®çœ‹å¯¹åº”æ•™ç¨‹ å¦‚æœlinuxåŸºç¡€å‘½ä»¤ä¸ä¼šã€‚ä¸‹é¢çš„ä¹Ÿä¸ç”¨çœ‹äº†ï¼Œç«‹åˆ»å»å­¦ æ­å»ºç¯å¢ƒè¿æ¥æœåŠ¡å™¨é€šè¿‡è¿œç¨‹å·¥å…·ï¼ˆCRTï¼ŒXshellï¼‰æˆ–è€…è‡ªå¸¦çš„è¿œç¨‹è¿æ¥è¿›å…¥è‡ªå·±çš„æœåŠ¡å™¨ï¼Œè¿æ¥æ–¹å¼é€‰æ‹©å…¬ç½‘ip å®‰è£…nginx CentOSè‡ªå¸¦yumå‘½ä»¤ï¼Œè¿™ä¸ªå‘½ä»¤å¾ˆå…³é”®ï¼Œè‡ªè¡Œäº†è§£ æ‰§è¡Œå‘½ä»¤ 1yum install nginx // ç»ˆäºé‡åˆ°éœ€è¦ç¡®è®¤çš„ï¼Œç›´æ¥ç¡®è®¤å³å¯ å®‰è£…å®Œæˆå,ä¸»æœºä¸­ä¾¿æœ‰äº†nginxæœåŠ¡ï¼Œç›¸å…³å‘½ä»¤å¦‚ä¸‹ï¼Œå¯åŠ¨å®Œæˆå 1nginx å¯åŠ¨å®Œæˆåï¼Œæµè§ˆå™¨è®¿é—®å…¬ç½‘IP,å°±å¯ä»¥è®¿é—®åˆ°nginxçš„é»˜è®¤ä¸»é¡µ åˆ°è¿™ä¸€æ­¥å°±ç®—æ˜¯nginxéƒ¨ç½²æˆåŠŸäº† nginxç›¸å…³æ–‡ä»¶è·¯å¾„12/etc/nginx/ // é…ç½®æ–‡ä»¶/usr/share/nginx/ // é»˜è®¤å‰ç«¯ä»£ç å­˜æ”¾å¤„ â€‹ é»˜è®¤é…ç½®åœ¨/etc/nginx/nginx.conf,nginxæ ¹æ®é»˜è®¤é…ç½®ï¼Œç›‘å¬80ç«¯å£ï¼Œ80ç«¯å£æŒ‡å®šäº†&#x2F;usr&#x2F;share&#x2F;nginx&#x2F;htmlè¿™ä¸ªæ–‡ä»¶å¤¹ï¼Œäºæ˜¯ä½ è®¿é—®å…¬ç½‘ip -&gt; å…¬ç½‘ip:80 -&gt; &#x2F;usr&#x2F;share&#x2F;nginx&#x2F;html,äºæ˜¯â€Welcome to CentOSâ€œä¾¿å‘ˆç°åœ¨ä½ çš„é¢å‰ â€‹ å¦‚æœä½ å¸Œæœ›ä¸æ˜¾ç¤ºé»˜è®¤çš„é¡µé¢ï¼Œè€Œæ˜¯æ˜¾ç¤ºä½ è‡ªå·±å†™çš„é¡¹ç›®ï¼Œç›´æ¥æ›¿æ¢/etc/nginx/nginx.confä¸­çš„root,å­—æ®µä¸ºè‡ªå·±ç¨‹åºåŒ…çš„è·¯å¾„ åœ¨6666ç«¯å£ä¸Šæ­å»ºä¸€ä¸ªç«™ç‚¹â€‹ æˆ‘ä»¬çš„ä»£ç é™¤äº†éƒ¨ç½²åœ¨é»˜è®¤80ç«¯å£ä¸Šé¢ï¼Œè¿˜å¯ä»¥å…¶ä»–ç«¯å£ä¸Šï¼Œä¾‹å¦‚8888ï¼Œ7777ï¼Œç­‰ç­‰ â€‹ æ¥ä¸‹æ¥æˆ‘ä»¬å°±åœ¨ä¸€ä¸ªè‡ªå®šä¹‰çš„ç«¯å£ä¸Šé¢éƒ¨ç½²ä¸€ä¸ªç«™ç‚¹ â€‹ è¿™é‡Œæˆ‘ä»¬éœ€è¦æ³¨æ„nginx.confä¸­çš„ä¸€è¡Œé…ç½® å«ä¹‰ï¼šåœ¨&#x2F;etc&#x2F;nginx&#x2F;conf.dä¸‹é¢æ‰€æœ‰nginxçš„é…ç½®æ–‡ä»¶éƒ½ä¼šè‡ªåŠ¨ç”Ÿæ•ˆ æ ¹æ®é…ç½®æ–‡ä»¶çš„æç¤ºæˆ‘ä»¬åˆ°ç›®æ ‡æ–‡ä»¶å¤¹ä¸‹é¢ï¼Œå»ºç«‹test.confï¼Œåå­—æ— æ‰€è°“ï¼Œé…ç½®æ–‡ä»¶é‡Œé¢æ˜¯é€šé…ç¬¦åŒ¹é…çš„ å¹¶é€šè¿‡vi å†™å…¥å†…å®¹ 123456server &#123; listen 7777; server_name _; root /usr/share/nginx/test;&#125; å†å»æ–‡ä»¶å¤¹/usr/share/nginx/testä¸‹å»ºç«‹ä¸€ä¸ªindex.html 123mkdir test cd testvi index.html å°†ä¸€ä¸‹å†…å®¹æ”¾å…¥index.htmlç§ 123456789101112&lt;!DOCTYPE html&gt;&lt;html lang=&quot;en&quot;&gt;&lt;head&gt; &lt;meta charset=&quot;UTF-8&quot;&gt; &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot;&gt; &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt; &lt;title&gt;Document&lt;/title&gt;&lt;/head&gt;&lt;body&gt; &lt;div&gt;æˆ‘æ˜¯7777ç«¯å£&lt;/div&gt;&lt;/body&gt;&lt;/html&gt; æœ€åé‡å¯nginx 1nginx -s reload è®¿é—®æˆ‘ä»¬éƒ¨ç½²çš„é¡¹ç›®ip:7777 ç„¶åä½ ä¼šå‘ç°è®¿é—®ä¸äº†ï¼Œæœ€ç»ˆè®¿é—®è¶…æ—¶(&#x3D;&#x3D;)ï¼Œè¿™æ˜¯å› ä¸ºæœåŠ¡å™¨é™åˆ¶äº†å¯è®¿é—®ç«¯å£ï¼Œæ­¤æ—¶éœ€è¦åˆ°äº‘ç®¡ç†åå°è®¾ç½®å®‰å…¨ç»„ åœ¨é˜¿é‡Œäº‘åå°å¢åŠ å®‰å…¨ç»„è§„åˆ™ ä¹‹åå°±å¯ä»¥æ­£å¸¸è®¿é—®äº†ï¼ è‡³æ­¤ï¼Œä¾¿å®Œæˆäº†ç¬¬ä¸€ä¸ªnginxé¡¹ç›®çš„éƒ¨ç½² éƒ¨ç½²ä¸€ä¸ªvueé¡¹ç›®â€‹ é€šè¿‡ä¸Šé¢çš„ä¾‹å­ï¼Œæˆ‘ä»¬å·²ç»å¯ä»¥å®Œæˆä¸€ä¸ªè‡ªå®šä¹‰ç«™ç‚¹çš„éƒ¨ç½²äº†ï¼Œé‚£ä¹ˆçœŸå®é¡¹ç›®å‘¢ï¼Œä¾‹å¦‚å°†ä¸€ä¸ªvueé¡¹ç›®éƒ¨ç½²åˆ°3006ç«¯å£ é¦–å…ˆç¼–å†™xxx.conf 1234567891011121314151617181920server &#123; listen 3006; server_name _; # å¼€å¯gzipç›¸å…³é…ç½® gzip on; gzip_static on; gzip_min_length 2k; gzip_buffers 4 8k; gzip_types text/plain application/x-javascript text/css application/xml text/javascript application/x-httpd-php image/x-icon application/javascript; gzip_comp_level 9; gzip_disable &quot;MSIE [1-6]\\.&quot;; # ç«™ç‚¹ä»£ç è·¯å¾„ root /usr/share/nginx/client; # å•é¡µåº”ç”¨å¿…é¡»è®¾ç½®ï¼ˆåˆ·æ–°404é—®é¢˜ï¼‰ location / &#123; try_files $uri $uri/ /index.html; &#125;&#125; å°†æ‰“åŒ…ä¹‹åçš„ä»£ç ï¼Œé€šè¿‡FTPä¸Šä¼ ä»£ç åˆ°ç›®æ ‡æ–‡ä»¶å¤¹/usr/share/nginx/clientï¼ˆæ³¨æ„æ–‡ä»¶å¤¹åç§°ï¼‰ ftp é‡å¯nginx nginx -s reload è¿™è¾¹å®Œæˆäº†ä¸€ä¸ªç«™ç‚¹çš„éƒ¨ç½²ï¼æ˜¯ä¸æ˜¯å¾ˆç®€å• ç»‘å®šåŸŸåâ€‹ ç›´æ¥æ‹¿ip+ç«¯å£ç»™åˆ«äººè®¿é—®æ˜¯ä¸å¤ªå¥½çš„ï¼Œå¤§å®¶éƒ½ç»™è‡ªå·±ç«™ç‚¹ç»‘å®šä¸Šä¸€ä¸ªå¥½è®°å¿†çš„åŸŸåï¼Œé‚£ä¹ˆnginxå¦‚ä½•ç»‘å®šåŸŸåå‘¢ï¼Ÿ è´­ä¹°ä¸€ä¸ªåŸŸåhttps://wanwang.aliyun.com/domain/ï¼Œå¤‡æ¡ˆåŸŸåï¼Œè¿™ä¸ªæµç¨‹å¾ˆéº»çƒ¦ï¼Œéœ€è¦10-30å¤© å¤‡æ¡ˆå®Œæˆåï¼ŒåŸŸåå°±å¯ä»¥ä½¿ç”¨äº† æˆ‘ä»¬éœ€è¦å»ä¿®æ”¹æˆ‘ä»¬çš„nginxé…ç½®ï¼Œå°†server_nameçš„å€¼ä¿®æ”¹ä¸ºéœ€è¦ç»‘å®šçš„åŸŸåå³å¯ï¼› 1234server &#123; listen 3006; server_name xxx.com;// .... å¢åŠ httpsæ”¯æŒ ç”³è¯·ä¸€ä¸ªhttpsè¯ä¹¦ï¼Œæ•°å­—è¯ä¹¦ç®¡ç†ï¼Œä»¥é˜¿é‡Œäº‘ä¸ºä¾‹å­ï¼Œå›½å†…äº‘å‚å•†éƒ½æœ‰ å°†è¯ä¹¦æ”¾åœ¨æœåŠ¡å™¨ä¸­ä½ å¯ä»¥è®°å¾—ä½çš„æ–‡ä»¶å¤¹é‡Œé¢ ä¿®æ”¹nginxé…ç½® 12345678910111213141516171819202122232425server &#123; // # å°†å½“å‰åŸŸåçš„httpè‡ªåŠ¨æ‰“åˆ°https listen 80; server_name xxx.com; rewrite ^(.*)$ https://$host$1 permanent;&#125;server &#123; listen 443 ssl http2; server_name xxx.com; ssl_certificate xxxx/yy.pem; # è¯ä¹¦ ssl_certificate_key xxxx/yy.key; # è¯ä¹¦ç§˜é’¥ # ssléªŒè¯ç›¸å…³é…ç½® ssl_session_timeout 5m; #ç¼“å­˜æœ‰æ•ˆæœŸ ssl_ciphers ECDHE-RSA-AES128-GCM-SHA256:ECDHE:ECDH:AES:HIGH:!NULL:!aNULL:!MD5:!ADH:!RC4; #åŠ å¯†ç®—æ³• ssl_protocols TLSv1 TLSv1.1 TLSv1.2; #å®‰å…¨é“¾æ¥å¯é€‰çš„åŠ å¯†åè®® ssl_prefer_server_ciphers on; #ä½¿ç”¨æœåŠ¡å™¨ç«¯çš„é¦–é€‰ç®—æ³• #charset koi8-r; #access_log /var/log/nginx/host.access.log main; root /usr/share/nginx/client; location / &#123; try_files $uri $uri/ /index.html; &#125;&#125; ç»“è¯­â€‹ è™½ç„¶éƒ¨ç½²ä¸€ä¸ªç«™ç‚¹ï¼Œä»…ä»…æ˜¯ç”¨åˆ°nginxï¼Œä½†æ˜¯æ¶‰åŠåˆ°çš„çŸ¥è¯†ç‚¹è¿˜æ˜¯å¾ˆå¤šçš„ â€‹ å¦‚æœé‡åˆ°äº†é”™è¯¯ï¼Œä¸€å®šè¦ä»”ç»†æ£€æŸ¥æŠ¥é”™ä¿¡æ¯ï¼Œé—®é¢˜ç™¾åº¦ç™¾åº¦åŸºæœ¬éƒ½èƒ½å¾—åˆ°ç­”æ¡ˆï¼Œå¦‚æœå®åœ¨æä¸å®šï¼Œç›´æ¥é‡åšäº‘æœåŠ¡å™¨ç³»ç»Ÿï¼Œé‡å¤´å†æ¥ï¼›é‡åˆ°é—®é¢˜å¹¶æŠŠå®ƒè§£å†³äº†ï¼Œä¾¿æˆäº†ä½ çš„æŠ€èƒ½ â€‹ ä¸€ä¸ªæœ‰ç»éªŒçš„å¼€å‘äººå‘˜éƒ¨ç½²ä¸€ä¸ªç«™ç‚¹ï¼Œå¯èƒ½åŠå°æ—¶å°±å¼„å®Œäº†ï¼Œæƒ³è¦ç†Ÿç»ƒçš„è¯ï¼Œä¸€å®šè¦å¤šç»ƒä¹ å¤šå®è·µï¼Œä»0åˆ°1éƒ¨ç½²ä¸€ä¸ªé¡¹ç›®è¿˜æ˜¯ä¸€ä»¶å¾ˆé…·çš„äº‹æƒ…ï¼ å¦‚æœæ­å»ºä¸­é‡åˆ°äº†è§£å†³ä¸äº†çš„é—®é¢˜ï¼Œè¯·åˆ°QQç¾¤ 530496237ï¼Œå¤§ä½¬è§£ç­”ç–‘æƒ‘~","categories":[{"name":"JavaScript-2022","slug":"JavaScript-2022","permalink":"https://vkcyan.github.io/categories/JavaScript-2022/"}],"tags":[{"name":"JavaScript","slug":"JavaScript","permalink":"https://vkcyan.github.io/tags/JavaScript/"}]},{"title":"æµè§ˆå™¨è¯»å–xlså¹¶ç”ŸæˆäºŒç»´ç ä¸‹è½½åˆ°æœ¬åœ°","slug":"æŠ€æœ¯æ–‡ç« /æµè§ˆå™¨è¯»å–xlsç”ŸæˆäºŒç»´ç å¹¶ä¸‹è½½","date":"2022-03-14T16:00:00.000Z","updated":"2022-12-11T13:51:24.088Z","comments":true,"path":"2022/03/15/æŠ€æœ¯æ–‡ç« /æµè§ˆå™¨è¯»å–xlsç”ŸæˆäºŒç»´ç å¹¶ä¸‹è½½/","link":"","permalink":"https://vkcyan.github.io/2022/03/15/%E6%8A%80%E6%9C%AF%E6%96%87%E7%AB%A0/%E6%B5%8F%E8%A7%88%E5%99%A8%E8%AF%BB%E5%8F%96xls%E7%94%9F%E6%88%90%E4%BA%8C%E7%BB%B4%E7%A0%81%E5%B9%B6%E4%B8%8B%E8%BD%BD/","excerpt":"","text":"éœ€æ±‚ä¸€æ¬¡æ™®é€šçš„æŠ€æœ¯éœ€æ±‚ä¼šè®® â€‹ é¡¹ç›®ç»ç†é¦–å…ˆå‘è¨€ æˆ‘ä»¬æŠ€æœ¯è¿™è¾¹éœ€è¦å°†xlsè¡¨æ ¼ä¸­çš„å‡ åƒæ¡æ•°æ®å˜æˆäºŒç»´ç ï¼Œå¹¶ä¸”ä¸­é—´é•¶åµŒlogoï¼Œå›¾ç‰‡åº•éƒ¨æ”¾ç½®ç¼–å·ï¼Œç”±äºxlsè¡¨æ ¼æ•°æ®ç§å¯†ï¼Œä¸èƒ½é€šè¿‡ç¬¬ä¸‰æ–¹å®Œæˆ â€‹ å¹³å¸¸è¿™ä¸ªäº‹æƒ…éƒ½æ˜¯åç«¯å¤„ç†çš„ï¼Œå‰ç«¯å°±æ˜¯æ¥æ‘¸é±¼çš„ï¼Œä½†æ˜¯è¿™æ¬¡ä¸€åå¸¸æ€ï¼Œåç«¯è„¸é»‘äº†ï¼Œå¸¦æ ·å¼æä¸æ¥ï¼Œè„šä¸€è¹¬ï¼Œç›´æ¥è£…æ­» â€‹ é¡¹ç›®ç»ç†ç”¨æœŸç›¼çš„çœ¼ç¥çœ‹ç€æˆ‘ï¼Œé¡¿æ—¶æˆ‘ç´§å¼ äº†èµ·æ¥ï¼Œçœ¼ç¥é£˜å¿½ï¼Œæˆ‘å·²ç»å¥½å¤šå¹´æ²¡æè¿‡nodeäº†å•Šï¼ï¼ä¼šè®®å®¤éƒ½æ²‰é»˜äº†ï¼Œåœ¨é¡¹ç›®ç»ç†ä¸æ–­ç²¾ç¥æ”»å‡»ä¸‹ï¼Œåç«¯è£…æ­»çš„æƒ…å†µä¸‹ï¼Œçœ‹æ¥æ³¨å®šè¦å¤§å‰ç«¯æ¥æ‹¯æ•‘ä¸–ç•Œäº†ï¼Œæ¯•ç«ŸJavaScriptä¸‡èƒ½è¯­è¨€ï¼Œä¿ºæ¥è¯•è¯•å§ï¼ å®ç°æ–¹æ¡ˆâ€‹ ä»¥ä¸Šæƒ…èŠ‚çº¯å±è™šæ„ï¼Œä½†æ˜¯éœ€æ±‚ç¡®å®æ˜¯è¿™æ ·çš„ï¼Œè™½ç„¶å¥½å‡ å¹´æ²¡ç¢°è¿‡nodeï¼Œå¥½æ­¹å¹´è½»è®°æ€§å¥½ï¼Œç”¨è¿‡çš„åŸºæœ¬éƒ½è¿˜è®°å¾—ï¼Œè°ƒç ”å®ç°æ–¹æ¡ˆä¸Šæ²¡å‡ºç°å¤ªå¤šé—®é¢˜ï¼Œæœ‰å¦‚ä¸‹æ–¹æ¡ˆ puppeteeråœ°å€ï¼šhttps://github.com/puppeteer/puppeteer â€‹ ä½¿ç”¨åŸºäºnodeç¯å¢ƒçš„puppeteerï¼Œè¿›è¡ŒäºŒç»´ç ç»˜åˆ¶ï¼Œå›¾ç‰‡ç»˜åˆ¶ï¼Œæ˜¯JavaScriptå¼€å‘è€…é¢å¯¹æ­¤ç±»éœ€æ±‚çš„ä¸»æµé€‰æ‹© node-canvasåœ°å€ï¼šhttps://github.com/Automattic/node-canvas â€‹ åŒæ ·æ˜¯åœ¨æœåŠ¡ç«¯å®Œæˆæ¸²æŸ“ï¼Œä½†æ˜¯è¿™ä¸ªåº“ä¾èµ–node-gypï¼Œå¦‚æœä¸å®‰è£…python2ï¼Œé‚£å®‰è£…è¿‡ç¨‹æ‡‚å¾—éƒ½æ‡‚ï¼Œä¸è¿‡è¿™ä¹Ÿæ˜¯å¾ˆä¸é”™çš„æ–¹æ¡ˆ æµè§ˆå™¨â€‹ é€šè¿‡æµè§ˆå™¨canvasç»˜åˆ¶ï¼Œç„¶åä¸‹è½½ä¸‹æ¥ï¼Œä¼šæœ‰åˆ·åˆ·åˆ·ä¸‹è½½å›¾ç‰‡çš„ç‚«é…·æ•ˆæœ å¾ˆæ˜æ˜¾æœ‰åˆ·åˆ·åˆ·ä¸‹è½½å›¾ç‰‡ç‚«é…·æ•ˆæœçš„æ–¹æ¡ˆæ›´å¥½ï¼Œæ‰€ä»¥å°±é€‰æ‹©ä½ äº† æµè§ˆå™¨æ–¹æ¡ˆï¼ é—®é¢˜åˆ†è§£ç¡®å®šäº†æŠ€æœ¯æ–¹æ¡ˆï¼Œå°±è¦è€ƒè™‘å…·ä½“å®ç°äº† JavaScriptè¯»å–execlæ–‡ä»¶ï¼Œå¹¶å¤„ç†æˆç†æƒ³æ ¼å¼ å°†è¯»å–åˆ°çš„execlä¸­çš„ç½‘å€å­—æ®µç”Ÿæˆä¸€å¼ äºŒç»´ç  å°†äºŒç»´ç å†™å…¥canvasï¼Œåœ¨å…¶ä¸­é—´åŠ ä¸Šlogoï¼Œå¹¶åœ¨åº•éƒ¨åŠ ä¸€è¡Œæ–‡å­— å°†canvaè½¬åŒ–ä¸ºDataURLï¼Œä¸‹è½½å®ƒ ä¸æ–­é€’å½’ç”Ÿæˆï¼Œç›´åˆ°xlsæ•°æ®å…¨éƒ¨å¤„ç†å®Œæ¯• ç†è®ºå­˜åœ¨ï¼Œå®è·µå¼€å§‹ï¼ å…·ä½“å®ç°å¯åŠ¨ä¸€ä¸ªæœ¬åœ°æœåŠ¡å™¨é¦–å…ˆæˆ‘ä»¬é€šè¿‡VScode Live Server å¯åŠ¨ä¸€ä¸ªæœ¬åœ°æœåŠ¡å™¨ è¿™é‡Œæœ‰å¥½å¥‡å®å®è¦é—®äº†ï¼Œä¸ºå•¥ç¬¬ä¸€æ­¥æ˜¯è¿™ï¼Ÿ ç­”ï¼šå› ä¸ºæµè§ˆå™¨æ˜¯è®¿é—®ä¸äº†ç”µè„‘çš„æ–‡ä»¶ç³»ç»Ÿçš„ï¼Œæ‰€ä»¥åªèƒ½é€šè¿‡å¯åŠ¨ä¸€ä¸ªæœ¬åœ°æœåŠ¡å™¨çš„æ–¹æ¡ˆï¼Œæ¥è¯»å–æˆ‘ä»¬çš„èµ„æºæ–‡ä»¶ åˆ›å»ºhtmlï¼Œå¼•å…¥èµ„æºåº“åˆ†æéœ€è¦ç”¨åˆ°çš„ç¬¬ä¸‰æ–¹å¼€æºåº“ è§£æxls https://github.com/sheetjs/sheetjs ç”ŸæˆQRcode https://github.com/soldair/node-qrcode 12345678910111213141516171819202122232425262728&lt;!DOCTYPE html&gt;&lt;html lang=&quot;en&quot;&gt; &lt;head&gt; &lt;meta charset=&quot;UTF-8&quot; /&gt; &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot; /&gt; &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot; /&gt; &lt;title&gt;ç”ŸæˆäºŒç»´ç &lt;/title&gt; &lt;script src=&quot;./qrcode.js&quot;&gt;&lt;/script&gt; &lt;script src=&quot;./xlsx.full.min.js&quot;&gt;&lt;/script&gt; &lt;/head&gt; &lt;body&gt; &lt;!-- ç”¨äºç”Ÿæˆè½½ä½“ æœ€ç»ˆç”Ÿæˆçš„å›¾ç‰‡å¤§å°ï¼ŒæŒ‰è‡ªå·±çš„éœ€æ±‚æ¥ --&gt; &lt;canvas width=&quot;260&quot; height=&quot;310&quot; id=&quot;canvas&quot;&gt;&lt;/canvas&gt; &lt;/body&gt; &lt;script&gt; const ctx = initCanvas(); // è·å–ctxå®ä¾‹ // åˆå§‹åŒ–ç”»å¸ƒ function initCanvas() &#123; const canvas = document.getElementById(&quot;canvas&quot;); const ctx = canvas.getContext(&quot;2d&quot;); ctx.fillStyle = &quot;#fff&quot;; ctx.fillRect(0, 0, 260, 310); return ctx; &#125; &lt;/script&gt;&lt;/html&gt; è§£æxlsæ–‡ä»¶1234567891011121314151617181920212223242526272829303132333435363738readWorkbookFromRemoteFile().then((res) =&gt; &#123; // res ä¸ºå®é™…è§£æä»£ç  [&#123;key:&#x27;xxxx&#x27;,value:&#x27;xxxx&#x27;&#125;,....]&#125;);// è¯»å–xlsä¿¡æ¯ï¼Œå¹¶å¤„ç†function readWorkbookFromRemoteFile() &#123; return new Promise((resolve, reject) =&gt; &#123; var xhr = new XMLHttpRequest(); xhr.open(&quot;get&quot;, &quot;http://127.0.0.1:5500/xls.xls&quot;, true); xhr.responseType = &quot;arraybuffer&quot;; xhr.onload = (e) =&gt; &#123; if (xhr.status == 200) &#123; var data = new Uint8Array(xhr.response); var workbook = XLSX.read(data, &#123; type: &quot;array&quot; &#125;); // è·å–å®é™…è¡¨æ ¼é•¿åº¦ï¼ˆå»é™¤è¡¨å¤´ï¼‰ let carryLen = 0; for (const key in workbook.Sheets[&quot;Sheet&quot;]) &#123; const ele = workbook.Sheets[&quot;Sheet&quot;][key]; if (key.includes(&quot;A&quot;)) &#123; carryLen++; &#125; &#125; // è§£ææ•°æ® let xls = []; for (let i = 2; i &lt;= carryLen; i++) &#123; let data = workbook.Sheets[&quot;Sheet&quot;]; xls.push(&#123; key: data[&quot;A&quot; + i].w, value: data[&quot;B&quot; + i].w, &#125;); &#125; resolve(xls); &#125; &#125;; xhr.send(); &#125;);&#125; çœ‹åˆ°è¿™é‡Œè‚¯å®šä¹Ÿæœ‰ç»†å¿ƒçš„å¥½å¥‡å®å®é—®ï¼Œä¸ºå•¥å¾ªç¯ä½“ä¸­çš„iä¸º2å‘¢? ç­”æ¡ˆï¼šå› ä¸ºè¡¨æ ¼ä¸­çš„A1ï¼ŒB1ä¸ºè¡¨æ ¼çš„ç¬¬ä¸€è¡Œï¼Œè€Œç¬¬ä¸€è¡Œæ˜¯è¡¨å¤´ï¼Œè¦å»é™¤ å°†é“¾æ¥ç”Ÿæˆä¸ºäºŒç»´ç 12345678910111213141516171819new Promise((resolve, reject) =&gt; &#123; // ç”ŸæˆäºŒç»´ç  QRCode.toDataURL( &#x27;xxxxxxx&#x27;, &#123; width: 260, height: 260, margin: 3, &#125;, (error, url) =&gt; &#123; if (error) console.error(error); const code = new Image(); code.src = url; code.onload = () =&gt; &#123; ctx.drawImage(code, 0, 0); resolve(code); &#125;; &#125; ); å†™å…¥ä¸­é—´logo12345678return new Promise((resolve, reject) =&gt; &#123; const code = new Image(); code.src = &quot;http://127.0.0.1:5500/logo.jpeg&quot;; code.onload = () =&gt; &#123; ctx.drawImage(code, 260 / 2 - 20, 260 / 2 - 20, 40, 40); resolve(); &#125;;&#125;); å†™å…¥åº•éƒ¨æ–‡å­—123456// å†™å…¥ç¼–å·ctx.font = &quot;24px Arial&quot;;ctx.fillStyle = &quot;#000&quot;;ctx.textAlign = &quot;center&quot;;ctx.textBaseline = &quot;middle&quot;;ctx.fillText(xls[index].value, 130, 270); canvasè½¬åŒ–ä¸ºå›¾ç‰‡ï¼Œå¹¶ä¸‹è½½åˆ°æœ¬åœ°1234567// ç”¨äºé¢„è§ˆlet url = document.getElementById(&quot;canvas&quot;).toDataURL(&quot;image/png&quot;);var a = document.createElement(&quot;a&quot;); // ç”Ÿæˆä¸€ä¸ªaå…ƒç´ var event = new MouseEvent(&quot;click&quot;); // åˆ›å»ºä¸€ä¸ªå•å‡»äº‹ä»¶a.download = xls[index].value; // å°†açš„downloadå±æ€§è®¾ç½®ä¸ºæˆ‘ä»¬æƒ³è¦ä¸‹è½½çš„å›¾ç‰‡åç§°ï¼Œè‹¥nameä¸å­˜åœ¨åˆ™ä½¿ç”¨â€˜ä¸‹è½½å›¾ç‰‡åç§°â€™ä½œä¸ºé»˜è®¤åç§°a.href = url; // å°†ç”Ÿæˆçš„URLè®¾ç½®ä¸ºa.hrefå±æ€§a.dispatchEvent(event); // è§¦å‘açš„å•å‡»äº‹ä»¶ ç¬¬ä¸€å¼ å›¾ç‰‡ï¼Œå®Œæˆç”Ÿæˆ é€’å½’è°ƒç”¨æˆ‘ä»¬ä¿®æ”¹å‘èµ·é€»è¾‘ä»£ç ï¼Œé€»è¾‘å°¾éƒ¨å¢åŠ é€’å½’è°ƒç”¨å°±å¥½å•¦ 12345678910111213141516171819202122232425262728readWorkbookFromRemoteFile().then((res) =&gt; &#123; createImg(res, 0); // é€’å½’ç”Ÿæˆ&#125;);// ......// å®é™…ç”Ÿæˆé€»è¾‘function createImg(xls, index) &#123; new Promise((resolve, reject) =&gt; &#123; // ç”ŸæˆäºŒç»´ç  &#125;) .then((res) =&gt; &#123; // ç”Ÿæˆä¸­é—´logo &#125;) .then(() =&gt; &#123; // å†™å…¥ç¼–å· &#125;) .then(() =&gt; &#123; // ä¸‹è½½å›¾ç‰‡ &#125;) .then(() =&gt; &#123; setTimeout(() =&gt; &#123; if (xls.length &gt; index + 1) &#123; ctx.fillStyle = &quot;#fff&quot;; ctx.fillRect(0, 0, 260, 310); // åˆå§‹åŒ–ç”»å¸ƒ createImg(xls, index + 1); &#125; &#125;, 20); // çˆ±æƒœæœºå™¨ï¼ŒåŠ ä¸ªå»¶æ—¶ï¼Œä¹Ÿå¯ä»¥å»æ‰å»¶æ—¶ï¼Œä½“ä¼šæœºå™¨çš„æè‡´é€Ÿåº¦ &#125;);&#125; æœ€ç»ˆæ•ˆæœ è‡³æ­¤ï¼Œç»ˆäºå®ç°äº†åˆ·åˆ·åˆ·ä¸‹è½½å›¾ç‰‡ç‚«é…·æ•ˆæœï¼Œæ­¤æ—¶å¯ä»¥è„‘éƒ¨ä¸€æ®µå¾ˆå¿«çš„rapï¼Œå¦‚æœåä½—å†ä¸–ï¼Œå´‡æ´‹å¯ä»¥åŒ»æ²»ï¼Œå¤–é‚¦æ¥å­¦æ±‰å­—â€¦â€¦â€¦â€¦â€¦ æœ€ç»ˆç”Ÿæˆçš„æ–‡ä»¶ æœ€ç»ˆä»£ç åœ°å€ ä¸€å®šè¦é’ˆå¯¹è¯¥é¡¹ç›®å¯åŠ¨ä¸€ä¸ªæœ¬åœ°æœåŠ¡å™¨ï¼Œå¦åˆ™èµ„æºæ— æ³•è®¿é—® web-Output-QRcode ç»“è¯­â€‹ é¦–å…ˆçº æ­£ä¸€ç‚¹ï¼ŒJavaScriptå¼€å‘è€…é’ˆå¯¹ç”ŸæˆäºŒç»´ç ç±»ä¼¼çš„ä»»åŠ¡ï¼Œé¦–é€‰è‚¯å®šæ˜¯puppeteerï¼Œä½¿ç”¨æµè§ˆå™¨ç»•ä¸ªå¼¯è¿™ç§å®ç°æ–¹æ¡ˆï¼Œå¤šå°‘å¸¦ç‚¹ç§‘ç ”å‘³é“ï¼Œé•¿æœŸé¡¹ç›®è‡ªç„¶æ˜¯ä¸æ¨èçš„ â€‹ å¸¦ç€å­¦ä¹ çš„æ€åº¦å»å®Œæˆéœ€æ±‚ï¼Œå¹¶ä¸”ä¸æ–­ä¼˜åŒ–ä»£ç ã€æ€»ç»“é—®é¢˜ï¼Œå°†é‡åˆ°çš„æœªçŸ¥çŸ¥è¯†ç‚¹å­¦ä¼šï¼Œï¼ˆæ¯”å¦‚åˆ›å»ºaé“¾æ¥ï¼Œè‡ªåŠ¨è§¦å‘ç‚¹å‡»äº‹ä»¶ï¼‰ï¼Œè¿™æ‰æ˜¯æœ¬æ–‡çš„ç›®çš„ã€‚ â€‹ æ„Ÿè°¢é˜…è¯»ï¼Œè§‰å¾—è¿˜ä¸é”™å°±ç‚¹ä¸ªèµå§~ â€‹ QQäº¤æµç¾¤ï¼š530496237 å¤§ä½¬è§£ç­”ç–‘æƒ‘~ï¼ˆå†…æœ‰å¾®ä¿¡ç¾¤äºŒç»´ç ï¼‰ â€‹","categories":[{"name":"JavaScript-2022","slug":"JavaScript-2022","permalink":"https://vkcyan.github.io/categories/JavaScript-2022/"}],"tags":[{"name":"JavaScript","slug":"JavaScript","permalink":"https://vkcyan.github.io/tags/JavaScript/"}]},{"title":"ä¸‰ä¸ªæ¡ˆä¾‹å¸¦ä½ ç†è§£Event Loopæµç¨‹","slug":"æŠ€æœ¯æ–‡ç« /èŠä¸€èŠå®ä»»åŠ¡ä¸å¾®ä»»åŠ¡ä»¥åŠEventLoop","date":"2022-03-14T16:00:00.000Z","updated":"2022-12-11T13:51:24.089Z","comments":true,"path":"2022/03/15/æŠ€æœ¯æ–‡ç« /èŠä¸€èŠå®ä»»åŠ¡ä¸å¾®ä»»åŠ¡ä»¥åŠEventLoop/","link":"","permalink":"https://vkcyan.github.io/2022/03/15/%E6%8A%80%E6%9C%AF%E6%96%87%E7%AB%A0/%E8%81%8A%E4%B8%80%E8%81%8A%E5%AE%8F%E4%BB%BB%E5%8A%A1%E4%B8%8E%E5%BE%AE%E4%BB%BB%E5%8A%A1%E4%BB%A5%E5%8F%8AEventLoop/","excerpt":"","text":"ä¸ºä»€ä¹ˆ JavaScript éœ€è¦ Event Loop JavaScript åœ¨åˆ›å»ºä¹‹åˆå°±ç¡®è®¤äº†ä¸€ç‚¹ï¼ŒJavaScript æ˜¯ä¸€é—¨å•çº¿ç¨‹è¯­è¨€ï¼Œå› ä¸º JavaScript ä¸»è¦æä¾›ç”¨æˆ·äº’åŠ¨ä»¥åŠæ“ä½œ DOMï¼Œå‡å®šå­˜åœ¨ä¸¤ä¸ªçº¿ç¨‹ï¼ŒåŒæ—¶å¯¹ä¸€ä¸ª Dom è¿›è¡Œæ“ä½œï¼Œé‚£ç©¶ç«Ÿä»¥è°ä¸ºå‡†å‘¢ï¼Œä¸ºäº†é¿å…è¿™ç§å¤æ‚æ€§ï¼ŒJavaScript ç¡®è®¤äº†å•çº¿ç¨‹è¿™ä¸ªæ ¸å¿ƒæ¦‚å¿µ åœ¨å•çº¿ç¨‹ä¸­ï¼Œé™¤äº† JavaScript æœ¬èº«çš„é€»è¾‘ä¹‹å¤–ï¼Œè¿˜å­˜åœ¨ä¸€äº› IO æ“ä½œï¼Œä¾‹å¦‚ä»æœåŠ¡ç«¯è·å–æ•°æ®ï¼Œåœ¨å•çº¿ç¨‹ä¸­å°±éœ€è¦ç­‰å¾…ç»“æœçš„è¿”å›æ‰èƒ½ç»§ç»­ä¸‹é¢çš„é€»è¾‘ï¼Œè¿™æ—¶å€™æœºå™¨æ˜¯æŒ‚èµ·çŠ¶æ€ï¼Œä¸ºäº†é¿å…è¿™ä¸ªä½æ•ˆé—®é¢˜ï¼Œè¿™é‡Œå°±å¼•å…¥äº†åŒæ­¥ä»»åŠ¡ä¸å¼‚æ­¥ä»»åŠ¡çš„æ¦‚å¿µï¼Œä¾æ—§æ˜¯æ˜¯å•çº¿ç¨‹ï¼Œä½†æ˜¯æœ‰äº›ä»»åŠ¡ä¸ç­‰å¾…å…¶è¿è¡Œç»“æœ äºæ˜¯åŒæ­¥ä»»åŠ¡éƒ½åœ¨å‡½æ•°æ‰§è¡Œæ ˆï¼ˆStackï¼‰ä¸Šæ‰§è¡Œï¼Œæ‰€æœ‰çš„å¼‚æ­¥ä»»åŠ¡ï¼Œåœ¨æœ‰äº†è¿è¡Œç»“æœä¹‹åï¼Œå°±ä¼šå°†å…¶æ”¾å…¥ä»»åŠ¡é˜Ÿåˆ—ï¼ˆcallback queueï¼‰ï¼Œå¦‚æœ Stack ä¸­ä»»åŠ¡æ‰§è¡Œå®Œæ¯•ï¼Œå°±ä¼šå†å»æ£€æŸ¥ä»»åŠ¡é˜Ÿåˆ—æ˜¯å¦å­˜åœ¨å¾…æ‰§è¡Œçš„å›è°ƒä»»åŠ¡ï¼Œå°†å…¶ä»»åŠ¡æ”¾å…¥ Stackï¼Œå†æ‰§è¡Œï¼Œè¿™é‡Œå°±ä¼šä¸æ–­å¾ªç¯æ­¤æ“ä½œ Stack æ‰§è¡Œ - Stack æ‰§è¡Œå®Œæ¯• - æ£€æŸ¥ä»»åŠ¡é˜Ÿåˆ— - å°†ä»»åŠ¡åŠ å…¥ Stack - Stack æ‰§è¡Œï¼Œè¿™æ ·é‡å¤çš„è¿‡ç¨‹å°±éœ€è¦ Event Loop æ¥æŒç»­ä¸æ–­çš„å¾ªç¯æ£€æŸ¥ä»»åŠ¡é˜Ÿåˆ—ï¼Œç¡®ä¿å¼‚æ­¥ä»»åŠ¡è¢«å‡†æ—¶åŠ å…¥åˆ° Stack ç›¸å…³åè¯ä»‹ç»å‡½æ•°æ‰§è¡Œæ ˆï¼ˆStaskï¼‰ï¼šéµå¾ªåè¿›å…ˆå‡ºåŸåˆ™ï¼ŒåŒæ­¥å‡½æ•°æ‰§è¡Œæ ˆ webAPIsï¼šå¼‚æ­¥ä»»åŠ¡çš„å‘èµ·è€…ï¼Œäº‹ä»¶æ˜¯é¦–å…ˆè¿›å…¥ stackï¼Œä¾‹å¦‚ clickï¼Œchangeï¼Œå†å°† callback åŠ å…¥ä»»åŠ¡é˜Ÿåˆ— å›è°ƒé˜Ÿåˆ—ï¼ˆcallback queueï¼‰ï¼šä¹Ÿå¯ä»¥è¢«ç§°ä¸ºä»»åŠ¡é˜Ÿåˆ—ï¼Œå›è°ƒå‡½æ•°åˆ°è¾¾äº†æ‰§è¡Œæ—¶æœºå°±ä¼šè¿›å…¥ä»»åŠ¡é˜Ÿåˆ—ï¼Œä»–ä»¬å°†ä¼šè¢« Event Loop æŒç»­æ‰“å…¥å‡½æ•°æ‰§è¡Œæ ˆ äº‹ä»¶å¾ªç¯è§£ææˆ‘ä»¬ç”¨ Event Loop æ¥è§£é‡Šä¸€ä¸ªç®€å•çš„ demo 1234567consoleo.log(&quot;1&quot;);setTimeout(() =&gt; &#123; console.log(&quot;2&quot;);&#125;, 5000);console.log(&quot;3&quot;); æˆ‘ç›¸ä¿¡å¤§éƒ¨åˆ†äººéƒ½çŸ¥é“ï¼Œè¿™é‡Œæ‰“å°çš„é¡ºåºä¸º 1 3 2ï¼Œä¸‹é¢æˆ‘ä»¬ç”¨äº‹ä»¶å¾ªç¯çš„æµç¨‹æ¥è¯´æ˜ä¸ºä»€ä¹ˆæ˜¯è¿™ä¸ªç»“æœ æ³¨ï¼š cb ä¸º callback console.log(&#39;hi&#39;)ï¼Œè¿›æ ˆ æ‰§è¡Œ å‡ºæ ˆï¼Œæ‰“å° 1 setTimeoutè¿›æ ˆ æ‰§è¡Œ cb åŠ å…¥å¼‚æ­¥é˜Ÿåˆ— è‡ªèº«å‡ºæ ˆ console.log(&#39;end&#39;)ï¼Œè¿›æ ˆ æ‰§è¡Œ å‡ºæ ˆ æ‰“å° 3 5s åï¼Œcb åŠ å…¥ä»»åŠ¡é˜Ÿåˆ—ï¼Œevent Loop æ£€æŸ¥å½“å‰æ‰§è¡Œæ ˆæ˜¯å¦å­˜åœ¨å‡½æ•°ï¼Œæ£€æŸ¥å‘ç°ä¸å­˜åœ¨ï¼Œå°† cb åŠ å…¥å‡½æ•°æ‰§è¡Œæ ˆ cbè¿›æ ˆ æ‰§è¡Œ å‡ºæ ˆ æ‰“å° 2 æˆ‘ä»¬é€šè¿‡ event Loop çš„è§’åº¦è¿›è¡Œè§£æï¼Œå°±èƒ½å¾ˆè½»æ˜“çš„è§£é‡Šä¸ºä»€ä¹ˆä»£ç æ‰§è¡Œé¡ºåºæ˜¯ 1 3 2ï¼Œè¿™æ˜¯éå¸¸ç®€å•çš„åœºæ™¯ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬ä¼šåˆ†æä¸€äº›æ›´åŠ æœ‰éš¾åº¦çš„ä»£ç  å…³äºå®ä»»åŠ¡ä¸å¾®ä»»åŠ¡ é€šè¿‡ä¸Šé¢çš„ä»‹ç»ï¼Œæˆ‘ç›¸ä¿¡å¤§éƒ¨åˆ†äººéƒ½äº‹ä»¶å¾ªç¯æœ‰ä¸€ä¸ªåŸºç¡€çš„è®¤çŸ¥çš„ï¼Œä½†æ˜¯ä¸ä»¥ä¸Šæˆ‘ä»¬é€šè¿‡ç®€å•çš„ç¤ºä¾‹ï¼Œæ¼”ç¤ºäº†å¼‚æ­¥ä»£ç åœ¨äº‹ä»¶å¾ªç¯ä¸­çš„è¿è¡Œæµç¨‹ï¼Œå¹¶æ²¡æœ‰æ¶‰åŠå®ä»»åŠ¡ä¸å¾®ä»»åŠ¡ï¼Œè¿™ä¸¤è´§æ˜¯ä»€ä¹ˆå‘¢ï¼Œä¸ºä»€ä¹ˆè¦åœ¨è¿™é‡Œå‡ºç°ï¼Ÿ é¦–å…ˆï¼Œå®ä»»åŠ¡ï¼ˆmacrotaskï¼‰ï¼Œå¾®ä»»åŠ¡ï¼ˆmicrotaskï¼‰éƒ½æ˜¯å¼‚æ­¥ä»»åŠ¡ å®ä»»åŠ¡ï¼šsetTimeout setInterval setImmediate I/O é”®ç›˜äº‹ä»¶ ç½‘ç»œäº‹ä»¶ UI rendering å¾®ä»»åŠ¡ï¼špormise MutationObserver process.nextTick ä»–ä»¬åœ¨æ‰§è¡Œå±‚é¢ä¸Šå­˜åœ¨ä¸€å®šå·®å¼‚ ä¾‹å­ 1123456789101112131415console.log(&quot;script start&quot;);setTimeout(function () &#123; console.log(&quot;setTimeout&quot;);&#125;, 0);Promise.resolve() .then(function () &#123; console.log(&quot;promise1&quot;); &#125;) .then(function () &#123; console.log(&quot;promise2&quot;); &#125;);console.log(&quot;script end&quot;); ç»“æœä¸º script start script end promise1 promise2 setTimeout pormise ä¸ setTimeout è™½ç„¶éƒ½æ˜¯å¼‚æ­¥ä»»åŠ¡ï¼Œä½†æ˜¯ä¸Šå›¾çš„ä»£ç ä½ ä¼šå‘ç°ï¼Œpromise ä»¿ä½›æ’é˜Ÿäº†ï¼Œè¿™ä¾¿æ˜¯å®ä»»åŠ¡ä¸å¾®ä»»åŠ¡åœ¨ä»»åŠ¡é˜Ÿåˆ—æœ€å¤§çš„ä¸åŒä¹‹å¤„ event Loop åœ¨äº‹ä»¶å¾ªç¯ä¸­,é¦–å…ˆè§£æ scriptï¼Œå°†å®ä»»åŠ¡åŠ å…¥å®ä»»åŠ¡é˜Ÿåˆ—ï¼Œå°†å¾®ä»»åŠ¡åŠ å…¥å¾®ä»»åŠ¡é˜Ÿåˆ—ï¼Œæ ˆç©ºäº†ä¹‹åï¼Œæ‰§è¡Œå½“å‰å¾®ä»»åŠ¡ï¼Œç¬¬ä¸€è½®äº‹ä»¶å¾ªç¯ç»“æŸ åœ¨ç¬¬äºŒè½®äº‹ä»¶å¾ªç¯ä¸­ï¼Œé¦–å…ˆæ‰§è¡Œå®ä»»åŠ¡ callback ä¸­çš„ç¬¬ä¸€ä¸ªï¼Œæ‰§è¡Œå®Œæ¯•ï¼Œæ ˆç©ºäº†ä¹‹åï¼Œå†æ‰§è¡Œå½“å‰å¾®ä»»åŠ¡ï¼Œåé¢åŒç† ä¾‹å­ 212345678910111213141516171819202122232425console.log(&quot;a&quot;);setTimeout(() =&gt; &#123; console.log(&quot;b&quot;); setTimeout(() =&gt; &#123; console.log(&quot;g&quot;); &#125;, 0); new Promise((resolve) =&gt; &#123; resolve(); &#125;).then(() =&gt; &#123; console.log(&quot;h&quot;); &#125;);&#125;, 0);new Promise((resolve) =&gt; &#123; console.log(&quot;c&quot;); resolve();&#125;) .then(function () &#123; console.log(&quot;d&quot;); &#125;) .then(function () &#123; console.log(&quot;e&quot;); &#125;);console.log(&quot;f&quot;); å¤§å®¶å¯ä»¥å…ˆåˆ«çœ‹ç­”æ¡ˆï¼Œè‡ªå·±å…ˆå°è¯•å°†ç­”æ¡ˆæ¨ç®—å‡ºæ¥ ç¬¬ä¸€è½®äº‹ä»¶å¾ªç¯console.log(&quot;a&quot;);è¿›å…¥æ ˆ æ‰§è¡Œ å‡ºæ ˆ æ‰“å° a setTimeoutè¿›å…¥æ ˆ callback åŠ å…¥å®ä»»åŠ¡é˜Ÿåˆ— æœ¬èº«å‡ºæ ˆ new Promise è¿›å…¥æ ˆ æ‰§è¡Œ console.log(&quot;c&quot;);è¿›å…¥æ ˆ æ‰§è¡Œ å‡ºæ ˆ æ‰“å° c new Promise.then è¿›å…¥å¾®ä»»åŠ¡é˜Ÿåˆ— console.log(&quot;f&quot;);è¿›å…¥æ ˆ æ‰§è¡Œ å‡ºæ ˆ æ‰“å° f new Promise å‡ºæ ˆ â€”å®ä»»åŠ¡å®Œæ¯•ï¼Œå¼€å§‹æ‰§è¡Œå¾®ä»»åŠ¡â€” console.log(&quot;d&quot;)è¿›å…¥æ ˆ æ‰§è¡Œ å‡ºæ ˆ æ‰“å° d console.log(&quot;e&quot;)è¿›å…¥æ ˆ æ‰§è¡Œ å‡ºæ ˆ æ‰“å° e â€“å¾®ä»»åŠ¡æ‰§è¡Œå®Œæ¯• ç¬¬ä¸€è½®äº‹ä»¶å¾ªç¯å®Œæ¯•â€“ ç»“æœä¸º a c f d e ç¬¬äºŒè½®äº‹ä»¶å¾ªç¯ç¬¬ä¸€è½®å¾ªç¯ä¸­ setTimeout åœ¨å®ä»»åŠ¡ä¸­ï¼Œå¼€å§‹æ‰§è¡Œ console.log(&quot;b&quot;) è¿›å…¥æ ˆ æ‰§è¡Œ å‡ºæ ˆ æ‰“å° b setTimeoutè¿›å…¥æ ˆ callback åŠ å…¥å®ä»»åŠ¡é˜Ÿåˆ— æœ¬èº«å‡ºæ ˆ new Promise è¿›å…¥æ ˆ æ‰§è¡Œ new Promise.then è¿›å…¥å¾®ä»»åŠ¡é˜Ÿåˆ— new Promise å‡ºæ ˆ â€”å®ä»»åŠ¡å®Œæ¯•ï¼Œå¼€å§‹æ‰§è¡Œå¾®ä»»åŠ¡â€” console.log(&quot;h&quot;)è¿›å…¥æ ˆ æ‰§è¡Œ å‡ºæ ˆ æ‰“å° h â€“å¾®ä»»åŠ¡æ‰§è¡Œå®Œæ¯• ç¬¬äºŒè½®äº‹ä»¶å¾ªç¯å®Œæ¯•â€“ ç»“æœä¸º b h ç¬¬ä¸‰è½®äº‹ä»¶å¾ªç¯ç¬¬äºŒè½®å¾ªç¯ä¸­ setTimeout åœ¨å®ä»»åŠ¡ä¸­ï¼Œå¼€å§‹æ‰§è¡Œ console.log(&quot;g&quot;);è¿›å…¥æ ˆ æ‰§è¡Œ å‡ºæ ˆ æ‰“å° g â€”å®ä»»åŠ¡å®Œæ¯•ï¼Œå¼€å§‹æ‰§è¡Œå¾®ä»»åŠ¡â€” â€“å¾®ä»»åŠ¡é˜Ÿåˆ—ä¸ºç©º ç¬¬ä¸‰è½®äº‹ä»¶å¾ªç¯å®Œæ¯•â€“ ç»“æœä¸º g ç»“æœa c f d e b h g å®&#x2F;å¾®ä»»åŠ¡çš„ç»“è®ºé€šè¿‡ä¸Šé¢ä¸‰ä¸ªä¾‹å­ï¼Œæˆ‘ä»¬å¯ä»¥å¾—å‡ºä»¥ä¸‹ç»“è®º å‡½æ•°æ‰§è¡Œæ ˆä¸­å¦‚æœè¿˜å­˜åœ¨å‡½æ•°ï¼Œåˆ™ç­‰å¾…å…¶ç»“æŸï¼Œæ‰ä¼šç»§ç»­äº‹ä»¶å¾ªç¯ Event Loop å…ˆæ‰§è¡ŒåŒæ­¥ä»»åŠ¡ï¼Œå†å¾®ä»»åŠ¡ï¼Œä¸‹ä¸€è½®å¾ªç¯ï¼Œå®ä»»åŠ¡åŠ å…¥é˜Ÿåˆ—ï¼Œæ‰§è¡Œï¼Œæ‰€ä»¥è¯´å…ˆå¾®ä»»åŠ¡ï¼Œå†å®ä»»åŠ¡æ˜¯åˆç†çš„ å•æ¬¡ Event Loop ä¸­ï¼Œåªä¼šæ‰§è¡Œä¸€æ¬¡å®ä»»åŠ¡ï¼Œä½†æ˜¯å¾®ä»»åŠ¡å¯ä»¥ä¸€æ¬¡æ‰§è¡Œå¤šä¸ª æ¨èæ–‡ç« åšä¸€äº›åŠ¨å›¾ï¼Œå­¦ä¹ ä¸€ä¸‹ EventLoop é€šè¿‡åŠ¨å›¾çœ‹ Event Loop æ›´åŠ ä¾¿äºç†è§£ æ€»ç»“ JavaScript å•çº¿ç¨‹è¯­è¨€çš„ç‰¹æ€§æ³¨å®šå…¶éœ€è¦å¼‚æ­¥é˜Ÿåˆ—ï¼Œè®©ç½‘é¡µäº¤äº’ä½“éªŒä¸Šæ›´åŠ å‹å¥½ï¼Œå¯¹äºå¼€å‘æ¥è¯´ï¼Œéœ€è¦å°½é‡äº†è§£å…¶ç‰¹æ€§ é¦–å…ˆæˆ‘ä»¬éœ€è¦äº†è§£äº‹ä»¶å¾ªç¯æœºåˆ¶ï¼Œææ‡‚ä»£ç æ‰§è¡Œæ ˆ å¼‚æ­¥é˜Ÿåˆ—çš„æ¦‚å¿µï¼Œå†åé¢ææ‡‚å®ä»»åŠ¡ä¸å¾®ä»»åŠ¡ï¼Œè¯»æ‡‚å¼‚æ­¥é˜Ÿåˆ—çš„è¿è¡Œæœºåˆ¶ï¼Œè¿™æ ·åŸºæœ¬ä¸Šå°±å¯ä»¥è§£å†³å¤§éƒ¨åˆ† Event Loop é—®é¢˜ï¼Œäº†è§£å®ä»»åŠ¡ å¾®ä»»åŠ¡ å°†ä¼šå¯¹ä»£ç æ‰§è¡Œé¡ºåºæœ‰æ›´åŠ åº•å±‚çš„ç†è§£ï¼Œè¿™æ ·å°±å¯ä»¥è§£å†³","categories":[{"name":"JavaScript-2022","slug":"JavaScript-2022","permalink":"https://vkcyan.github.io/categories/JavaScript-2022/"}],"tags":[{"name":"JavaScript","slug":"JavaScript","permalink":"https://vkcyan.github.io/tags/JavaScript/"}]},{"title":"JSæ•°æ®ç»“æ„ä¸ç®—æ³•","slug":"ç®—æ³•ä¸æ•°æ®ç»“æ„/JSæ•°æ®ç»“æ„ä¸ç®—æ³•","date":"2022-03-14T16:00:00.000Z","updated":"2022-12-11T13:51:24.091Z","comments":true,"path":"2022/03/15/ç®—æ³•ä¸æ•°æ®ç»“æ„/JSæ•°æ®ç»“æ„ä¸ç®—æ³•/","link":"","permalink":"https://vkcyan.github.io/2022/03/15/%E7%AE%97%E6%B3%95%E4%B8%8E%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/JS%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/","excerpt":"","text":"æ•°æ®ç»“æ„ä¸ºç®—æ³•æä¾›æœåŠ¡ï¼Œç®—æ³•å›´ç»•æ•°æ®ç»“æ„æ“ä½œ æ—¶é—´å¤æ‚åº¦ ä¸€ä¸ªå‡½æ•°ç”¨å¤§Oè¡¨ç¤ºï¼Œæ¯”å¦‚O(1)ï¼ŒO(n)ï¼ŒO(logN)â€¦ å®šæ€§æè¿°è¯¥ç®—æ³•çš„è¿è¡Œæ—¶é—´ O(1)12let a = 1a += 1 æ¯æ¬¡æ‰§è¡Œæ”¹é€»è¾‘çš„æ—¶å€™ï¼Œä¹‹åæ‰§è¡Œä¸€æ¬¡ï¼Œå¤æ‚åº¦ä¸ä¼šéšç€æ—¶é—´çš„å˜åŒ–è€Œå˜åŒ– O(n)123for (let i = 0; i &lt; n; i += 1) &#123; console.log(i)&#125; forå¾ªç¯é‡Œé¢çš„ä»£ç æ‰§è¡Œnæ¬¡ O(1) + O(n) &#x3D; O(n)123456let a = 1a += 1for (let i = 0; i &lt; n; i += 1) &#123; console.log(i)&#125; ä¸¤ä¸ªæ—¶é—´å¤æ‚åº¦å…ˆåæ’åˆ—å°±éœ€è¦ç›¸åŠ ï¼Œç›¸åŠ çš„æƒ…å†µä¸‹ä½çš„çš„å¿½ç•¥ä¸è®¡ï¼Œå–æ›´é«˜çš„æ—¶é—´å¤æ‚åº¦ O(n) * O(n) &#x3D; O(n ^ 2)12345for (let i = 0; i &lt; n; i += 1) &#123; for (let j = 0; j &lt; n; j += 1) &#123; console.log(i, j) &#125;&#125; ä¸¤ä¸ªæ—¶é—´å¤æ‚åº¦åµŒå¥—æ’åˆ—ï¼Œæ—¶é—´å¤æ‚åº¦å°±éœ€è¦ç›¸ä¹˜ O(logN)$$å¯¹æ•°å‡½æ•°ï¼šå¦‚æœax&#x3D;Nï¼ˆa&gt;0ï¼Œä¸”aâ‰ 1ï¼‰ï¼Œé‚£ä¹ˆæ•°xå«åšä»¥aä¸ºåº•Nçš„å¯¹æ•°ï¼Œè®°ä½œx&#x3D;loga$$ 12345let i = 1while(i &lt; n) &#123; console.log(i) i *= 2&#125; è¿™é‡Œçš„logNä»¥2ä¸ºåº•æ•°ï¼Œç›®çš„æ˜¯å°±æ˜¯æ±‚2çš„å¤šå°‘æ¬¡æ–¹ä¸ºNï¼Œ ä¸Šé¢çš„ä»£ç whileå¾ªç¯æ¯æ¬¡*2ï¼Œå®é™…ä¸Šå°±æ˜¯æ±‚2çš„å¤šå°‘æ¬¡æ–¹ä¸ºNï¼Œæ‰€ä»¥æ—¶é—´å¤æ‚åº¦å°±æ˜¯O(logN) ç©ºé—´å¤æ‚åº¦ ä¸€ä¸ªå‡½æ•°ç”¨Oè¡¨ç¤ºï¼Œæ¯”å¦‚O(1)ï¼ŒO(n)ï¼ŒO(n^2) ç®—æ³•åœ¨è¿è¡Œè¿‡ç¨‹ä¸­ä¸´æ—¶å ç”¨å­˜å‚¨ç©ºé—´çš„å¤§å°çš„é‡åº¦ O(1)12let i = 0i += 1 å£°æ˜äº†å˜é‡iï¼Œå•ä¸ªå˜é‡æ‰€å ç”¨çš„å†…å­˜ä¸º1ï¼Œæ‰€ä»¥ç©ºé—´å¤æ‚åº¦ä¸ºO(1) O(n)1234let list = []for (let i = 0; i &lt; n; i += 1) &#123; list.push(i)&#125; å£°æ˜äº†å˜é‡listï¼Œé€šè¿‡å¾ªç¯æˆ‘ä»¬å¢åŠ äº†nä¸ªå€¼ï¼Œç›¸å½“äºå ç”¨äº†nä¸ªå†…å­˜å•å…ƒï¼Œæ‰€ä»¥è¿™æ®µä»£ç çš„ç©ºé—´å¤æ‚åº¦ä¸ºO(n) O(n^2)1234567const matrix = []for (let i = 0; i &lt; n; i += 1) &#123; matrix.push([]) for (let j = 0; j &lt; n; j += 1) &#123; matrix[i].push(j) &#125;&#125; O(n^2)å®é™…ä¸Šå°±æ˜¯ä¸€ä¸ªçŸ©é˜µï¼ŒçŸ©é˜µçš„æœ¬è´¨å°±æ˜¯ä¸€ä¸ªäºŒç»´æ•°æ®ï¼Œå­˜å‚¨äº†nçš„äºŒæ¬¡æ–¹çš„å˜é‡ å°çŸ¥è¯†è°ƒè¯•å·¥å…·æ æ¯ä¸ªå›¾æ ‡çš„ä½œç”¨ ç¬¬ä¸€ä¸ªç®­å¤´ï¼šç¨‹åºè¿è¡Œåˆ°ä¸‹ä¸€ä¸ªæ–­ç‚¹ï¼Œæ²¡æœ‰æ–­ç‚¹ï¼Œç¨‹åºæ‰§è¡Œå®Œæ¯• ç¬¬äºŒä¸ªå›¾æ ‡ï¼šä¸€è¡Œä¸€è¡Œæ‰§è¡Œä»£ç  ç¬¬ä¸‰ä¸ªå›¾æ ‡ï¼šå½“å‰å¤„å¦‚æœè°ƒç”¨äº†funï¼Œç‚¹å‡»æ­¤å›¾æ ‡å°±ä¼šè¿›å…¥å‡½æ•°é‡Œé¢ ç¬¬å››ä¸ªå›¾æ ‡ï¼šç‚¹å‡»è·³å‡ºå½“å‰å‡½æ•° ç¬¬äº”ä¸ªå›¾æ ‡ï¼šé‡å¯è°ƒè¯• ç¬¬å…­ä¸ªå›¾æ ‡ï¼šåœæ­¢è°ƒè¯•","categories":[{"name":"JavaScript-2022","slug":"JavaScript-2022","permalink":"https://vkcyan.github.io/categories/JavaScript-2022/"}],"tags":[{"name":"JavaScript","slug":"JavaScript","permalink":"https://vkcyan.github.io/tags/JavaScript/"}]},{"title":"åŸºäºPromiseA+ï¼Œä»é›¶å®ç°Promise","slug":"æºç è§£è¯»/promiseçš„æºç è§£è¯»","date":"2021-12-14T16:00:00.000Z","updated":"2022-12-11T13:51:24.090Z","comments":true,"path":"2021/12/15/æºç è§£è¯»/promiseçš„æºç è§£è¯»/","link":"","permalink":"https://vkcyan.github.io/2021/12/15/%E6%BA%90%E7%A0%81%E8%A7%A3%E8%AF%BB/promise%E7%9A%84%E6%BA%90%E7%A0%81%E8%A7%A3%E8%AF%BB/","excerpt":"","text":"ECMAScript6ä¸­promiseæ˜¯åˆ’æ—¶ä»£çš„APIï¼Œä»–çš„å‡ºç°è§£å†³äº†ä¸€ç›´å›°æ‰°å‰ç«¯å¼€å‘è€…çš„å¼‚æ­¥é—®é¢˜ï¼Œä»æ­¤é¢å¯¹å¼‚æ­¥å›è°ƒï¼Œæˆ‘ä»¬æœ‰äº†æ›´å¥½çš„æ­¦å™¨ å‰è¨€â€‹ é¢å¯¹å¤©å¤©éƒ½èƒ½è§é¢çš„promiseï¼Œä¸çŸ¥é“ä½ æ˜¯å¦æœ‰ä»¥ä¸‹çš„ä¸€äº›é—®é¢˜ æˆ‘ä»¬new Promise((resolve,reject) &#x3D;&gt;{})ï¼Œresolveï¼Œrejectéƒ½æ˜¯å“ªæ¥çš„ï¼Ÿ ä¸ºä»€ä¹ˆresolveä¹‹åæ‰ä¼šæ‰§è¡Œthenæˆ–è€…catchï¼Ÿ ä¸ºä»€ä¹ˆå¯ä»¥é“¾å¼.thenï¼Œå¹¶ä¸”è¿˜éƒ½ä¼šæŒ‰åŒæ­¥è¿›è¡Œï¼Ÿ ä¸ºä»€ä¹ˆæ‰§è¡Œpromise.resolve()ï¼Œåé¢çš„å‡½æ•°å°±æ”¯æŒpromiseäº†ï¼Ÿ promise.allæ˜¯å¦‚ä½•å®ç°çš„ï¼Ÿ æ˜¯å¦è¢«é¢è¯•é¢˜ä¸­çš„promiseé¢˜ç›®è¿·æƒ‘çš„å¤´æ™•ç›®çœ©ï¼Ÿ è®©æˆ‘ä»¬äº†è§£Promiseçš„å®ç°åŸç†ï¼Œæ‰€æœ‰é—®é¢˜ç­”æ¡ˆè‡ªç„¶æµ®å‡ºæ°´é¢~ â€‹ promiseåœ¨æ½œç§»é»˜åŒ–ä¹‹é—´å¸®åŠ©æˆ‘ä»¬ç®€åŒ–äº†å¤æ‚çš„å¼‚æ­¥ä»£ç ï¼Œé™ä½é€»è¾‘éš¾åº¦ï¼Œè¯´promiseæ˜¯åˆ’æ—¶ä»£çš„å¼‚æ­¥è§£å†³æ–¹æ¡ˆä¹Ÿä¸ä¸ºè¿‡ï¼Œä»–å¾ˆå¥½çš„æç°äº†å¼€æ”¾å°é—­åŸåˆ™ï¼Œè§£å†³è€¦åˆæ€§è¿‡é«˜çš„é—®é¢˜ â€‹ è¯´ä¸€ä¸ªå°çŸ¥è¯†ï¼Œes6å‘å¸ƒä¹‹å‰ç±»ä¼¼prmiseçš„å¼‚æ­¥æ–¹æ¡ˆå·²ç»å­˜åœ¨ï¼Œåœ¨jqueryçš„ajaxä¸­å·²ç»åº”ç”¨äº†ç±»ä¼¼çš„æŠ€æœ¯æ–¹æ¡ˆçš„jQuery.deferred()ï¼Œæ„Ÿå…´è¶£çš„åŒå­¦å¯ä»¥å»äº†è§£ä¸€ä¸‹ 123$.ajax(&quot;test.html&quot;).done(function()&#123; alert(&quot;å“ˆå“ˆï¼ŒæˆåŠŸäº†ï¼&quot;); &#125;).fail(function()&#123; alert(&quot;å‡ºé”™å•¦ï¼&quot;); &#125;); ç®€åŒ–ç‰ˆPrimise åŸºç¡€ç‰ˆæœ¬çš„å®ç°è™½ç„¶ç®€å•ï¼Œä½†æ˜¯è§£é‡Šäº†å¾ˆå¤šé—®é¢˜ å»ºè®®å°†ä»£ç å¤åˆ¶åˆ°æœ¬åœ°ï¼Œé€šè¿‡æ–­ç‚¹çš„æ–¹å¼æŸ¥çœ‹ä»£ç çš„æ‰§è¡Œæµç¨‹ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566const PEDDING = &#x27;pending&#x27; // ç­‰å¾…çŠ¶æ€const FULFILLED = &#x27;fulfilled&#x27; // æˆåŠŸçŠ¶æ€const REJECTED = &#x27;rejected&#x27; // å¤±è´¥çŠ¶æ€class APromise &#123; constructor(executor) &#123; this.status = PEDDING // åˆå§‹åŒ–çŠ¶æ€ this.value = undefined // æˆåŠŸçš„æ•°æ® this.reason = undefined // å¤±è´¥çš„åŸå›  this.onFulfilledCallbacks = [] // ä¿å­˜æˆåŠŸçŠ¶æ€çš„å›è°ƒé˜Ÿåˆ— this.onRejectCallbacks = [] // ä¿å­˜å¤±è´¥çŠ¶æ€çš„å›è°ƒé˜Ÿåˆ— const resolve = (data) =&gt; &#123; if (this.status == PEDDING) &#123; this.status = FULFILLED this.value = data &#125; this.onFulfilledCallbacks.map((e) =&gt; e()) &#125; const reject = (err) =&gt; &#123; if (this.status == PEDDING) &#123; this.status = REJECTED this.reason = err &#125; this.onRejectCallbacks.map((e) =&gt; e()) &#125; try &#123; executor(resolve, reject) &#125; catch (error) &#123; rejected(error) &#125; &#125; then(onFulfilled, onRejected) &#123; if (this.status == FULFILLED) &#123; onFulfilled(this.value) &#125; if (this.status == REJECTED) &#123; onRejected(this.reason) &#125; if (this.status == PEDDING) &#123; this.onFulfilledCallbacks.push(() =&gt; &#123; onFulfilled(this.value) &#125;) this.onRejectCallbacks.push(() =&gt; &#123; onRejected(this.reason) &#125;) &#125; &#125;&#125;new APromise((resolve, reject) =&gt; &#123; console.log(&#x27;å¼€å§‹å›è°ƒ&#x27;) setTimeout(() =&gt; &#123; console.log(&#x27;æ‰§è¡Œå›è°ƒ&#x27;) resolve(11111) &#125;, 1000)&#125;).then( (value) =&gt; &#123; console.log(&#x27;æˆåŠŸå›è°ƒ&#x27;, value) &#125;, (err) =&gt; &#123; console.log(&#x27;å¤±è´¥å›è°ƒ&#x27;, err) &#125;) ä»£ç è¿è¡Œæµç¨‹ åˆå§‹åŒ–APromiseï¼Œå¼€å§‹æ‰§è¡Œclassä¸­çš„constructor åœ¨constructorä¸­åˆå§‹åŒ–å½“å‰promiseçš„ä¸€äº›çŠ¶æ€å€¼ä»¥åŠresolveï¼Œrejectå‡½æ•° æœ€åå°†resolveå‡½æ•°ä¸rejectå‡½æ•°ä»¥å‚æ•°çš„å½¢å¼ç»™promiseçš„å›è°ƒå‡½æ•°ï¼ŒåŒæ—¶æ‰§è¡Œå‡½æ•°ï¼Œæ‰“å°å¼€å§‹å›è°ƒ è¿è¡ŒsetTimeoutï¼Œå¹¶ä¸”å¼€å§‹è§£æthenå‡½æ•° å¦‚æœæ˜¯æˆåŠŸï¼Œæˆ–è€…å¤±è´¥çŠ¶æ€ï¼Œç›´æ¥æ‰§è¡Œå›è°ƒï¼Œå¦‚æœæ˜¯peddingçŠ¶æ€ï¼Œåˆ™å­˜å‚¨æˆåŠŸä¸å¤±è´¥å›è°ƒå‡½æ•° 1sä¹‹åï¼ŒsetTimeoutæ‰§è¡Œå®Œæ¯•ï¼Œresolveæ‰§è¡Œè§¦å‘constructorä¸­çš„resolve resolveå‡½æ•°ä¸­æ‰§è¡Œä¹‹å‰åˆå§‹åŒ–.thenæ—¶å€™å­˜å‚¨çš„å›è°ƒå‡½æ•°ï¼Œæ‰“å° æˆåŠŸå›è°ƒï¼Œ11111æˆ–è€…å¤±è´¥å›è°ƒ é€»è¾‘æµç¨‹å›¾ åŸºç¡€ç‰ˆæœ¬çš„å®ç°ï¼Œä¸æ”¯æŒé“¾å¼è°ƒç”¨ï¼Œä¸æ”¯æŒthenç©¿é€ï¼Œä¸æ”¯æŒcatchï¼Œåªå®ç°äº†æœ€åŸºç¡€çš„é€»è¾‘ æˆ‘ä»¬åœ¨è¿™é‡Œè§£ç­”ä¸€ä¸‹å‰è¨€ä¸­æå‡ºçš„é—®é¢˜ æˆ‘ä»¬new Promise((resolve,reject) &#x3D;&gt;{})ï¼Œresolveï¼Œrejectéƒ½æ˜¯å“ªæ¥çš„ï¼Ÿ ç­”ï¼šnewçš„æ—¶å€™æ‰§è¡ŒPromiseä¸­çš„constructorï¼Œå£°æ˜äº†resolveä¸rejectï¼Œå¹¶ä¸”åœ¨æ‰§è¡ŒPromiseå›è°ƒå‡½æ•°çš„æ—¶å€™å°†å‚æ•°ä¼ å…¥åˆ°å‡½æ•°ä¸­ ä¸ºä»€ä¹ˆresolveä¹‹åæ‰ä¼šæ‰§è¡Œthenæˆ–è€…catchï¼Ÿ ç­”ï¼šå› ä¸ºåœ¨åˆå§‹åŒ–é˜¶æ®µï¼ŒpeddingçŠ¶æ€ä¸‹ï¼Œæˆ‘ä»¬å­˜å‚¨äº†å½“å‰Promiseçš„æˆåŠŸä¸å¤±è´¥å›è°ƒï¼Œå½“æ‰§è¡Œresolveçš„æ—¶å€™ï¼Œå½“å‰Promiseçš„çŠ¶æ€å‘ç”Ÿå˜åŒ–ï¼Œå¼€å§‹æ‰§è¡Œä¹‹å‰å­˜å‚¨çš„å›è°ƒå‡½æ•°ï¼Œå¦‚æœä¸æ˜¯paddingï¼Œåˆ™ç«‹å³æ‰§è¡Œå›è°ƒå‡½æ•° åé¢çš„é—®é¢˜æˆ‘ä»¬æš‚æ—¶è¿˜æ— æ³•è§£é‡Šï¼Œä½†æ˜¯éšç€æˆ‘ä»¬è¿›ä¸€æ­¥çš„å®ç°ï¼Œç­”æ¡ˆéƒ½ä¼šæµ®å‡ºæ°´é¢ æ­£å¼ç‰ˆï¼ˆé“¾å¼å›è°ƒï¼Œthenå€¼ç©¿é€ï¼Œ.catch ç­‰ï¼‰é“¾å¼å›è°ƒâ€‹ æˆ‘ä»¬ä¸€èˆ¬å†™promiseéƒ½ä¼šå†™å¤šä¸ª.thenï¼Œåœ¨å¤šä¸ª.thenä¸­æˆ‘ä»¬å°†å¼‚æ­¥ä»£ç å˜æˆåŒæ­¥ä»£ç å—ï¼Œä½†æ˜¯æˆ‘ä»¬åŸºç¡€ç‰ˆæœ¬çš„promiseä¸­æ— æ³•æ˜¾ç¤ºé“¾å¼è°ƒç”¨ï¼Œå› ä¸ºæ‰§è¡Œ.thenä¹‹åå‡½æ•°æ²¡æœ‰ä»»ä½•è¿”å›å€¼ï¼Œè‡ªç„¶ä¸ä¼šå­˜åœ¨.thenæ–¹æ³•ï¼Œåœ¨è¿™ä¸ªæ€è·¯ä¸Šï¼Œæˆ‘ä»¬å¯¹promiseçš„.thenè§£æè¿‡ç¨‹è¿›è¡Œæ”¹å†™,å°è¯•è®©å…¶æ”¯æŒé“¾å¼è°ƒç”¨ æ¯æ¬¡.thenä¸­éƒ½éœ€è¦è¿”å›ä¸€ä¸ªpromiseæ¥è§¦å‘ä¸‹ä¸€ä¸ª.then å¯¹thenå›è°ƒå‡½æ•°çš„å„ç§æƒ…å†µéœ€è¦è¿›è¡Œåˆ¤æ–­ï¼Œä¾‹å¦‚ã€‚thenä¸­è¿”å›çš„æ˜¯ä¸€ä¸ªstringè¿˜æ˜¯è¿”å›äº†ä¸€ä¸ªpromiseï¼Œå¦‚æœæ˜¯åˆ™éœ€è¦å¢åŠ é“¾å¼å›è°ƒè§¦å‘çˆ¶çº§çš„resolve thenå‡½æ•°æ‰§è¡Œéœ€è¦é€šè¿‡settimeoutè¿›è¡ŒåŒ…è£¹ï¼Œè®©å…¶åŠ å…¥å®ä»»åŠ¡ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990/** * thenå¯èƒ½è¿”å›çš„æ˜¯æ™®é€šå€¼,ä¹Ÿå¯èƒ½è¿”å›ä¸€ä¸ªpromiseï¼Œè¿™é‡Œçš„å†™æ³•å‚ç…§PromiseA+æ ‡å‡†è¿›è¡Œå®Œæˆ * é€»è¾‘è¾ƒä¸ºå¤æ‚ï¼Œå¯ä»¥å…ˆçœ‹é™æ€å˜é‡ä»£ç é€»è¾‘ï¼Œå†çœ‹é’ˆå¯¹promiseçš„å¤„ç†é€»è¾‘ * @param &#123;*&#125; promise å½“å‰promise * @param &#123;*&#125; x å½“å‰è¿”å›å€¼ * @param &#123;*&#125; resolve æˆåŠŸå›è°ƒ * @param &#123;*&#125; reject å¤±è´¥å›è°ƒ */const resolvePromise = (promise, x, resolve, reject) =&gt; &#123; if (promise === x) &#123; return reject(new TypeError(&#x27;æ£€æµ‹åˆ°promiseçš„å¾ªç¯è°ƒç”¨&#x27;)) // &#x27;Chaining cycle detected for promise #&lt;Promise&gt;&#x27; &#125; let called = false if ((typeof x === &#x27;object&#x27; &amp;&amp; x !== null) || typeof x === &#x27;function&#x27;) &#123; try &#123; const then = x.then if (typeof then === &#x27;function&#x27;) &#123; then.call( x, (y) =&gt; &#123; if (called) return called = true resolvePromise(promise, y, resolve, reject) &#125;, (r) =&gt; &#123; if (called) return called = true reject(r) &#125; ) &#125; else &#123; resolve(x) &#125; &#125; catch (err) &#123; if (called) return called = true reject(err) &#125; &#125; else &#123; resolve(x) &#125;&#125;then(onFulfilled, onRejected) &#123; let apromise = new APromise((resolve, reject) =&gt; &#123; if (this.status === FULFILLED) &#123; setTimeout(() =&gt; &#123; try &#123; const x = onFulfilled(this.value) resolvePromise(apromise, x, resolve, reject) &#125; catch (err) &#123; reject(err) &#125; &#125;, 0) &#125; if (this.status === REJECTED) &#123; setTimeout(() =&gt; &#123; try &#123; const x = onRejected(this.reason) resolvePromise(apromise, x, resolve, reject) &#125; catch (err) &#123; reject(err) &#125; &#125;, 0) &#125; if (this.status === PEDDING) &#123; this.onFulfilledCallbacks.push(() =&gt; &#123; setTimeout(() =&gt; &#123; try &#123; const x = onFulfilled(this.value) resolvePromise(apromise, x, resolve, reject) &#125; catch (err) &#123; reject(err) &#125; &#125;, 0) &#125;) this.onRejectCallbacks.push(() =&gt; &#123; setTimeout(() =&gt; &#123; try &#123; const x = onRejected(this.reason) resolvePromise(apromise, x, resolve, reject) &#125; catch (err) &#123; reject(err) &#125; &#125;, 0) &#125;) &#125; &#125;) return apromise&#125; ç»è¿‡ä¸Šé¢çš„å†…éƒ¨promiseå¤„ç†ï¼Œå‡½æ•°çš„è¿è¡Œé€»è¾‘å‘ç”Ÿäº†å¾ˆå¤§çš„å˜åŒ– æˆ‘ä»¬ç›´è§‚çœ‹åˆ°çš„é€»è¾‘æ˜¯ â€‹ å®é™…çš„è¿è¡Œé€»è¾‘æ˜¯æ¯æ¬¡.thenä¸­éƒ½ä¼šå†æ¬¡åˆ›å»ºä¸€ä¸ªPromiseï¼Œä»¥ä¾¿äºä¸‹æ¬¡è¿›è¡Œè°ƒç”¨ï¼Œå¹¶ä¸”å¯¹.thençš„å›è°ƒå‡½æ•°è¿›è¡Œå¤„ç†ï¼ŒåŒºåˆ†.thenä¸­è¿”å›äº†Promiseå¯¹è±¡è¿˜æ˜¯æ™®é€šå¯¹è±¡ï¼Œè¿™æ ·çš„æ€è·¯å®ç°äº†.thené“¾å¼è°ƒç”¨ å½“thenä¸­å­˜åœ¨return promiseçš„æƒ…å†µï¼Œé€»è¾‘ä¼šå‘ç”Ÿä¸€äº›å˜åŒ–ï¼Œè¿™äº›ä¸»è¦ä½“ç°åœ¨resolvePromiseå‡½æ•°ä¸­ thenå€¼ç©¿é€é¦–å…ˆæŸ¥çœ‹ä¸€ç§åœºæ™¯ 12345678910new APromise((resolve, reject) =&gt; &#123; resolve(11111);&#125;) .then() .then() .then(data =&gt; &#123; console.log(&#x27;æˆåŠŸå›è°ƒ&#x27;, data); &#125;, err =&gt; &#123; console.log(&#x27;å¤±è´¥å›è°ƒ&#x27;, err); &#125;) â€‹ è¿™é‡Œæˆ‘ä»¬å°±ä¼šå‘ç°ï¼Œthençš„å›è°ƒå‡½æ•°éƒ½ä¸å­˜åœ¨ï¼Œè‡ªç„¶æ— æ³•å°†resolveçš„å€¼ä¼ é€’åˆ°æœ€ä¸‹é¢çš„.thenä¸­ï¼Œæ‰€ä»¥è¿™é‡Œæˆ‘ä»¬éœ€è¦å¯¹è¿™ç§æƒ…å†µåšä¸€äº›å¤„ç† 123456789then(onFulfilled, onRejected) &#123; // å€¼ç©¿é€é—®é¢˜ å¦‚æœthenæ˜¯ç©ºçš„è¯,å°±æ‰‹åŠ¨çš„å°†ä¸Šä¸€ä¸ªresolveçš„å€¼å¸¦å…¥åˆ°ä¸‹ä¸€ä¸ªthenä¸­ onFulfilled = typeof onFulfilled == &#x27;function&#x27; ? onFulfilled : (data) =&gt; data onRejected = typeof onRejected == &#x27;function&#x27; ? onRejected : (err) =&gt; &#123; throw err &#125; let apromise = new APromise((resolve, reject) =&gt; &#123; // .... &#125;) return apromise&#125; å½“æˆ‘ä»¬å¯¹thenå€¼ä¸­çš„å›è°ƒå‡½æ•°è¿›è¡Œå¤„ç†åï¼Œå®é™…è¿è¡Œçš„å‡½æ•°å˜æˆ 12345678910new APromise((resolve, reject) =&gt; &#123; resolve(11111);&#125;) .then((data) =&gt; data) .then((data) =&gt; data) .then(data =&gt; &#123; console.log(&#x27;æˆåŠŸå›è°ƒ&#x27;, data); &#125;, err =&gt; &#123; console.log(&#x27;å¤±è´¥å›è°ƒ&#x27;, err); &#125;) è¿™æ ·ä¾¿å®ç°äº†thenç©¿é€é—®é¢˜ .catchç›®å‰æˆ‘ä»¬é”™è¯¯å›è°ƒåœ¨.thençš„ç¬¬äºŒä¸ªå‚æ•°ä¸­ï¼Œå¹¶ä¸æ”¯æŒ.catchçš„å†™æ³•ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨åŸå‹é“¾ä¸Šé¢å¢åŠ catchæ–¹æ³• catchå…¶å®ä¹Ÿæ˜¯å¯¹.thenæ–¹æ³•çš„å°è£…ï¼Œåªä¸è¿‡ä¸å­˜åœ¨æˆåŠŸå›è°ƒï¼Œåªæœ‰å¤±è´¥å›è°ƒ 123APromise.prototype.catch = function (errCallback) &#123; return this.then(null, errCallback)&#125; .finally ç”±äºfinallyæ— æ³•é¢„çŸ¥promiseçš„æœ€ç»ˆçŠ¶æ€ï¼Œæ‰€ä»¥finallyçš„å›è°ƒå‡½æ•°ä¸­ä¸æ¥å—ä»»ä½•å‚æ•°ï¼Œä»–ä»…ç”¨äºæ— è®ºæœ€ç»ˆç»“æœéƒ½è¦æ‰§è¡Œçš„æƒ…å†µ éœ€è¦æ³¨æ„çš„ä¸€ç‚¹æ˜¯å¦‚æœfinallyä¸­å­˜åœ¨Promiseï¼Œè¿™éœ€è¦ç­‰å¾…promiseæ‰§è¡Œå®Œæ¯• 123456789101112APromise.prototype.finally = function (callBack) &#123; return this.then( (data) =&gt; &#123; return APromise.resolve(callBack()).then(() =&gt; data) &#125;, (err) =&gt; &#123; return APromise.reject(callBack()).then(() =&gt; &#123; throw err &#125;) &#125; )&#125; å…³äºfinallyçš„å°çŸ¥è¯†123Promise.resolve(2).then(() =&gt; &#123;&#125;, () =&gt; &#123;&#125;) // æ­¤æ—¶ä¼ é€’ä¸‹å»çš„æ˜¯undefinedPromise.resolve(2).finally(() =&gt; &#123;&#125;, () =&gt; &#123;&#125;) // ä¼ é€’ä¸‹å»çš„æ˜¯ 2ï¼Œfinallyæœ¬èº«æœªæ¥æ”¶å‚æ•°ï¼Œä½†æ˜¯å°†ä¸Šæ¬¡çš„å›è°ƒæ•°æ®æ”¾å…¥åˆ°äº†ä¸‹æ¬¡çš„å›è°ƒ Promise.resolve() è°ƒç”¨Promise.resolve()å°±ä¼šè¿”å›ä¸€ä¸ªçœŸå®çš„promiseï¼Œå¹¶ä¸”ç›´æ¥è¿”å›æˆåŠŸå›è°ƒ 12345APromise.resolve = function (data) &#123; return new APromise((resolve, reject) =&gt; &#123; resolve(data) &#125;)&#125; Promise.reject() è°ƒç”¨Promise.resolve()å°±ä¼šè¿”å›ä¸€ä¸ªçœŸå®çš„promiseï¼Œå¹¶ä¸”ç›´æ¥è¿”å›å¤±è´¥å›è°ƒ 12345APromise.reject = function (data) &#123; return new APromise((resolve, reject) =&gt; &#123; reject(data) &#125;)&#125; Promise.race() å½“è°ƒç”¨raceæ–¹æ³•çš„æ—¶å€™ï¼Œå¿…é¡»ä¼ å…¥ä¸€ä¸ªæ•°ç»„ï¼Œæ•°ç»„ä¸­å¯ä»¥å­˜åœ¨ä¸åŒç±»å‹ä»¥åŠå‡½æ•°ç±»å‹ï¼Œåœ¨åˆå§‹åŒ–è¿‡ç¨‹ä¸­ä¼šå†æ¬¡åˆ›å»ºä¸€ä¸ªpromiseï¼Œå½“æ•°ç»„ä¸­çš„æŸä¸ªpromiseå¯¹è±¡æœ€å…ˆæ‰§è¡Œçš„æ—¶å€™ï¼Œè§¦å‘è‡ªèº«çš„.thenåœ¨å›è°ƒå‡½æ•°ä¸­è§¦å‘äº†raceæœ¬èº«çš„resolveï¼Œåé¢æ‰§è¡Œå®Œæ¯•ä¹‹åï¼Œå› ä¸ºraceçš„çŠ¶æ€å·²ç»å‘ç”Ÿäº†å˜åŒ–ï¼Œè‡ªç„¶æ— æ³•å†æ‰§è¡Œ 1234567891011121314151617181920212223242526272829303132333435363738394041/** * åŒæ—¶æ‰§è¡Œå¤šä¸ªpromise,ä½†æ˜¯æœ€è¿”å›æœ€å…ˆè¿”å›çš„ç»“æœ * @param &#123;*&#125; promiseList * @returns */APromise.race = function (promiseList) &#123; if (!Array.isArray(promiseList)) &#123; throw new TypeError(&#x27;å¿…é¡»ä¼ é€’æ•°ç»„&#x27;) &#125; return new APromise((resolve, reject) =&gt; &#123; promiseList.forEach((item) =&gt; &#123; if (item &amp;&amp; typeof item.then == &#x27;function&#x27;) &#123; item.then(resolve, reject) &#125; else &#123; resolve(item) &#125; &#125;) &#125;)&#125;let p1 = new APromise((resolve, reject) =&gt; &#123; setTimeout(() =&gt; &#123; resolve(&#x27;ok1&#x27;) &#125;, 3000)&#125;)let p2 = new APromise((resolve, reject) =&gt; &#123; setTimeout(() =&gt; &#123; reject(&#x27;ok2&#x27;) &#125;, 2000)&#125;)APromise.race([1, p1, p2]).then( (data) =&gt; &#123; console.log(&#x27;success1&#x27;, data) &#125;, (err) =&gt; &#123; console.log(&#x27;error1&#x27;, err) &#125;) Promise.all() allçš„å®ç°é€»è¾‘éå¸¸ç®€å•ï¼Œallçš„æ—¶å€™åˆ›å»ºä¸€ä¸ªpromiseï¼Œå†…éƒ¨è®°å½•å½“å‰ä¼ å…¥çš„åˆ—è¡¨çŠ¶æ€æˆåŠŸçš„å•ä¸ªæ•°æ®ï¼Œå½“æ‰€æœ‰çš„thenæ•°æ®éƒ½æˆåŠŸï¼Œè°ƒç”¨è‡ªå·±çš„resolveï¼Œå½“æœ‰ä¸€ä¸ªå¤±è´¥çš„æ—¶å€™ï¼Œè°ƒç”¨è‡ªå·±çš„reject 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849/** * åŒæ—¶æ‰§è¡Œå¤šä¸ªpromise,ä¼šç­‰å¾…æ¯æ¬¡promiseçš„ç»“æœ,æœ€åä¸€èµ·è¿”å›,æœ‰ä¸€ä¸ªå¤±è´¥,è¿™éƒ½ä¸ä¼šè¿”å› * @param &#123;&#125; promiseList * @returns */APromise.all = function (promiseList) &#123; if (!Array.isArray(promiseList)) &#123; throw new TypeError(&#x27;å¿…é¡»æ˜¯æ•°ç»„&#x27;) &#125; return new APromise((resolve, reject) =&gt; &#123; const resulteArr = [] const len = promiseList.length let currentIndex = 0 const getResult = (key, val) =&gt; &#123; resulteArr[key] = val if (++currentIndex == len) &#123; resolve(resulteArr) &#125; &#125; for (let i = 0; i &lt; len; i++) &#123; const val = promiseList[i] if (val &amp;&amp; typeof val.then === &#x27;function&#x27;) &#123; val.then((data) =&gt; &#123; getResult(i, data) &#125;, reject) &#125; else &#123; getResult(i, val) &#125; &#125; &#125;)&#125;let p1 = new Promise((resolve, reject) =&gt; &#123; setTimeout(() =&gt; &#123; resolve(&#x27;ok1&#x27;); &#125;, 1000);&#125;)let p2 = new Promise((resolve, reject) =&gt; &#123; setTimeout(() =&gt; &#123; resolve(&#x27;ok2&#x27;); &#125;, 2000);&#125;)Promise.all([1,2,3,p1,p2]).then(data =&gt; &#123; console.log(&#x27;success&#x27;, data);&#125;, err =&gt; &#123; console.log(&#x27;error&#x27;, err);&#125;) Promise.any() å®ç°æ–¹æ³•ä¸alléå¸¸ç›¸ä¼¼ï¼Œæ˜¯allå®Œå…¨ç›¸åçš„æƒ…å†µ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051/** * anyä¸allå®Œå…¨ç›¸å,åªè¦æœ‰ä¸ªä¸€ä¸ªæˆåŠŸå°±ä¼šè¿”å›æˆåŠŸ,å…¨éƒ¨å¤±è´¥æ‰ä¼šè¿”å›å¤±è´¥ * @param &#123;*&#125; promiseList * @returns */APromise.any = function (promiseList) &#123; if (!Array.isArray(promiseList)) &#123; throw new TypeError(&#x27;å¿…é¡»æ˜¯æ•°ç»„&#x27;) &#125; return new APromise((resolve, reject) =&gt; &#123; const resultArr = [] const len = promiseList.length let currentIndex = 0 const getResult = (index, err) =&gt; &#123; resultArr[index] = err if (++currentIndex == len) &#123; reject(resultArr) &#125; &#125; promiseList.map((res, index) =&gt; &#123; if (res &amp;&amp; typeof res.then == &#x27;function&#x27;) &#123; res.then(resolve, (err) =&gt; &#123; getResult(index, err) &#125;) &#125; else &#123; resolve(res) &#125; &#125;) &#125;)&#125;let p3 = new APromise((resolve, reject) =&gt; &#123; setTimeout(() =&gt; &#123; reject(&#x27;err3&#x27;) &#125;, 1000)&#125;)let p4 = new APromise((resolve, reject) =&gt; &#123; setTimeout(() =&gt; &#123; reject(&#x27;err4&#x27;) &#125;, 2000)&#125;)APromise.any([p3, p4]).then( (data) =&gt; &#123; console.log(&#x27;success&#x27;, data) &#125;, (err) =&gt; &#123; console.log(&#x27;error&#x27;, err) &#125;) Promise.allSettled() allSettledæ˜¯ES2020åŠ å…¥çš„å·¥å…·æ–¹æ³•ï¼Œä¸€å¥è¯æ€»ç»“ï¼šä»–æ˜¯æ°¸è¿œéƒ½ä¸ä¼šå¤±è´¥å¤„ç†çš„promise.all 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273/** * ä¿å­˜æ‰€æœ‰çš„æˆåŠŸä¸å¤±è´¥ * @param &#123;*&#125; promiseList * @returns */APromise.allSettled = function (promiseList) &#123; if (!Array.isArray(promiseList)) &#123; throw new TypeError(&#x27;å¿…é¡»æ˜¯æ•°ç»„&#x27;) &#125; return new APromise((resolve, reject) =&gt; &#123; const resultArr = [] const len = promiseList.length let currentIndex = 0 const getResult = (index, data, status) =&gt; &#123; if (status == FULFILLED) &#123; resultArr.push(&#123; status: status, value: data, &#125;) &#125; if (status == REJECTED) &#123; resultArr.push(&#123; status: status, reason: data, &#125;) &#125; if (++currentIndex == len) &#123; resolve(resultArr) &#125; &#125; promiseList.map((res, index) =&gt; &#123; if (res &amp;&amp; typeof res.then == &#x27;function&#x27;) &#123; res.then( (data) =&gt; &#123; getResult(index, data, FULFILLED) &#125;, (err) =&gt; &#123; getResult(index, err, REJECTED) &#125; ) &#125; else &#123; getResult(index, res, FULFILLED) &#125; &#125;) &#125;)&#125;let p1 = new APromise((resolve, reject) =&gt; &#123; setTimeout(() =&gt; &#123; resolve(&#x27;ok1&#x27;) &#125;, 3000)&#125;)let p2 = new APromise((resolve, reject) =&gt; &#123; setTimeout(() =&gt; &#123; resolve(&#x27;ok2&#x27;) &#125;, 2000)&#125;)let p3 = new APromise((resolve, reject) =&gt; &#123; setTimeout(() =&gt; &#123; reject(&#x27;err3&#x27;) &#125;, 1000)&#125;)let p4 = new APromise((resolve, reject) =&gt; &#123; setTimeout(() =&gt; &#123; reject(&#x27;err4&#x27;) &#125;, 2000)&#125;)APromise.allSettled([1, 2, 3, p1, p2, p3, p4]).then((res) =&gt; &#123; console.log(&#x27;success&#x27;, res)&#125;) æµ‹è¯•å‡½æ•°é¦–å…ˆéœ€è¦å®‰è£…æµ‹è¯•è„šæœ¬ npm install -g promises-aplus-tests æµ‹è¯•å‘½ä»¤ promises-aplus-tests xxxx.js æµ‹è¯•æ–‡ä»¶æœ«å°¾éœ€è¦åŠ å…¥å¦‚ä¸‹ä»£ç  ä¸å­˜åœ¨é”™è¯¯åˆ™ä¸ºç¬¦åˆpromiseA+æ ‡å‡† 12345678910APromise.defer = APromise.deferred = function () &#123; let dfd = &#123;&#125; dfd.promise = new APromise((resolve, reject) =&gt; &#123; dfd.resolve = resolve dfd.reject = reject &#125;) return dfd&#125;module.exports = APromise æºç åœ°å€github-promise å¯ä»¥é€šè¿‡chrome DevToolæˆ–è€…Vscode Debugçš„æ–¹å¼ï¼ŒåŠ ä¸Šæ–­ç‚¹ï¼ŒæŸ¥çœ‹ä»£ç è¿è¡Œæµç¨‹ï¼Œä¾¿äºç†è§£promiseè¿è¡Œé€»è¾‘ å‚è€ƒé“¾æ¥é‡å­¦Promiseï¼ŒåŸºäºA+è§„èŒƒå®ç°å®ƒï¼Œæ„Ÿè°¢æ˜é‡‘@å…³erçš„promiseè§£è¯»æ–‡ç« ï¼Œå¤§å¤§é™ä½äº†æ·±å…¥promiseçš„é—¨æ§› PromiseA+è§„èŒƒ MDN-Promise 45é“Promiseé¢è¯•é¢˜","categories":[{"name":"JavaScript-2021","slug":"JavaScript-2021","permalink":"https://vkcyan.github.io/categories/JavaScript-2021/"}],"tags":[{"name":"JavaScript","slug":"JavaScript","permalink":"https://vkcyan.github.io/tags/JavaScript/"}]},{"title":"ç®€æ˜“ç‰ˆReactivityæºç è§£æ","slug":"æºç è§£è¯»/ç®€æ˜“ç‰ˆReactivityæºç è§£æ","date":"2021-11-30T16:00:00.000Z","updated":"2022-12-11T13:51:24.090Z","comments":true,"path":"2021/12/01/æºç è§£è¯»/ç®€æ˜“ç‰ˆReactivityæºç è§£æ/","link":"","permalink":"https://vkcyan.github.io/2021/12/01/%E6%BA%90%E7%A0%81%E8%A7%A3%E8%AF%BB/%E7%AE%80%E6%98%93%E7%89%88Reactivity%E6%BA%90%E7%A0%81%E8%A7%A3%E6%9E%90/","excerpt":"","text":"å‰è¨€â€‹ é¦–å…ˆæ„Ÿè°¢__mxinåŒå­¦çš„ç®€æ˜“ç‰ˆæœ¬ï¼Œæ²¡æœ‰è¿™ä¸ªç®€åŒ–ç‰ˆæœ¬ï¼Œæˆ‘å¤§æ¦‚ç‡ä¹Ÿæ²¡åŠæ³•æ²‰ä¸‹å¿ƒæ¥å°†ä»£ç è¯»ä¸‹å»ï¼Œå†æ¬¡è¡¨ç¤ºæ„Ÿè°¢ï¼Œé€šè¯»ä¸‹æ¥ç®€åŒ–ä¹‹åçš„é€»è¾‘æ¸…æ™°ï¼Œåªéœ€è¦å¯¹å‡ ä¸ªJavaScriptåŸç”ŸAPIè¿›è¡Œäº†è§£ï¼Œèµ°å®Œä»£ç æµç¨‹ï¼Œä¾¿äº†è§£äº†æ ¸å¿ƒæµç¨‹ ä»£ç åœ°å€ï¼šä¼ é€é—¨ å‰ç½®çŸ¥è¯†Proxy Reflect WeakMap æ ¸å¿ƒæµç¨‹å›¾â€‹ å°è¯•ç»˜åˆ¶äº†ä¸€éä»£ç æµç¨‹å›¾ï¼Œä¸»è¦æµç¨‹å°±æ˜¯åˆå§‹åŒ–æ—¶å€™å¯¹reactiveï¼Œcomputedï¼Œeffectçš„ä¾èµ–æ”¶é›†ï¼Œä»¥åŠåœ¨è§¦å‘setäº‹ä»¶çš„æ—¶å€™ï¼Œå¯¹æ”¶é›†åˆ°çš„ä¾èµ–çš„è§¦å‘ reactive123456789const object = &#123; r: 0, g: 0, b: 0, o: &#123; a: 1, &#125;, &#125; const proxy = reactive(object) â€‹ reactiveæ˜¯ä¸€ä¸ªèµ‹äºˆå¯¹è±¡å“åº”å¼ç‰¹å¾çš„æ–¹æ³•ï¼Œä¼ å…¥çš„æ•°æ®ä¼šè¢«proxyä»£ç†ï¼Œå˜é‡ä¸€æ—¦è¢«ä»£ç†ï¼Œå°±å°†ä¼šè¢«åŠ å…¥reactiveMapï¼Œä»¥åéƒ½ä¼šè§¦å‘reactiveMapå†…çš„proxy 12345678910111213141516171819202122232425262728/** * å®šä¹‰å“åº”å¼å¯¹è±¡ï¼Œè¿”å›proxyä»£ç†å¯¹è±¡ * @param &#123;*&#125; object */function reactive(object) &#123;// åˆ¤æ–­æ˜¯å¦å·²ç»ä»£ç†ï¼Œå·²ç»å­˜åœ¨ç›´æ¥å–è‡ª if (reactiveMap.has(object)) return reactiveMap.get(object) // ç¬¬ä¸€æ¬¡è¿›è¡Œå¤„ç†ï¼Œè¿›è¡Œproxyä»£ç† const proxy = new Proxy(object, &#123; // å¤„ç†å™¨å¯¹è±¡ï¼Œå®šä¹‰æ•è·å™¨ get(target, key) &#123; console.log(&#x27;getæ–¹æ³•&#x27;, target, key) // é’ˆå¯¹effectï¼Œcomputedä¾èµ–è¿›è¡Œå¤„ç† track(target, key) // å¦‚æœå½“å‰ä»£ç†çš„å€¼ä¸ºobjectç±»å‹ï¼Œå°†ä¼šå¯¹å½“å‰çš„å€¼å†æ¬¡è¿›è¡Œproxy,å¦åˆ™ç›´æ¥è·å–æ•°æ® return typeof target[key] === &#x27;object&#x27; ? reactive(target[key]) : Reflect.get(...arguments) &#125;, set(target, key) &#123; console.log(&#x27;è®¾ç½®çš„å€¼&#x27;, ...arguments) // åœ¨setäº‹ä»¶ä¸­å¯¹åŸæœ¬çš„æ•°æ®è¿›è¡Œä¿®æ”¹ Reflect.set(...arguments) // trigger(target, key) &#125;, &#125;) reactiveMap.set(object, proxy) return proxy&#125; å®Œæˆä»£ç†çš„æ•°æ® effect effectä¼šåœ¨ä¾èµ–çš„ç»è¿‡reactiveå¤„ç†åçš„å¯¹è±¡å‘ç”Ÿå˜åŒ–çš„æ—¶å€™ï¼Œè‡ªåŠ¨æ‰§è¡Œä¸€æ¬¡å›è°ƒå‡½æ•°ï¼Œé€šå¸¸ç§°å®ƒä¸ºå‰¯ä½œç”¨å‡½æ•° effectçš„å®ç°æ˜¯Reactivityæœ€æ ¸å¿ƒçš„éƒ¨åˆ†ï¼Œä¹Ÿæ˜¯æ¯”è¾ƒéš¾ç†è§£çš„éƒ¨åˆ†ï¼Œä¾èµ–WeakMapè¿›è¡Œå®ç°ï¼Œå¦‚æœä¸äº†è§£WeakMapï¼ŒåŠ¡å¿…å…ˆå»çœ‹ä¸€ä¸‹æ–‡æ¡£ 1234567const computedObj = computed(() =&gt; &#123; return proxy.r * 2&#125;)effect(() =&gt; &#123; console.log(`proxy.o.a: $&#123;proxy.o.a&#125;`)&#125;) åˆå§‹åŒ–çš„è¿‡ç¨‹ä¸­è§¦å‘effectï¼Œå°†å‡½æ•°fnæ”¾å…¥effectStackï¼ŒåŒæ—¶æ‰§è¡Œeffectä¸­çš„å‡½æ•°ï¼Œä¸€æ—¦æ‰§è¡Œï¼Œå¿…å®šä¼šè§¦å‘ç»è¿‡reactiveä»£ç†çš„getå‡½æ•°ï¼Œè¿›è¡Œæ•°æ®è·å– 123456789101112131415161718192021222324252627282930313233343536373839404142const effectStack = [] // æ”¶é›†å‰¯ä½œç”¨å‡½æ•°/** * å‰¯ä½œç”¨å‡½æ•° */function effect(fn) &#123; try &#123; // å°†éœ€è¦æ‰§è¡Œçš„effectå…¥æ ˆ effectStack.push(fn) // **** æ‰§è¡Œè¯¥effectï¼Œè¿›å…¥proxyçš„getæ‹¦æˆª **** return fn() &#125; finally &#123; // ä¾èµ–æ”¶é›†å®Œæ¯•åŠæ‰€æœ‰getæµç¨‹èµ°å®Œï¼Œå½“å‰effectå‡ºæ ˆ effectStack.pop() &#125;&#125;// ......// getæ–¹æ³•è§¦å‘äº†trackæ–¹æ³•get(target, key) &#123; // .... track(target, key) // ....&#125;/** * ä¾èµ–æ”¶é›† */function track(target, key) &#123; // åˆå§‹åŒ–ä¾èµ–Map let depsMap = targetMap.get(target) if (!depsMap) &#123; targetMap.set(target, (depsMap = new Map())) &#125; // ç¬¬äºŒå±‚ä¾èµ–ä½¿ç”¨Setå­˜æ”¾keyå¯¹åº”çš„effect let dep = depsMap.get(key) if (!dep) &#123; targetMap.get(target).set(key, (dep = new Set())) &#125; // å–å½“å‰æ ˆä¸­çš„effectå­˜å…¥ç¬¬äºŒå±‚ä¾èµ–ä¸­ const activeEffect = effectStack[effectStack.length - 1] activeEffect &amp;&amp; dep.add(activeEffect) // æœ€åè§¦å‘effectå‡½æ•°çš„finallyï¼Œå°†å¤„ç†å®Œæ¯•çš„effectè¿›è¡Œå¼¹å‡ºï¼Œå®Œæˆä¾èµ–æ”¶é›†&#125; åˆå§‹åŒ–å®Œæˆåï¼Œeffectå…¨éƒ¨å®Œæˆå¤„ç†ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹ä¸€ä¸‹targetMapçš„æ•°æ® æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œå˜é‡aä¸effectä¸­çš„å‡½æ•°å…³è”åœ¨äº†ä¸€èµ·ï¼Œç»è¿‡trackå¤„ç†åï¼Œeffectå†…éƒ¨ç”¨åˆ°çš„å˜é‡éƒ½ä¸effectå»ºç«‹äº†æŸç§å…³è”ï¼Œè‡³æ­¤æˆ‘ä»¬å°±å®Œæˆäº†ä¾èµ–æ”¶é›† computedReactivityè®¡ç®—å±æ€§çš„å®ç°æ˜¯ä¾èµ–effectè¿›è¡Œå®ç°ï¼Œä»…ä»…æ˜¯å¢åŠ äº†ä¸€ä¸ªvalueå‡½æ•°è¿›è¡ŒåŒ…è£¹ 12345678910/** * è®¡ç®—å±æ€§ */function computed(fn) &#123; return &#123; get value() &#123; return effect(fn) &#125;, &#125;&#125; å˜é‡å‘ç”Ÿå˜åŒ–æ•°æ®å‘ç”Ÿå˜åŒ–çš„æ—¶å€™ï¼Œä¾‹å¦‚æˆ‘ä»¬å°†proxy.o.a&#x3D;1,ä»–æ˜¯å¦‚ä½•å®Œæˆå“åº”å¼ï¼Œä»¥åŠeffectçš„è§¦å‘çš„å‘¢ï¼Ÿ é¦–å…ˆä¸€å®šæ˜¯è§¦å‘proxyçš„setå‡½æ•° 123456789101112131415161718192021222324set(target, key) // ä¿®æ”¹ä»£ç†çš„å€¼ Reflect.set(...arguments) // ç­‰åŒäºarguments[0][arguments[1]] = arguments[2] // è§¦å‘ä¾èµ–æ”¶é›†å™¨ trigger(target, key)&#125;, /** * ä¾èµ–æ”¶é›†è§¦å‘å™¨ */function trigger(target, key) &#123; // target: &#123;a:1&#125; key: a // è·å–å½“å‰ä¿®æ”¹çš„å€¼ const depMap = targetMap.get(target) // å¼€å§‹æ‰§è¡Œeffectæ–¹æ³• if (depMap) &#123; // å¦‚æœå­˜åœ¨ï¼Œå¼€å§‹å¯»æ‰¾Mapçš„valueï¼Œåœ¨é€šè¿‡keyæ‰¾åˆ°å¯¹åº”çš„å›è°ƒå‡½æ•° const effects = depMap.get(key) effects &amp;&amp; effects.forEach((run) =&gt; &#123; // æ‰§è¡Œæ”¶é›†çš„effectå‡½æ•° run() &#125;) &#125;&#125; è‡³æ­¤å®Œæˆæ•°æ®çš„å“åº”å¼ï¼Œeffectçš„å‡½æ•°è§¦å‘å®Œæˆ å…³é”®æ¦‚å¿µreactive åˆ›å»ºå“åº”å¼å¯¹è±¡ effect å‰¯ä½œç”¨å‡½æ•°ï¼Œå­˜å‚¨åŒ¿åå‡½æ•°ï¼ŒåŒæ—¶è°ƒç”¨è‡ªèº«æ”¶é›†ä¾èµ–ï¼Œæœ€åå¼¹å‡ºåŒ¿åå‡½æ•° computed è®¡ç®—å±æ€§ï¼Œå…¶åŸç†æ˜¯å¯¹effectçš„åŒ…è£… track æ”¶é›†ä¾èµ–ï¼Œç»‘å®šå˜é‡ä¸ä½¿ç”¨è¯¥å˜é‡çš„effect trigger è§¦å‘ä¾èµ–ï¼Œæ ¹æ®å˜é‡è§¦å‘å¯¹åº”çš„effect æ€»ç»“â€‹ è¿™ä¸ªæ–‡ç« æ˜¯ä¸€ä¸ªä»£ç è®°å½•è´´ï¼Œå¸Œæœ›å¤§å®¶çœ‹åˆ°å¯ä»¥é™ä¸‹å¿ƒæ¥çœ‹çœ‹__mxinåŒå­¦çš„æ–‡ç« ï¼Œæˆ–è€…ä¼ é€é—¨ä»£ç ï¼Œäº†è§£äº†åŸºç¡€çš„åŸç†åå†å»çœ‹@vue&#x2F;Reactivityçš„ä»£ç ï¼Œå°†ä¼šäº‹åŠåŠŸå€ï¼› â€‹ æ—¥ç§¯æœˆç´¯ï¼Œå°†çŸ¥è¯†å˜æˆä½ çš„è´¢å¯Œå§","categories":[{"name":"JavaScript-2021","slug":"JavaScript-2021","permalink":"https://vkcyan.github.io/categories/JavaScript-2021/"}],"tags":[{"name":"JavaScript","slug":"JavaScript","permalink":"https://vkcyan.github.io/tags/JavaScript/"}]},{"title":"React17å­¦ä¹ è®°å½•","slug":"æŠ€æœ¯æ–‡ç« /react17å­¦ä¹ ","date":"2021-10-14T16:00:00.000Z","updated":"2022-12-11T13:51:24.087Z","comments":true,"path":"2021/10/15/æŠ€æœ¯æ–‡ç« /react17å­¦ä¹ /","link":"","permalink":"https://vkcyan.github.io/2021/10/15/%E6%8A%80%E6%9C%AF%E6%96%87%E7%AB%A0/react17%E5%AD%A6%E4%B9%A0/","excerpt":"","text":"ä¸ºä»€ä¹ˆå­¦ä¹ React17â€‹ å…¬å¸ä½¿ç”¨çš„æ˜¯vueæŠ€æœ¯æ ˆï¼Œå¹¶ä¸”å› ä¸ºå†å²åŸå› ï¼Œä»¥åŠå¤–éƒ¨å› ç´ ï¼Œå¯èƒ½ä¸ä¼šä½¿ç”¨reactæ¥åšç”Ÿäº§ç¯å¢ƒçš„é¡¹ç›®ï¼Œæœ€è¿‘vue3èµ°ä¸Šæ­£è½¨ï¼Œå¤§å®¶éƒ½éœ€è¦æŠ›å¼ƒvue2.xçš„ç¼–ç æ€æƒ³ï¼Œåœ¨vue3ä¸­ï¼Œhookæ€æƒ³å¼€å§‹è¶Šå‘æ˜æ˜¾ï¼Œæ‰€ä»¥å­¦ä¹ react17ä¹Ÿæ˜¯æƒ³å€Ÿæ­¤åŠ æ·±å¯¹hookçš„ç†è§£ï¼ŒåŒæ—¶å–é•¿è¡¥çŸ­ï¼Œç»¼åˆvueä¸reactçš„ä¼˜ç‚¹ï¼Œåœ¨å®é™…çš„å¼€å‘ä¸­æ›´å¥½çš„å®Œæˆå¼€å‘ä»»åŠ¡ useStateçš„ç–‘é—®â€‹ å…³äºreactçš„useStateæœ‰ä¸€ä¸ªç–‘é—®ï¼ŒuseStateé‡Œé¢æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œæˆ‘æƒ³è¦ä¿®æ”¹å¯¹è±¡é‡Œé¢çš„æŸä¸€ä¸ªå­—æ®µï¼Œæ¯æ¬¡éƒ½éœ€è¦...state,æŠŠä¹‹å‰çš„æ•°æ®é¢„å…ˆå¡«å…¥ï¼Œè¿™åšæ³•æ„Ÿè§‰æœ‰ç‚¹å‚» è‡ªå®šä¹‰hookhookæ˜¯åœ¨ç‰¹å®šæ¢ä¸‹è°ƒç”¨è‡ªå·±çš„ä»£ç  å®ç°è‡ªå®šä¹‰hookå¿…é¡»ä½¿ç”¨å…³é”®å­—useå¼€å¤´ï¼Œè¿™æ˜¯ESLintçš„è§„åˆ™ è‡ªå®šä¹‰hookä¸€èˆ¬ç”¨äºéœ€è¦æŒç»­ç›‘å¬çš„å€¼ï¼Œè€Œé’ˆå¯¹çº¯å·¥å…·å‡½æ•°åˆ™ä¸éœ€è¦è¿›è¡Œå¤„ç† å®ç°ä¸€ä¸ªhooké£æ ¼çš„é˜²æŠ–å‡½æ•°1234567891011121314151617181920212223242526const [param, setParam] = useState(&#x27;ha ha&#x27;);const debounceParam = useDebounce(param, 2000);useEffect(() =&gt; &#123; console.log(&#x27;log log&#x27;)&#125;, [debounceParam]);/** * å»æŠ–å‡½æ•° * @param value ç›‘å¬çš„å€¼ * @param delay é˜²æŠ–æ—¶é—´ * @returns å˜åŒ–åå˜é‡ */export function useDebounce(value, delay) &#123; // å£°æ˜ä¸€ä¸ªä¿å­˜é˜²æŠ–ç»“æœçš„å­—æ®µ const [debounceValue, setDebounceValue] = useState(value); useEffect(() =&gt; &#123; // æ¯æ¬¡value,delayå‘ç”Ÿå˜åŒ–çš„æ—¶å€™ç”Ÿæˆä¸€ä¸ªå®šæ—¶å™¨ const timeout = setTimeout(() =&gt; &#123; setDebounceValue(value); &#125;, delay); // åœ¨æ‰§è¡Œä¸‹ä¸€ä¸ªuseEffectä¹‹å‰,ä¼šæ‰§è¡Œä¸Šä¸€ä¸ªuseEffectçš„è¿”å›å‡½æ•° return () =&gt; clearTimeout(timeout); &#125;, [value, delay]); return debounceValue;&#125; useDebounceæ˜¯ä¸€ä¸ªhooké£æ ¼çš„å‡½æ•° æ¯æ¬¡paramå‘ç”Ÿå˜åŒ–éƒ½ä¼šè§¦å‘useDebounceä¸­çš„useEffect è€Œåœ¨2000msæ—¶é—´å†…å¦‚æœé‡å¤è§¦å‘å°±ä¼šæ‰§è¡Œä¸Šä¸€ä¸ªeffect returnçš„å‡½æ•° è¿›è€Œä¸ä¿®æ”¹debounceValueï¼Œç›´åˆ°2000mså†…æ— ä»»ä½•æ“ä½œï¼Œè§¦å‘setDebounceValueä¿®æ”¹å±æ€§ï¼Œæ”¹å˜äº†debounceParam ç¬¬ä¸€ä¸ªuseEffectè§¦å‘ï¼Œè§¦å‘æ‰“å°log log reactä¸­ä½¿ç”¨TSåšä»£ç é™æ€æ£€æŸ¥ å‡½æ•°ç±»å‹ fn: () =&gt; void anyç±»å‹æ˜¯å±é™©çš„ï¼Œåº”å½“å°½é‡ä¸ç”¨ï¼Œä½†æ˜¯å¯¹äºæ¨¡ç³Šçš„ç±»å‹ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨æ ‡æ³¨ç±»å‹ä¸ºunknownï¼Œè¿™æ ·å°±ä¸ä¼šå¯¹èµ‹å€¼åšä»»ä½•æ ¡éªŒï¼Œä½†æ˜¯tsä¸å…è®¸æˆ‘ä»¬å¯¹unknownç±»å‹åšå‡ºä»»ä½•å¤„ç†ï¼Œæ‰€ä»¥å¯ä»¥å§unknownç†è§£æˆä¸ºåŠ å¼ºç‰ˆany é’ˆå¯¹å‚æ•°ä¸å›ºå®šï¼Œè¿”å›å€¼ä¸ç¡®å®šçš„åœºæ™¯ï¼Œåº”å½“ä½¿ç”¨æ³›å‹ï¼Œåœ¨æ–¹æ³•åç§°åé¢åŠ ,ç„¶ååœ¨å‚æ•°ä¸ŠæŒ‡å®šæŸä¸€ä¸ªä¸ºTï¼Œåˆ™Tè·Ÿè¿™å‚æ•°çš„ç±»å‹è€Œå˜åŒ– è‡ªå®šä¹‰hook useArray ä¼ å…¥ä¸€ä¸ªhookï¼Œæˆ‘ä»¬è¿”å›é’ˆå¯¹è¿™ä¸ªhookçš„å¯ä½¿ç”¨çš„å¯¹åº”æ–¹æ³•ï¼Œæ€»ä½“æ¥è¯´å®ç°ä¸€ä¸ªhookè¿˜æ˜¯ä¸€ä¸ªæ¯”è¾ƒç®€å• 1234567891011121314151617181920212223242526/** * hookå¤„ç†çš„Array * @param value * @returns */export function useArray&lt;V&gt;(value: V[]) &#123; const [arrayValue, setArrayValue] = useState(value); const clear = () =&gt; &#123; setArrayValue([]); &#125;; const add = (value: V) =&gt; &#123; setArrayValue([...arrayValue, value]); &#125;; const removeIndex = (index: number) =&gt; &#123; let value = [...arrayValue]; value.splice(index, 1); setArrayValue(value); &#125;; return &#123; value: arrayValue, add, clear, removeIndex, &#125;;&#125; å…³äºTSä¸­interfaceçš„å±æ€§ç»§æ‰¿123456789101112131415161718interface a &#123; a: number;&#125;interface b extends a &#123; b: number;&#125;let c: b = &#123; a: 1, b: 2,&#125;;function test(p: a) &#123; console.log(p);&#125;test(c); // ä¸ä¼šæŠ¥é”™ï¼Œå› ä¸ºbåŒ…å«äº†aï¼Œæ‰€ä»¥è¿™ä¸ªä¼ å…¥bä¹Ÿä¸ä¼šå‡ºç°é”™è¯¯ useContext useContextä¸»è¦ç”¨äºå¤šä¸ªç»„ä»¶ä¹‹é—´å…±äº«çŠ¶æ€ åœ¨parentç»„ä»¶ä¸­å­˜åœ¨child1.child2ï¼Œchild3ç»„ä»¶ï¼Œæˆ‘ä»¬å¸Œæœ›è¿™äº›ç»„ä»¶ä¹‹å‰éƒ½å…±äº«ä¸€ä¸ªçŠ¶æ€1 ç”ŸæˆcreateContext 1const TestContext = React.createContext(&#123;&#125;); ä½¿ç”¨createContext.ProvideråŒ…è£¹parentç»„ä»¶ 1234567891011&lt;TestContext.Provider value=&#123;&#123; username: &#x27;æˆ‘æ˜¯å˜é‡&#x27;, &#125;&#125;&gt; &lt;div className=&quot;parent&quot;&gt; &lt;Child1 /&gt; &lt;Child2 /&gt; &lt;Child3 /&gt; &lt;/div&gt;&lt;TestContext.Provider/&gt; åœ¨å­ç»„ä»¶ä¸­å°±å¯ä»¥ä½¿ç”¨useContextæ¥è·å–çˆ¶çº§åˆ›å»ºçš„TestContext 12345678const Child1 = () =&gt; &#123; const &#123; username &#125; = useContext(TestContext); return ( &lt;div className=&quot;child1&quot;&gt; &lt;p&gt;1 message for &#123;username&#125;&lt;/p&gt; &lt;/div&gt; )&#125; é€šè¿‡useContextå°±å¯ä»¥åšåˆ°å­ç»„ä»¶å…±äº«ä¸€ä¸ªçŠ¶æ€ï¼Œå¦‚æœçŠ¶æ€è¢«æ”¹å˜ï¼Œæ‰€æœ‰ä½¿ç”¨å˜é‡çš„éƒ½æ”¾éƒ½ä¼šå‘ç”Ÿå˜åŒ– TSç±»å‹çš„ä¸€äº›çŸ¥è¯†Parameters è·å–å‡½æ•°çš„å…¨éƒ¨å‚æ•°ï¼Œå¹¶ä¸”ä»¥å…ƒç¥–ç±»å‹è¿›è¡Œè¿”å›,Utiltity Types 123456function test(a: string, b: number, c: number[], d: any) &#123;&#125;// ç›´æ¥ç»§æ‰¿testå‡½æ•°çš„å…¨éƒ¨å‚æ•°ç±»å‹function testPlus(...[a, b, c, d]: Parameters&lt;typeof test&gt;) &#123; console.log(a, b, c, d);&#125; è”åˆç±»å‹12345678910111213141516let a:string | number; // å¯ä»¥æ˜¯å¤šç§ç±»å‹// æŠ½è±¡è”åˆç±»å‹type aType:string | number;let a:aType// ä¹Ÿå¯ä»¥é€šè¿‡interfaceå¯ä»¥å®ç°ç±»å‹åŠŸèƒ½ï¼Œä½†æ˜¯æŒ‡å®šå•ä¸ªç±»å‹æ˜¯æ— æ³•å®ç°çš„ï¼Œä½†æ˜¯interfaceçš„å…¨éƒ¨åŠŸèƒ½typeéƒ½å¯ä»¥å®ç°// ä¾‹å¦‚ï¼šinterface aaa &#123; a:string&#125;type aaa = &#123; a:string&#125;// ä»¥ä¸Š2ç§æ•ˆæœéƒ½æ˜¯ä¸€è‡´çš„ jsçš„typeofä¸tsçš„typeof123// js: typeof runtimeé˜¶æ®µè¿è¡Œ æ£€æŸ¥å‚æ•°çš„ç±»å‹// ts: typeof é™æ€æ£€æŸ¥é˜¶æ®µè¿è¡Œ è¯†åˆ«å‡½æ•°çš„å‚æ•° Partialä¸Omitå…³é”®å­—123456789101112131415type Preson = &#123; name: string; age: String; sex: string;&#125;;// Partialå…³é”®å­—ä¼šå°†ä¼ å…¥çš„ç±»å‹å¤„ç†æˆä¸ºéå¿…å¡«const xiaoMin: Partial&lt;Preson&gt; = &#123; age: &quot;éå¿…å¡«&quot;, name: &quot;éå¿…å¡«&quot;, sex: &quot;éå¿…å¡«&quot;,&#125;;// Omit ä¼šåˆ é™¤ç¬¬ä¸€ä¸ªå‚æ•° ç±»å‹ ä¸­çš„ç¬¬äºŒä¸ªå‚æ•°ä¸­çš„å˜é‡ å¹¶è¿”å›ç»“æœ ä¾‹å¦‚è¿™é‡Œåˆ é™¤ name ageconst shenMiRen: Omit&lt;Preson, &quot;age&quot; | &quot;name&quot;&gt; = &#123; sex: &quot;ç”·&quot; &#125;; å…³äºcssä¸€äº›ä¸çŸ¥é“çš„å…³äºrememè¡¨ç¤ºç›¸å¯¹äºçˆ¶çº§çš„font-size remè¡¨ç¤ºç›¸å¯¹äºæ ¹å…ƒç´ htmlçš„font-size æ­£å¸¸é»˜è®¤font-sizeä¸º16pxï¼Œé‚£ä¹ˆ1rem &#x3D;&#x3D;&#x3D; 16px å¦‚æœå¸Œæœ›remçš„æ¯”ä¾‹è‡ªå®šä¹‰åªéœ€è¦å°†htmlçš„font-sizeè®¾ç½®ä¸ºå¯¹åº”çš„ç™¾åˆ†å°±è¡Œï¼Œä¾‹å¦‚è®¾ç½®ä¸º62.5çš„æ—¶å€™1rem &#x3D;&#x3D;&#x3D; 10px å…³äºvhvhçš„å…¨ç§°ä¸ºviewport heightï¼Œ100vhå°±æ˜¯ä»£è¡¨è§†å£çš„é«˜åº¦ emotion emotionæ˜¯ä¸€ä¸ªcss in jsçš„æ–¹æ¡ˆï¼Œä¹Ÿå°±æ˜¯ä½¿ç”¨jsæ¥å†™cssä»£ç ï¼Œè¿™æ ·çš„è¯å°±å¯ä»¥åœ¨cssä¸­ç›´æ¥å†™é€»è¾‘ 12345678910111213import styled from &quot;@emotion/styled&quot;;export const Row = styled.div&lt;&#123; gap: number;&#125;&gt;` display: flex; align-items: center; &gt; * &#123; margin-top: 0 !important; margin-bottom: 0 !important; margin-right: $&#123;(props) =&gt; `$&#123;props.gap&#125;rem`&#125;; &#125;`; è‡ªå®šä¹‰hook useAsyncçš„å®ç° useAsyncå¯ä»¥ç†è§£ä¸ºé’ˆå¯¹è¯·æ±‚ä½“å†æ¬¡å°è£…ï¼Œç»è¿‡å°è£…ä¹‹åçš„è¯·æ±‚ä½“ï¼Œè‡ªå¸¦è¯·æ±‚è¿›åº¦ï¼Œä»¥åŠé’ˆå¯¹catchæ›´åŠ ä¼˜é›…çš„å¤„ç†æ–¹å¼ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172import &#123; useState &#125; from &quot;react&quot;;interface State&lt;D&gt; &#123; error: Error | null; data: D | null; status: &quot;idle&quot; | &quot;loading&quot; | &quot;error&quot; | &quot;success&quot;;&#125;// å»ºç«‹åˆå§‹åŒ–çš„å€¼const defaultState: State&lt;null&gt; = &#123; data: null, error: null, status: &quot;idle&quot;,&#125;;// å®ç°å‡½æ•°export const useAsync = &lt;D&gt;(initState?: State&lt;D&gt;) =&gt; &#123; // é»˜è®¤çŠ¶æ€ const [state, setState] = useState&lt;State&lt;D&gt;&gt;(&#123; ...defaultState, ...initState, &#125;); // è¯·æ±‚æˆåŠŸçš„è°ƒç”¨ const setData = (data: D) =&gt; &#123; setState(&#123; data, status: &quot;success&quot;, error: null, &#125;); &#125;; // è¯·æ±‚å¤±è´¥çš„è°ƒç”¨ const setError = (error: Error) =&gt; &#123; setState(&#123; data: null, error: error, status: &quot;error&quot;, &#125;); &#125;; // è¯·æ±‚å¼€å§‹çš„è°ƒç”¨ const setLoading = () =&gt; &#123; setState(&#123; data: null, error: null, status: &quot;loading&quot;, &#125;); &#125;; // å¯¹å¤–å®é™…æ‰§è¡Œçš„å‡½æ•° const run = (promise: Promise&lt;D&gt;) =&gt; &#123; if (!promise || !promise.then) &#123; throw new Error(&quot;è¯·ä¼ å…¥ promise ç±»å‹æ•°æ®&quot;); &#125; setLoading(); return promise .then((data) =&gt; &#123; setData(data); &#125;) .catch((err) =&gt; &#123; setError(err); &#125;); &#125;; return &#123; isIdle: state.status == &quot;idle&quot;, isLoading: state.status == &quot;loading&quot;, isError: state.status == &quot;error&quot;, isSuccess: state.status == &quot;success&quot;, run, setData, setLoading, setError, ...state, &#125;;&#125;; ä½¿ç”¨é˜¶æ®µ 12345678// é€»è¾‘é¡¶éƒ¨åº”ç”¨ç›¸å…³é€»è¾‘ const projectData = useAsync&lt;any[]&gt;(); // æ³›å‹ä¸ºåå°è¿”å›çš„æ•°æ®çš„ç±»å‹// å¯åŠ¨è¯·æ±‚ï¼Œä¼ å…¥è¯·æ±‚ä½“projectData.run(request);// è¯·æ±‚å®Œæˆåï¼ŒprojectDataä¸­çš„æ•°æ®çŠ¶æ€ä¼šè¢«åŒæ­¥æ›´æ–°let &#123; data, isLoading,isError,...other&#125; = projectData reactä¸­å®ç°æ•æ‰è¾¹ç•Œé”™è¯¯ å…³äºé”™è¯¯è¾¹ç•Œçš„æ¦‚å¿µåœ¨reactå®˜ç½‘ä¸­æ˜¯è¿™æ ·æè¿°çš„ï¼Œç»„ä»¶å†…çš„JavaScripté”™è¯¯ä¼šå¯¼è‡´Reactçš„å†…éƒ¨çŠ¶æ€è¢«ç ´åï¼Œå¹¶ä¸”åœ¨ä¸‹ä¸€æ¬¡çš„æ¸²æŸ“æ—¶ä¼šäº§ç”Ÿå¯èƒ½æ— æ³•è¿½è¸ªçš„é”™è¯¯ï¼Œä½†æ˜¯éƒ¨åˆ†uiçš„JavaScripté”™è¯¯ä¸åº”è¯¥å¯¼è‡´æ•´ä¸ªåº”ç”¨çš„å´©æºƒï¼Œæ‰€ä»¥react16ä¸­å¼•å…¥äº†é”™è¯¯è¾¹ç•Œçš„æ¦‚å¿µï¼Œ é”™è¯¯è¾¹ç•Œæ˜¯ä¸€ç§reactç»„ä»¶ï¼Œæœ€ç»ˆç»„ä»¶å¯ä»¥æ•è·å‘ç”Ÿåœ¨å…¶æœ±ç»„ä»¶æ ‘ä»»ä½•ä½ç½®çš„JavaScripté”™è¯¯ï¼Œå¹¶æ‰“å°é”™è¯¯ï¼ŒåŒæ—¶å±•ç¤ºé™çº§uiï¼Œè€Œå¹¶ä¸ä¼šæ¸²æŸ“å‘ç”Ÿå´©æºƒçš„å­ç»„ä»¶æ ‘ï¼Œé”™è¯¯è¾¹ç•Œåœ¨æ¸²æŸ“æœŸé—´ï¼Œç”Ÿå‘½å‘¨æœŸæ–¹æ³•å’Œæ•´ä¸ªç»„ä»¶æ•°çš„æ„é€ å‡½æ•°ä¸­æ•è·é”™è¯¯ 123456789101112131415161718192021222324252627282930import React, &#123; ReactNode &#125; from &quot;react&quot;;type FallBackRender = (props: &#123; error: Error | null &#125;) =&gt; React.ReactElement;// 1 2 ä¸¤ç§å†™æ³•ä¸€è‡´type Components1 = &#123; children: ReactNode; fallbackRender: FallBackRender &#125;;type Components2 = React.PropsWithChildren&lt;&#123; fallbackRender: FallBackRender &#125;&gt;;export class ErrorBoundary extends React.Component&lt; Components2, &#123; error: Error | null &#125;&gt; &#123; state = &#123; error: null, &#125;; // å½“å­ç»„ä»¶æŠ›å‡ºå¼‚å¸¸, stateä¸­çš„errirå°±ä¼šè¢«è°ƒç”¨ static getDerivedStateFromError(error: Error) &#123; return &#123; error &#125;; &#125; render() &#123; const &#123; error &#125; = this.state; const &#123; fallbackRender, children &#125; = this.props; if (error) &#123; console.log(&quot;é”™è¯¯æ‰§è¡Œ&quot;, error); return fallbackRender(error); &#125; else &#123; return children; &#125; &#125;&#125; ä½¿ç”¨App.tsx 123456789&lt;ErrorBoundary fallbackRender=&#123;fallPageErrorFallback&#125;&gt; &#123;user ? &lt;AuthenicatedApp /&gt; : &lt;UnAuthenicated /&gt;&#125;&lt;/ErrorBoundary&gt;// å‘ç”Ÿé”™è¯¯çš„æ—¶å€™å°±ä¼šæ¸²æŸ“è¿™ä¸ªdomexport const fallPageErrorFallback = (&#123; error &#125;: &#123; error: Error | null &#125;) =&gt; ( &lt;p&gt;è¯·æ±‚å¤±è´¥äº†,é”™è¯¯ä¿¡æ¯&#123;error&#125;&lt;/p&gt;); é˜¶æ®µæ€§ç»“æŸ å…³äºreact hookçš„ç†å¿µå­¦ä¹ å·²ç»ç»“æŸäº†ï¼Œè¿™æ®µæ—¶é—´å­¦ä¹ æ¥çœ‹ï¼Œç¡®å®reactåœ¨å¾ˆå¤šæ–¹é¢æ›´åŠ æ˜“äºç†è§£ï¼Œæ›´åŠ å·¥ç¨‹åŒ–ï¼ŒåŒæ—¶ä¹Ÿå­¦ä¼šäº†å¾ˆå¤štsçš„çŸ¥è¯†ï¼Œä¸€ç›´ä»¥æ¥tsåœ¨æˆ‘æ‰‹ä¸­éƒ½æ˜¯anyscriptï¼Œæœ¬æ¬¡å­¦ä¹ è®©æˆ‘å¯¹tsçš„è¿ç”¨æ›´åŠ ç†Ÿç»ƒï¼›åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ä¹Ÿå­¦ä¼šäº†å¾ˆå¤šhookç›¸å…³çš„ç†å¿µä»¥åŠå®ä¾‹ï¼Œå¹¶ä¸”å¯ä»¥å¸¦ç€è¿™æ€æƒ³å»ä¼˜åŒ–é¡¹ç›®ä»£ç  å¯æƒœæˆ‘æ˜¯ä¸€åvuerï¼Œç»§ç»­å­¦ä¹ reactçš„å®é™…ç¼–ç ï¼Œæ„ä¹‰å·²ç»ä¸æ˜¯å¾ˆå¤§ï¼Œæ‰€ä»¥å…³äºè¿™ä¸ªè¯¾ç¨‹çš„å­¦ä¹ ï¼Œæœ¬æ¬¡å‘Šä¸€æ®µè½ï¼›é€šè¿‡æœ¬æ¬¡å­¦ä¹ ï¼Œéå¸¸æ·±åˆ»çš„ä½“ä¼šåˆ°äº†hookçš„ä¼˜é›…ï¼Œåé¢ä¼šæ·±å…¥å­¦ä¹ vue3ï¼Œåœ¨vue3ä¸­å°†hookä¸ä¸šåŠ¡ç»“åˆï¼Œè®©ä»£ç æ›´åŠ å¥å£®","categories":[{"name":"JavaScript-2021","slug":"JavaScript-2021","permalink":"https://vkcyan.github.io/categories/JavaScript-2021/"}],"tags":[{"name":"JavaScript","slug":"JavaScript","permalink":"https://vkcyan.github.io/tags/JavaScript/"}]},{"title":"å…³äºâ€œè¾“å‡ºâ€è¿™ä»¶äº‹","slug":"æ—¥å¸¸/å…³äºè®°å½•è¿™ä»¶äº‹","date":"2021-09-11T16:00:00.000Z","updated":"2022-12-11T13:51:24.090Z","comments":true,"path":"2021/09/12/æ—¥å¸¸/å…³äºè®°å½•è¿™ä»¶äº‹/","link":"","permalink":"https://vkcyan.github.io/2021/09/12/%E6%97%A5%E5%B8%B8/%E5%85%B3%E4%BA%8E%E8%AE%B0%E5%BD%95%E8%BF%99%E4%BB%B6%E4%BA%8B/","excerpt":"","text":"â€‹ è¿™æ®µæ—¶é—´å·¥ä½œæ¯”è¾ƒå¿™ï¼Œæ²¡æœ‰è¾“å‡ºï¼Œå€’ä¹Ÿä¸æ˜¯æ‡’ï¼Œä¸æƒ³è¾“å‡ºï¼Œè€Œæ˜¯æœ€è¿‘å·¥ä½œä¸Šäº‹æƒ…éå¸¸æ‚ä¹±ï¼Œå¹¶ä¸”å·¥ä½œè§’è‰²å‘ç”Ÿè½¬å˜åï¼Œå·¥ä½œå†…å®¹ä¹Ÿè·Ÿç€å‘ç”Ÿäº†å¾ˆå¤§å˜åŒ–ï¼Œè€Œæˆ‘åˆæ˜¯ä¸€ä¸ªåšäº‹è¿½æ±‚å®Œç¾çš„äººï¼Œæ‰€ä»¥è¿™æ®µæ—¶é—´å¾ˆå¤šæ‚ä¸ƒæ‚å…«çš„äº‹æƒ…è®©æˆ‘ç„¦å¤´çƒ‚é¢ï¼Œå…³äºå·¥ä½œçš„äº‹æƒ…æ—¥åå†è°ˆå§ï¼Œä»Šå¤©èŠèŠè¾“å‡ºè¿™ä»¶äº‹æƒ… ä¸¾ä¸ªæ —å­â€‹ åœ¨èŠèŠè¾“å‡ºä¹‹å‰ï¼Œæˆ‘å…ˆè¯´ä¸€ä¸ªæ—¥å¸¸çš„ä¾‹å­ã€‚ â€‹ å»å¹´å¤å¤©ï¼Œæˆ‘çˆ¸å¦ˆç»™äº†ä¸€äº›èŒ¶å¶ï¼Œè™½ç„¶ä¸€ç›´æ²¡æœ‰å–èŒ¶å¶çš„ä¹ æƒ¯ï¼Œä½†æ˜¯æœ¬ç€ä¸æµªè´¹çš„å¿ƒæ€ï¼Œä¾¿ä»çŠ„è§’æ—®æ—¯é‡Œæ‰¾åˆ°äº†ä¸çŸ¥å‡ å¹´å‰çš„åŒå±‚ç»ç’ƒæ¯ã€‚ å¤§æ¦‚æ˜¯è¿™æ ·çš„ â€‹ è¿™ç§èŒ¶æ¯å–èŒ¶å¶ç¡®å®è¿˜å¯ä»¥ï¼Œæˆ‘é€æ¸ä¾¿å…»æˆäº†å–èŒ¶å¶çš„ä¹ æƒ¯ï¼Œå¯æƒœå¥½æ™¯ä¸é•¿ï¼Œä¸å°å¿ƒæ‘”ç¢äº†ï¼Œä¹‹ååˆä»çˆ¸å¦ˆé‚£é‡Œæ‹¿äº†ä¸€ä¸ªåŒå±‚ç»ç’ƒæ¯ï¼Œä¾æ—§å¥½æ™¯ä¸é•¿ï¼Œç»ç’ƒæ¯åˆç¢äº†ï¼Œåé¢æˆ‘æƒ³ï¼Œè¿™ä¸€ç›´ç¢ä¸‹å»ä¸æ˜¯ä¸ªåŠæ³•ï¼Œä¾¿ä¹°äº†ä¸€ä¸ªèŒ¶å¶è¿‡æ»¤å™¨ã€‚ â€‹ å¿ƒæƒ³è¿™æ¬¡ä¸éœ€è¦å†æ‹…å¿ƒæ¯å­ç¢æ‰çš„é—®é¢˜äº†ï¼Œåˆ°æ‰‹ä½¿ç”¨äº†ä¸€æ®µæ—¶é—´åä¾¿å‘ç°ä¸æˆ‘ç°è±¡çš„ä¸ä¸€æ ·ï¼Œè¿™ç©æ„ç‰¹åˆ«ä¸æ–¹ä¾¿æ¸…ç†ï¼Œæ¯æ¬¡æ‹†å¸ç‰¹åˆ«éº»çƒ¦ï¼Œå¹¶ä¸”æ¯æ¬¡éƒ½éœ€è¦æ‰‹æ¥è§¦ï¼Œæ„Ÿè§‰å¾ˆä¸å«ç”Ÿï¼Œäºæ˜¯å–èŒ¶å¶çš„ä¹ æƒ¯ä¾¿ä¸æˆ‘æ¸è¡Œæ¸è¿œã€‚ â€‹ â€‹ é€šè¿‡è¿™ä¸ªå°äº‹ï¼Œå¤§å®¶å°±èƒ½å‘ç°ä¸€ä¸ªä¹ æƒ¯çš„å½¢æˆä¸è‰¯å¥½çš„ä½“éªŒæœ‰éå¸¸å¤§çš„å…³ç³»ï¼Œå¹¶ä¸”å°±ç®—å¤§ä¼—æ–¹æ¡ˆä¹Ÿä¸ä¸€å®šå°±æ˜¯ç›¸å¯¹ä¸ªäººçš„æœ€ä½³æ–¹æ¡ˆ ï¼Œä¾‹å¦‚æœ‰äº›äººä½¿ç”¨åŒå±‚ç»ç’ƒæ¯æ˜“ç¢ï¼ˆæ¯”å¦‚æˆ‘ï¼‰ï¼Œæœ‰äº›äººè§‰å¾—ä¸ç¾è§‚ï¼Œè¿™äº›é—®é¢˜éƒ½ä¼šå¯¼è‡´ä¸€ä¸ªä¹ æƒ¯æ— æ³•å½¢æˆï¼› â€‹ å³ä½¿å½“äº‹äººå­˜åœ¨å†…åœ¨åŠ¨æœºï¼Œä½†æ˜¯ä¸ç†æƒ³çš„å¤–åœ¨å› ç´ ä¹Ÿä¼šå¯¼è‡´æœ€ç»ˆæ„æ„¿æ— æ³•æœªè¾¾æˆã€‚è¾“å‡ºä¹Ÿæ˜¯è¿™æ ·ï¼Œå³ä½¿æœ‰ä¸€ä¸ªæƒ³è¾“å‡ºçš„å¿ƒï¼Œä½†æ˜¯æ²¡æœ‰è‰¯å¥½çš„è¾“å‡ºç¯å¢ƒï¼Œä¹Ÿå¯èƒ½é€ æˆè¾“å‡ºä¹ æƒ¯çš„å…»æˆå¤±è´¥ã€‚ â€‹ å·¥æ¬²å–„å…¶äº‹ï¼Œå¿…å…ˆåˆ©å…¶å™¨ï¼›ä¸€ä¸ªé€‚åˆè‡ªå·±çš„ç¼–å†™ç¯å¢ƒæ˜¯å¦‚æ­¤çš„é‡è¦ã€‚ è¾“å‡ºå·¥å…·çš„é€‰æ‹©â€‹ åœ¨æˆ‘è¿˜æ²¡æœ‰æ­£å¼å·¥ä½œä¹‹å‰ï¼Œå°±æ¥è§¦åˆ°äº†Typoraï¼Œç®€å•é«˜æ•ˆçš„è¯­æ³• + æ‰€è§å³æ‰€çš„åŠŸèƒ½ï¼Œè®©æˆ‘è‡³ä»Šéƒ½ç¦»ä¸å¼€Typora â€‹ ä½†æ˜¯éšç€1.0ç‰ˆæœ¬åçš„æ”¶è´¹ä»¥åŠè‡ªèº«ä¸å…·å¤‡ç”Ÿæ€èƒ½åŠ›ï¼Œè®©æˆ‘åœ¨å¤šä¸ªè®¾å¤‡åˆ‡æ¢ä¸Šé€ æˆäº†å¾ˆå¤§çš„å›°æ‰°ï¼Œè™½ç„¶æˆ‘å‡ ä¹æ‰€æœ‰çš„æ–‡æ¡£éƒ½åœ¨githubä¸Šï¼Œä½†æ˜¯å› ä¸ºæœªçŸ¥åŸå› ï¼Œæ¯æ¬¡pull pushå¤±è´¥çš„å¯èƒ½æ€§å¾ˆå¤§ï¼Œæ‰€ä»¥è°ˆä¸ä¸Šå¥½çš„ä½“éªŒã€‚ â€‹ åæ¥æ¥è§¦äº†ã€ç¾½é›€ã€‘ ã€é£ä¹¦ã€‘ ã€wolaiã€‘ ã€Notionã€‘ï¼Œè¿™äº›ä¸“ä¸šå·¥å…·ä¸­æœ€è®©æˆ‘æ„Ÿè§‰çœ¼å‰ä¸€äº®çš„æ˜¯â€œNotionâ€ï¼Œå…¶å¼ºå¤§çš„all-in-oneç†å¿µç¡®å®å®ç°çš„ä¸é”™ï¼Œä½†æ˜¯å› ä¸ºä»–æ˜¯å›½å¤–è½¯ä»¶ï¼Œåˆ†äº«å‡ºå»çš„é“¾æ¥ï¼Œåˆ«äººå¶å°”ä¼šæ‰“ä¸å¼€ï¼Œäº¦æˆ–è€…æ‰“å¼€é€Ÿåº¦ç¼“æ…¢ï¼Œè¿™è®©æˆ‘å¿ƒé‡Œéå¸¸çŠ¹è±«ï¼Œç»“æœå…œå…œè½¬è½¬è¿˜æ˜¯å›åˆ°Typoraï¼ˆä½œè€…ä½¿ç”¨çš„æ˜¯å…è´¹ç‰ˆæœ¬ï¼‰ã€‚ â€‹ å…³äºå„ç§å·¥å…·ï¼Œå„ä½åŒå­¦å¯ä»¥éƒ½è¯•ç”¨ä¸€ä¸‹ï¼Œæ²¡æœ‰å¥½ä¸åï¼Œåªæœ‰åˆé€‚æˆ–è€…ä¸åˆé€‚ï¼Œç›®çš„æ˜¯é€‰æ‹©ä¸€ä¸ªæœ€é€‚åˆè‡ªå·±çš„ï¼Œè‡ªå·±æœ€æ»¡æ„çš„æ–‡æ¡£è®°å½•å·¥å…·ã€‚ åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­æˆ‘ä¹Ÿå‚è€ƒäº†åˆ«äººçš„ä¸€äº›å·¥å…·é›†ï¼Œæœ€ç»ˆç¡®å®šäº†ä»¥ä¸‹æ–¹æ¡ˆ åšæœäº‘ + Typora + Picgo + ä¸ƒç‰›äº‘ åšæœäº‘ï¼šåŒæ­¥æ–‡ä»¶å¤¹èµ„æ–™ï¼Œè¡¥å……Typoraä¸å…·å¤‡çš„äº‘åŠŸèƒ½ Picgo + ä¸ƒç‰›äº‘ï¼šè§£å†³å›¾ç‰‡èµ„æºä¸Šäº‘é—®é¢˜ â€‹ ç›®å‰è¿™ä¸€å¥—ä½¿ç”¨æ„Ÿè§‰è¿˜å¯ä»¥ï¼Œæ¯”è¾ƒæ»¡è¶³ä¸ªäººå¼€å‘è§’è‰²çš„éœ€æ±‚ï¼Œé™¤äº†å®‰è£…éƒ¨ç½²æœ‰ç‚¹éº»çƒ¦ï¼Œä½¿ç”¨è¿‡ç¨‹Â·ä¸­ä»…éœ€è¦å…³æ³¨è¾“å‡ºæœ¬èº«ï¼›å¦‚æœå¤§å®¶æœ‰ä»€ä¹ˆæ¯”è¾ƒå¥½çš„æ–¹æ¡ˆï¼Œä¹Ÿè¯·è¯„è®ºåŒºæ¨è~ è¾“å‡ºçš„æ„ä¹‰â€‹ ä¸ºä»€ä¹ˆè¦è¾“å‡ºï¼Ÿä¸ºä»€ä¹ˆè¦æŠŠè‡ªå·±çš„åŠ³åŠ¨æˆæœå¼€æ”¾ç»™è¿˜ä¸ç›¸å…³çš„äººï¼Ÿ â€‹ å› ä¸ºè¾“å‡ºä¼šè®©ä½ æ›´åŠ äº†è§£ä½ æ­£åœ¨è¾“å‡ºçš„å†…å®¹ï¼Œå¾ˆå¤šäº‹æƒ…ï¼Œåœ¨ç¼–ç¨‹ä¸–ç•Œï¼Œå…¶å®è¿‡ç¨‹æ¯”ç»“æœæ›´åŠ é‡è¦ï¼Œä¹Ÿè®¸æŸä¸€ç¯‡åšå®¢çš„ä¸€æ®µè¯ï¼Œæ˜¯ä½œè€…èŠ±è´¹å¾ˆå¤šæ—¶é—´ï¼Œç»è¿‡å¤šæ–¹è®ºè¯å¾—åˆ°çš„ç»“è®ºï¼›è€Œç›¸å¯¹äºç»“è®ºï¼Œå¤šæ–¹è®ºè¯çš„è¿‡ç¨‹å¯¹äºå½“äº‹äººæ›´åŠ å…·æœ‰ä»·å€¼ã€‚ â€‹ åœ¨è¾“å‡ºä¸­æˆ‘ä¸ªäººéå¸¸æ¨å´‡è´¹æ›¼å­¦ä¹ æ³•ï¼Œåœ¨å†™ä½œä¸­æˆ‘ä»¬å¸¦å…¥è´¹æ›¼å­¦ä¹ æ³• â€‹ é¦–å…ˆå°†æ–‡ç« çš„å…¨éƒ¨å†…å®¹è¾“å‡ºå‡ºæ¥ï¼Œå†è¿™ä¸ªè¿‡ç¨‹ä¸­å¸¦å…¥é˜…è¯»è€…è§’è‰²ï¼Œæ€è€ƒä»–ä»¬éœ€è¦çŸ¥é“äº›ä»€ä¹ˆã€‚ â€‹ ç„¶åä¾¿æ˜¯å›é¡¾ï¼Œé€šè¯»è‡ªå·±çš„æ–‡ç« ï¼Œçœ‹çœ‹æ˜¯å¦å­˜åœ¨è®ºç‚¹ä¸è¶³çš„æƒ…å†µï¼Œåœ¨è¿™ä¸€æ­¥å¯ä»¥äº¤ç»™ä½ çš„åŒäº‹ã€åŒè¡Œï¼Œä»ç¬¬ä¸‰è€…è§†è§’åœ¨çœ‹çœ‹ â€‹ è·å¾—åé¦ˆåå›åˆ°åŸå§‹èµ„æºï¼Œå†æ¬¡å­¦ä¹ ï¼Œå†æ¬¡è¾“å‡ºï¼Œåœ¨äºŒæ¬¡è¾“å‡ºçš„è¿‡ç¨‹ä¸­ç®€åŒ–æ–‡ç« ï¼ŒæŸ¥ç¼ºè¡¥æ¼ï¼› â€‹ æœ€åä¾¿æ˜¯ä¼ æˆï¼Œåœ¨ç¡®ä¿è‡ªå·±ç†è§£æ²¡æœ‰é—®é¢˜åï¼Œä¾¿è¾“å‡ºåˆ°ç¤¾åŒºï¼Œæ•™ä¼šå¦ä¸€ä¸ªäººï¼Œç»è¿‡äº†è´¹æ›¼å­¦ä¹ æ³•çš„è¿‡ç¨‹ï¼Œä½ é¢å¯¹è¯»è€…çš„ä»»ä½•é—®é¢˜ï¼Œéƒ½å¯ä»¥ç»™å‡ºåˆç†è§£é‡Šã€‚ â€‹ åœ¨è¿™æ ·é•¿æœŸçš„æˆé•¿æ€§æ€ç»´ä¸­ï¼Œä½ çš„æ·±å…¥æ€è€ƒä¼šè®©ä½ çš„ä¸ªäººèƒ½åŠ›è¶ŠåŠ åšé‡ï¼ŒåŒæ ·æ˜¯ä¸‰å¹´å¼€å‘ï¼Œä½ çš„â€™åŠŸåŠ›â€™ä¾¿æ›´æ˜¾æ·±åšï¼ŒåŒæ—¶é«˜è´¨é‡çš„è¾“å‡ºä¹Ÿå¸®åŠ©äº†å…¶ä»–äººï¼Œè¿™æ ·ä¸€åŠ³å¤šå¾—çš„äº‹æˆ‘ä»¬æœ‰ä»€ä¹ˆç†ç”±ä¸å»åšå‘¢ï¼Ÿ â€‹ è¿™é‡Œå°±æœ‰åŒå­¦è¯´äº†ï¼Œæˆ‘åšä¸šåŠ¡å¼€å‘æ²¡å•¥æ·±åº¦ï¼Œå†™çš„æ–‡ç« ä¹Ÿæ²¡äººçœ‹ï¼Œç”šè‡³æ€•è¾“å‡ºé”™è¯¯çš„å…³é”®ï¼Œæ²¡æœ‰ä»»ä½•åŠ¨åŠ›å•Šã€‚ â€‹ æˆ‘æƒ³å‘Šè¯‰å¤§å®¶ï¼Œè¿™æ˜¯éå¸¸éå¸¸æ­£å¸¸çš„ç°è±¡ï¼Œå›æƒ³åˆšå¼€å§‹å†™ä»£ç çš„æ—¶å€™ï¼Œæ˜¯ä¸æ˜¯ä¹Ÿæ˜¯ç£•ç£•ç›¼ç›¼ä¸è‡ªä¿¡ï¼Œæ²¡æœ‰äººå¯ä»¥ä¸€å¼€å§‹å°±è¾¾åˆ°é«˜æ°´å¹³çŠ¶æ€ï¼Œéƒ½æ˜¯éœ€è¦æ…¢æ…¢ç»ƒä¹ ã€‚ é‡åˆ°å®ç°é—®é¢˜ï¼Œè¾“å‡ºé—®é¢˜è®°å½•æ–‡ç«  é—²æš‡æ—¶é—´å¯ä»¥è§£è¯»ã€å®ç°ä¸€äº›å¸¸ç”¨å‡½æ•°çš„æºç è§£è¯»æ–‡ç«  é’ˆå¯¹ä¸šåŠ¡éš¾é¢˜å¯ä»¥è¾“å‡ºæ ¸å¿ƒæ–¹æ¡ˆå®ç°æ–‡ç«  â€‹ æœ€å¼€å§‹å¯ä»¥ä»…ä»…è¾“å‡ºç»™è‡ªå·±çœ‹ï¼Œå°†è‡ªå·±ä½œä¸ºä¸€åè¯»è€…ï¼Œçœ‹çœ‹æ˜¯å¦èƒ½è½»æ¾çœ‹æ‡‚ä½ æƒ³è¡¨è¿°çš„å«ä¹‰ï¼Œåœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­è¦è®°ä½ï¼Œè¾“å‡ºæ˜¯ä¸ºäº†åœ¨æ·±åº¦å­¦ä¹ ä¸­åŠ æ·±è‡ªå·±çš„ç†è§£ â€‹ å°†åå¤ä¼˜åŒ–çš„æ–‡ç« å‘å¸ƒåˆ°ç¤¾åŒºï¼Œæ˜¯ä¸ºäº†éªŒè¯è‡ªå·±çš„ç†è§£æ˜¯å¦æ­£ç¡®ï¼Œæ˜¯å¦æœ‰ä»·å€¼ï¼Œåœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­å¦‚æœèƒ½å¸®åŠ©åˆ°åˆ«äººï¼Œé‚£æ˜¯é”¦ä¸Šæ·»èŠ±çš„äº‹æƒ…ï¼Œå³ä½¿æ²¡äººé˜…è¯»ï¼Œæ— äººç‚¹èµï¼Œä½ å·²ç»å¾—åˆ°ä½ æ·±åº¦å­¦ä¹ çš„ç›®ã€‚ â€‹ åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œä½ çš„æ²‰æ·€ä¼šè¶Šæ¥è¶Šæ·±ï¼Œæ ¸å¿ƒç«äº‰åŠ›è¶Šæ¥è¶Šå¼ºï¼Œè¾“å‡ºçš„æ–‡ç« ä¹Ÿä¼šè¶Šå‘é«˜è´¨é‡ï¼Œè¿›å…¥ä¸æ–­å¢é•¿çš„æ­£å‘å¾ªç¯ã€‚ æœ€åâ€‹ è¯´äº†è¿™ä¹ˆå¤šè¾“å‡ºçš„å¥½å¤„ï¼Œå…¶å®éƒ½æ˜¯å†…åœ¨å› ç´ ï¼Œéœ€è¦å½“äº‹äººå‘è‡ªå†…å¿ƒçš„è®¤åŒï¼Œæ­£ç¡®çš„è®¤è¯†è¾“å‡ºçš„ä»·å€¼ã€‚ â€‹ è€Œæˆ‘ä»¬å¯ä»¥æ§åˆ¶çš„å¤–åœ¨å› ç´ æ˜¯å¦‚æœé€šè¿‡å·¥å…·åˆ›é€ æ›´å¥½çš„è¾“å‡ºç¯å¢ƒï¼Œè¿™ä¹Ÿæ˜¯æˆ‘æƒ³å‘Šè¯‰å¤§å®¶çš„ä¸€ç‚¹ï¼Œä¸€ä¸ªè¾ƒå¥½çš„è¾“å‡ºç¯å¢ƒï¼Œä¼šå¯¹è¾“å‡ºèµ·åˆ°æ­£é¢ä½œç”¨ï¼Œæå‡å½“äº‹äººçš„è¾“å‡ºæ„æ„¿ã€‚ â€‹ å¦‚æœåœ¨è¾“å‡ºä¸Šå‡ºç°å¤ªå¤šé—¨æ§›ï¼Œæœ€ç»ˆä¼šé€ æˆå½“äº‹äººå¤±å»è¾“å‡ºæ„æ„¿ï¼›ä¸è¿›è¡Œè¾“å‡ºä¸–ç•Œä¸ä¼šæœ‰ä»»ä½•å½±å“ï¼Œä¾æ—§æœ‰å¾ˆå¤šäººè®¤è¯†åˆ°è¾“å‡ºçš„é‡è¦æ€§ï¼ŒæŸå¤±æœ€å¤§çš„æ˜¯å¤±å»æ·±åº¦å­¦ä¹ æœºä¼šçš„è‡ªå·±ã€‚","categories":[{"name":"æ—¥å¸¸","slug":"æ—¥å¸¸","permalink":"https://vkcyan.github.io/categories/%E6%97%A5%E5%B8%B8/"}],"tags":[{"name":"è®°å½•","slug":"è®°å½•","permalink":"https://vkcyan.github.io/tags/%E8%AE%B0%E5%BD%95/"},{"name":"è¾“å‡º","slug":"è¾“å‡º","permalink":"https://vkcyan.github.io/tags/%E8%BE%93%E5%87%BA/"}]},{"title":"JSæ–‡ä»¶æ ¼å¼ç›¸äº’è½¬æ¢","slug":"æŠ€æœ¯æ–‡ç« /JavaScript æ–‡ä»¶æ ¼å¼äº’è½¬","date":"2021-06-14T16:00:00.000Z","updated":"2022-12-11T13:51:24.086Z","comments":true,"path":"2021/06/15/æŠ€æœ¯æ–‡ç« /JavaScript æ–‡ä»¶æ ¼å¼äº’è½¬/","link":"","permalink":"https://vkcyan.github.io/2021/06/15/%E6%8A%80%E6%9C%AF%E6%96%87%E7%AB%A0/JavaScript%20%E6%96%87%E4%BB%B6%E6%A0%BC%E5%BC%8F%E4%BA%92%E8%BD%AC/","excerpt":"","text":"base64 è½¬ File1234567891011121314151617181920/** * base64è½¬fileæ–‡ä»¶ * @param dataurl * @param filename * @returns */ export function dataURLtoFile(dataurl: string, filename: string) &#123; // è·å–åˆ°base64ç¼–ç  const arr = dataurl.split(&#x27;,&#x27;) // å°†base64ç¼–ç è½¬ä¸ºå­—ç¬¦ä¸² const bstr = window.atob(arr[1]) let n = bstr.length const u8arr = new Uint8Array(n) // åˆ›å»ºåˆå§‹åŒ–ä¸º0çš„ï¼ŒåŒ…å«lengthä¸ªå…ƒç´ çš„æ— ç¬¦å·æ•´å‹æ•°ç»„ while (n--) &#123; u8arr[n] = bstr.charCodeAt(n) &#125; return new File([u8arr], filename, &#123; type: &#x27;image/jpeg&#x27;, &#125;)&#125; base64 è½¬ blob12345678910111213141516/** * base64è½¬blobæ–‡ä»¶ * @param dataURI * @returns */export function dataURItoBlob(dataURI) &#123; var mimeString = dataURI.split(&#x27;,&#x27;)[0].split(&#x27;:&#x27;)[1].split(&#x27;;&#x27;)[0] // mimeç±»å‹ var byteString = atob(dataURI.split(&#x27;,&#x27;)[1]) //base64 è§£ç  var arrayBuffer = new ArrayBuffer(byteString.length) //åˆ›å»ºç¼“å†²æ•°ç»„ var intArray = new Uint8Array(arrayBuffer) //åˆ›å»ºè§†å›¾ for (var i = 0; i &lt; byteString.length; i++) &#123; intArray[i] = byteString.charCodeAt(i) &#125; return new Blob([intArray], &#123; type: mimeString &#125;)&#125; blobè½¬url1234567891011121314151617181920/** * blob è½¬ url * @param base64 * @param contentType * @returns */export function translateBase64ImgToBlob(base64, contentType) &#123; var arr = base64.split(&#x27;,&#x27;) //å»æ‰base64æ ¼å¼å›¾ç‰‡çš„å¤´éƒ¨ var bstr = atob(arr[1]) //atob()æ–¹æ³•å°†æ•°æ®è§£ç  var leng = bstr.length var u8arr = new Uint8Array(leng) while (leng--) &#123; u8arr[leng] = bstr.charCodeAt(leng) //è¿”å›æŒ‡å®šä½ç½®çš„å­—ç¬¦çš„ Unicode ç¼–ç  &#125; var blob = new Blob([u8arr], &#123; type: contentType &#125;) var blobImg: any = &#123;&#125; blobImg.url = URL.createObjectURL(blob) //åˆ›å»ºURL blobImg.name = new Date().getTime() + &#x27;.png&#x27; return blobImg&#125;","categories":[{"name":"JavaScript-2021","slug":"JavaScript-2021","permalink":"https://vkcyan.github.io/categories/JavaScript-2021/"}],"tags":[{"name":"JavaScript","slug":"JavaScript","permalink":"https://vkcyan.github.io/tags/JavaScript/"}]},{"title":"åœ¨Option APIä¸­ä½¿ç”¨ Custom hook","slug":"æŠ€æœ¯æ–‡ç« /ä½¿ç”¨reactivity åœ¨vue2ä¸­ç¼–å†™hookå‡½æ•°","date":"2021-06-14T16:00:00.000Z","updated":"2022-12-11T13:51:24.088Z","comments":true,"path":"2021/06/15/æŠ€æœ¯æ–‡ç« /ä½¿ç”¨reactivity åœ¨vue2ä¸­ç¼–å†™hookå‡½æ•°/","link":"","permalink":"https://vkcyan.github.io/2021/06/15/%E6%8A%80%E6%9C%AF%E6%96%87%E7%AB%A0/%E4%BD%BF%E7%94%A8reactivity%20%E5%9C%A8vue2%E4%B8%AD%E7%BC%96%E5%86%99hook%E5%87%BD%E6%95%B0/","excerpt":"","text":"é€‚åº”äººç¾¤ï¼š é¡¹ç›®çš„vue2.xçš„ç‰ˆæœ¬ï¼Œ è¿˜æ²¡åœ¨æ­£å¼ç¯å¢ƒä½¿ç”¨è¿‡composition API ä½†æ˜¯åˆæƒ³äº«å—hookå¸¦æ¥çš„ä¼˜åŠ¿ â€‹ æ³¨ï¼šæœ¬æ–‡æå‡ºçš„æ–¹æ³•å¹¶éæœ€ä½³å®è·µï¼Œè€Œæ˜¯æ˜¯vue2é¡¹ç›®æ¸è¿›å¼åˆ‡æ¢åˆ°vue3çš„æ–¹æ¡ˆï¼Œä¿ç•™çš„å¤§å®¶ç†Ÿæ‚‰çš„ç¼–å†™æ–¹å¼ï¼Œä¹Ÿä¿ç•™äº†hookçš„ä¼˜åŠ¿ï¼Œå¦‚æœå¼€å‘å›¢é˜Ÿæ¡ä»¶å…è®¸çš„è¯ï¼Œå»ºè®®ç›´æ¥ä½¿ç”¨composition APIè¯­æ³•æ¥å®Œæˆé€»è¾‘ç¼–å†™ ä»€ä¹ˆæ˜¯hookâ€‹ hook ç¿»è¯‘è¿‡æ¥æ˜¯é’©å­ï¼Œåœ¨ç¨‹åºä¸Šä½“ç°ä¸ºåœ¨è¡Œä¸ºæ‰§è¡Œä¹‹å‰ï¼Œå…ˆæŠŠè¡Œä¸ºå‹¾ä½ï¼Œä¸è®©å…¶ç»§ç»­ï¼Œä¼˜å…ˆæ‰§è¡Œä½ çš„hookå‡½æ•° ç”¨ä¸€å¼ å›¾æ¥è¡¨ç¤ºå³ä¸º å·¦è¾¹ä¸ºæ­£å¸¸å‡½æ•°æ‰§è¡Œæµç¨‹ï¼Œå³è¾¹ä¸ºå­˜åœ¨hookçš„æ‰§è¡Œæµç¨‹ æ²¡æœ‰hookä¹‹å‰ï¼Œæˆ‘ä»¬å¦‚ä½•å¯¹å¾…ä»£ç å¤ç”¨â€‹ æˆ‘ä»¬å‡è®¾ä¸€ç§åœºæ™¯ï¼Œä½ æ­£åœ¨å¼€å‘ä¸€ä¸ªåå°ç®¡ç†ç³»ç»Ÿï¼Œåœ¨è¿™ä¸ªåå°ç®¡ç†ç³»ç»Ÿä¸­ï¼Œå¤§éƒ¨åˆ†éƒ½æ˜¯æŸ¥è¯¢è¡¨å•ï¼Œä»–ä»¬è™½ç„¶ä¸šåŠ¡ä¸åŒï¼Œä½†æ˜¯é€»è¾‘ä¸Šå­˜åœ¨ä¸€å®šçš„å…±æ€§ å…±æ€§å…ƒç´ ï¼šæŸ¥è¯¢æ¡ä»¶ åˆ—è¡¨æ•°æ® åˆ†é¡µç›¸å…³æ•°æ® åŠ è½½çŠ¶æ€ ä»¥ä¸Š4ä¸ªç‰¹å¾å‡ ä¹æ¯ä¸ªè¡¨å•éƒ½æœ‰ï¼Œè¿™å°±æ„å‘³è¿™ä½ åœ¨å†™æ¯ä¸€ä¸ªè¡¨å•çš„æ—¶å€™éƒ½éœ€è¦é‡å¤å¯¹æ¥ç›¸å…³çš„é€»è¾‘ï¼Œè¿™ä¸ªé—®é¢˜åœ¨vue2ä¸­å­˜åœ¨ä¸¤ç§è§£å†³åŠæ³• æ¯æ¬¡éƒ½å¤åˆ¶é€»è¾‘ç›¸åŒçš„ä»£ç  ä½¿ç”¨vue mixinså®Œæˆé€»è¾‘å…¬ç”¨ ç„¶è€Œè¿™2ç§æ–¹å¼éƒ½å­˜åœ¨é—®é¢˜ å¤åˆ¶ä»£ç ä½æ•ˆç‡ï¼Œè™½ç„¶ç›¸å¯¹ç¨³å®šï¼Œä½†æ˜¯ç¼–ç ä¸æµ‹è¯•å·¥ä½œé‡è¾ƒå¤§ vue mixinså¯ä»¥å®ç°é€»è¾‘æŠ½è±¡ï¼Œä½†æ˜¯è¿™ç§æ–¹æ¡ˆè¿‡äºç®€å•ç²—æš´çš„æ–¹æ¡ˆï¼Œæ•°æ®å…¨å±€å…±äº«ï¼Œè¿‡å¤šä½¿ç”¨mixinä¼šå¯¼è‡´é¡¹ç›®èµ°å‘å¤±æ§ï¼Œæ˜¯ä¸€ä¸ªæ¯”è¾ƒå±é™©çš„æ–¹æ¡ˆ å‡è®¾è¡¨å•é¡µé¢æ•°æ®ç»“æ„å¦‚ä¸‹ 12345678&#123; data: [], // åˆ—è¡¨æ•°æ® currentPage: 1, // å½“å‰é¡µé¢ pageSize: 0, // æ¯ä¸€ä¸ªåˆ†é¡µçš„æ•°é‡ thePageSize: 0, // æœ¬é¡µæ•°é‡ totalPages: 0, // æ€»é¡µæ•° totalSize: 0, // æ€»è®°å½•æ•°&#125; é™¤äº†ä»¥ä¸Šåç«¯è¿”å›çš„æ•°æ®ï¼Œæˆ‘ä»¬è¿˜éœ€è¦åœ¨é¡µé¢å¢åŠ ä¸€äº›çŠ¶æ€å€¼,ç”¨äºä¼˜åŒ–ç”¨æˆ·ä½“éªŒ 1status: &#x27;idle&#x27; | &#x27;loading&#x27; | &#x27;error&#x27; | &#x27;success&#x27; | ... // å½“å‰åˆ—è¡¨è¯·æ±‚çš„çŠ¶æ€ ä»¥ä¸Šçš„æ•°æ® + çŠ¶æ€æ¯ä¸€ä¸ªåå°è¡¨å•é¡µé¢éƒ½å­˜åœ¨ï¼Œè¿™å°±æ„å‘³ç€é‡å¤çš„å£°æ˜ï¼Œé‡å¤çš„å¯¹æ¥ï¼Œé‡å¤çš„æµ‹è¯• â€‹ å¤åˆ¶ä»£ç çš„æ–¹å¼çœ‹ä¼¼ç¨³å®šï¼Œå®åˆ™ä¸ç¨³å®šï¼Œå› ä¸ºæ¯ä¸€æ¬¡éƒ½è¦å¯¹é‡å¤é€»è¾‘è¿›è¡Œæµ‹è¯•ï¼Œå¹¶ä¸”ç”±äºæ­¤ç±»å·¥ä½œç¹çä¸”é‡å¤åŠ³åŠ¨ï¼Œå¼€å‘äººå‘˜ä¸€èˆ¬æ¯”è¾ƒæŠµè§¦æ­¤ç±»ä»»åŠ¡ â€‹ è¿™ä¸ªé—®é¢˜åœ¨vue2ä¸­å¹¶æ²¡æœ‰éå¸¸å¥½çš„è§£å†³æ–¹æ¡ˆï¼Œé’ˆå¯¹è¿™ä¸ªé—®é¢˜éš”å£reactä»mixinåˆ°HOCæœ€ååˆ°ç°åœ¨hookï¼Œç»™å‡ºäº†è¿˜ä¸é”™çš„è§£å†³æ–¹æ¡ˆã€‚ â€‹ ç°åœ¨@vue&#x2F;composition-apiæä¾›äº†hookçš„èƒ½åŠ›ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨vueä¸­ä½¿ç”¨hookæ¥ä¼˜åŒ–æå‡ºçš„é—®é¢˜ é€šè¿‡hookæ¥å®Œæˆé€»è¾‘å…±ç”¨â€‹ æ¥ç€ä¸Šé¢çš„åœºæ™¯ï¼Œæˆ‘ä»¬ç°åœ¨å‡è®¾æˆ‘ä»¬æœ‰3ä¸ªåå°è¡¨å•é¡µé¢éœ€è¦å†™ â€‹ ä¼ ç»Ÿç¼–ç æ–¹æ¡ˆï¼ˆæœªä½¿ç”¨hookï¼‰ â€‹ å¯ä»¥çœ‹åˆ°æˆ‘ä»¬éœ€è¦å†™çš„ä¸‰ä¸ªé¡µé¢æµç¨‹ä¸Šå­˜åœ¨å¾ˆå¤šç›¸ä¼¼çš„åœ°æ–¹ï¼Œå¯¹æ¥æ•°æ®ç¯èŠ‚ï¼Œè™½ç„¶æ˜¯å¤§éƒ¨åˆ†ä»£ç ç›¸åŒï¼Œä½†æ˜¯è¿˜æ˜¯éœ€è¦é‡å¤çš„ç¼–å†™æµ‹è¯•ï¼Œä¾‹å¦‚é¡µç ç›¸å…³ï¼ŒçŠ¶æ€ç›¸å…³é€»è¾‘ â€‹ ä½¿ç”¨hookå®Œæˆé‡å¤é€»è¾‘æŠ½è±¡ æ¯æ¬¡è°ƒç”¨useHookéƒ½ä¼šç”Ÿæˆä¸€æ¬¡ç‹¬ç«‹çš„çŠ¶æ€ è™½ç„¶çŠ¶æ€ä¸é€»è¾‘ä¾èµ–ä¸ç»„ä»¶ï¼Œä½†æ˜¯useHookå¯ä»¥åœ¨ç»„ä»¶å¤–éƒ¨è¿›è¡Œå®šä¹‰ï¼Œè¿™ä¸€ç‚¹æ˜¯ä¹‹å‰æ— æ³•åšåˆ°çš„ â€‹ è™½ç„¶ä¸åŒé¡µé¢çš„å†…éƒ¨é€»è¾‘ç»†èŠ‚éƒ½æ˜¯ä¸ä¸€æ ·ï¼Œä½†æ˜¯æ€»ä½“æµç¨‹ã€æ•°æ®ç»“æ„éƒ½æ˜¯ä¸€æ ·çš„ï¼ŒåŸºäºè¿™æ ·çš„å‰æï¼Œæˆ‘ä»¬å°±å¯ä»¥é’ˆå¯¹å…±æ€§æ¥è¿›è¡ŒæŠ½è±¡ï¼Œä¹‹åä¸è®ºå¤šå°‘ä¸ªé¡µé¢ï¼Œæˆ‘ä»¬éƒ½ä½¿ç”¨æŠ½è±¡é€»è¾‘ï¼Œä¹Ÿåªéœ€è¦ç»´æŠ¤æŠ½è±¡é€»è¾‘ æä¾› ç»„åˆå¼ API çš„ Vue 2 æ’ä»¶â€‹ è™½ç„¶hookæ˜¯vue3ç‰ˆæœ¬æ‰æå‡ºçš„ï¼Œä½†æ˜¯è¿™å¹¶ä¸ä»£è¡¨hookä¸vue3æ˜¯ç»‘å®šå…³ç³»ï¼Œå®é™…ä¸Šåœ¨ä»»ä½•å‰ç«¯åº”ç”¨ä¸­éƒ½å¯ä»¥ä½¿ç”¨vue3ä¸­æä¾›çš„hookåŠŸèƒ½ æ–‡æ¡£åœ°å€ï¼š@vue&#x2F;composition-api æ‰€ä»¥ä¸è®ºæ˜¯vue3è¿˜æ˜¯vue2ï¼Œè¿˜æ˜¯reactï¼Œç”šè‡³htmléƒ½å¯ä»¥ä½¿ç”¨è¿™ä¸ªnpmåŒ… å…³äºvue3çš„å“åº”å¼æ ¸å¿ƒåŒ… @vue&#x2F;reactivityçš„å…·ä½“å®ç°ï¼Œå¯ä»¥çœ‹çœ‹ä¹‹å‰çš„æ–‡ç«  ç®€æ˜“ç‰ˆReactivityæºç è§£æï¼Œè¯»æ‡‚æºç ä¹‹åï¼Œè‡ªç„¶è§£ç­”äº†ä½ å¯¹reactivityçš„å…¨éƒ¨ç–‘é—® å®æˆ˜ï¼ˆuseReqListï¼‰ ä¸ºäº†æ–¹ä¾¿ç†è§£ï¼Œä»¥ä¸‹ä»£ç ä¸ºvue2.xï¼Œä½¿ç”¨jsè¿›è¡Œç¼–å†™ â€‹ useReqListæ˜¯ä¸€ä¸ªè‡ªå®šä¹‰hookï¼Œä½œç”¨æ˜¯å¸®åŠ©æˆ‘ä»¬æŠ½è±¡åå°è¡¨å•çš„å…¬å…±é€»è¾‘ï¼Œæˆ‘ä»¬å…ˆçœ‹çœ‹æœªä½¿ç”¨çš„æƒ…å†µï¼Œä½¿ç”¨äº†ä¹‹åï¼Œä»£ç çš„å˜åŒ–ï¼Œå†çœ‹çœ‹å¦‚ä½•å®ç° æœªä½¿ç”¨useReqList123456789101112131415161718192021222324252627282930313233// ...data() &#123; return &#123; // ... shopList: [], // æ•°æ® homePage: 0, // æœ¬é¡µæœ‰å¤šå°‘æ•°æ® allPage: 0, // æ€»å…±å¤šå°‘é¡µ totalSize: 0, //æ€»å…±å¤šå°‘æ¡æ•°æ® pageSize: 0, // æ¯é¡µæœ€å¤šå¤šå°‘æ¡æ•°æ® currentPage: 1, // å½“å‰é¡µç  &#125; &#125;,methods:&#123; init() &#123; this.loading = true const data = &#123; currentPage: this.currentPage, //... &#125; request(data) // è¯·æ±‚ .then((res) =&gt; &#123; this.shopList = res.data.data this.currentPage = res.data.currentPage this.pageSize = res.data.pageSize this.totalSize = Number(res.data.totalSize) this.homePage = res.data.thePageSize this.allPage = res.data.totalPages &#125;) .finally(() =&gt; &#123; this.loading = false &#125;) &#125;,&#125; ä½¿ç”¨useReqList123456789101112131415161718import &#123; useReqList &#125; from &#x27;@/utils/hook/useReqList&#x27;// ...data() &#123; return &#123; dataList: useReqList() &#125;&#125;,methods:&#123; init() &#123; const data = &#123; currentPage: this.listData.currentPage || 1, //... &#125; this.listData.run(request(data)) // è¯·æ±‚ &#125;,&#125;// let &#123; data, currentPage, pageSize, thePageSize, totalPages, totalSize, status &#125; = this.listData é€šè¿‡ä¸Šé¢çš„ä¾‹å­å¯ä»¥çœ‹åˆ°ï¼Œä½¿ç”¨äº†useReqListä¹‹å å…¬å…±å˜é‡ï¼Œå…¬å…±é€»è¾‘éƒ¨åˆ†è¢«æŠ½è±¡å‡ºå»ï¼Œé¡µé¢ä»£ç å˜å¾—æ›´åŠ çº¯ç²¹ å› ä¸ºreactivityçš„ç‰¹æ€§ï¼Œå®ƒä»¬éƒ½æ˜¯å…·å¤‡å“åº”å¼ é¿å…é‡å¤ç¼–ç ï¼Œé‡å¤æµ‹è¯•ç¯èŠ‚ï¼ŒèŠ‚çœå¼€å‘æ—¶é—´ hookå¯ä»¥ç»™nä¸ªæ¥å£ä½¿ç”¨ï¼Œåªè¦æ˜¯è¯·æ±‚è¡¨å•æ¥å£ï¼Œéƒ½ä¸éœ€è¦å†™é‡å¤éƒ¨åˆ†çš„ä»£ç ï¼Œé¿å…è°ƒè¯•ï¼Œæµ‹è¯•ç¯èŠ‚ æ¥ä¸‹é‡Œæˆ‘ä»¬å¯ä»¥çœ‹çœ‹è¿™æ˜¯å¦‚ä½•å®ç°ä¸Šé¢ä½¿ç”¨çš„è‡ªå®šä¹‰ï¼ˆCustomï¼‰ Hook useReqList useReqListå…·ä½“å®ç° â€‹ å†…éƒ¨å®ç°å°±æ˜¯å¯¹å…¬å…±é€»è¾‘çš„å°è£…ï¼Œè¢«è¯»å–çš„æ•°æ®è¢«reactiveå¤„ç†åå…·å¤‡äº†å“åº”å¼ï¼Œæ¯æ¬¡å£°æ˜éƒ½ä¼šå› ä¸ºé—­åŒ…çš„ç‰¹æ€§è€Œå¼€å¯ä¸€ç‰‡ç‹¬ç«‹çš„å†…å­˜æ¥ä¾›å£°æ˜å•ä½ä½¿ç”¨ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596import &#123; reactive &#125; from &#x27;@vue/reactivity&#x27;/** * é’ˆå¯¹åå°è¡¨å•é¡µé¢é€»è¾‘çš„æŠ½è±¡ * @returns */export function useReqList() &#123; const defaultState = &#123; data: [], // è¡¨æ ¼æ•°æ® currentPage: 1, // å½“å‰é¡µé¢ pageSize: 0, // åˆ†é¡µæ•°é‡ thePageSize: 0, // å½“å‰é¡µé¢æ•°é‡ totalPages: 0, // æ€»é¡µæ•° totalSize: 0, // æ€»æ•°é‡ error: null, // é”™è¯¯åŸå›  status: &#x27;idle&#x27;, // å½“å‰çŠ¶æ€ idle | loading | success | error &#125; let state = reactive(&#123; ...defaultState, &#125;) /** * è¯·æ±‚æˆåŠŸ * @param data */ const setData = (data) =&gt; &#123; state.currentPage = data.currentPage state.pageSize = data.pageSize state.thePageSize = data.thePageSize state.totalPages = data.totalPages state.totalSize = Number(data.totalSize) state.data = data.data state.status = &#x27;success&#x27; &#125; /** * è¯·æ±‚å¤±è´¥ * @param error */ const setError = (error) =&gt; &#123; state.data = [] state.currentPage = 1 state.pageSize = 0 state.thePageSize = 0 state.totalPages = 0 state.totalSize = 0 state.error = error state.status = &#x27;error&#x27; &#125; const setLoading = () =&gt; (state.status = &#x27;loading&#x27;) const setPage = (num) =&gt; &#123; state.currentPage = num &#125; const setReset = () =&gt; &#123; state.data = [] state.currentPage = 1 state.pageSize = 0 state.thePageSize = 0 state.totalPages = 0 state.totalSize = 0 state.error = null state.status = &#x27;idle&#x27; &#125; const run = (promise) =&gt; &#123; if (!promise || !promise.then) &#123; throw new Error(&#x27;è¯·ä¼ å…¥ promise ç±»å‹æ•°æ®&#x27;) &#125; if ([&#x27;loading&#x27;].includes(state.status)) &#123; return Promise.reject(&#x27;å½“å‰æ­£åœ¨è¯·æ±‚ä¸­&#x27;) &#125; setLoading() return promise .then((res) =&gt; &#123; setData(res.data) &#125;) .catch((err) =&gt; &#123; console.log(err) setError(err) &#125;) .finally(() =&gt; &#123;&#125;) &#125; return &#123; run, setReset, setData, setPage, setLoading, setError, state, &#125;&#125; â€‹ è¿™æ ·çš„å°è£…ä½“åŸºæœ¬é€‚é…å¤§éƒ¨åˆ†vue2.xå¼€å‘çš„åå°ç®¡ç†ç³»ç»Ÿçš„é¡¹ç›®ï¼Œå¦‚æœæƒ³åœ¨é¡¹ç›®ä¸­ä½¿ç”¨åªéœ€è¦ä¿®æ”¹ä¸€ä¸‹setDataéƒ¨åˆ†é€‚é…ä¸€ä¸‹åç«¯æ•°æ®å³å¯ æ›´å¤šçš„vue hookå‡½æ•°â€‹ hookå·¥å…·åº“ï¼ŒVueUseï¼Œåº“é‡Œé¢æä¾›äº†å¤§é‡çš„å¸¸ç”¨æ–¹æ³•ï¼Œæ˜é‡‘ä¸Šé¢æœ‰è¯¥å·¥å…·åº“çš„ä»‹ç»æ–‡ç« ï¼Œå®˜ç½‘è¯´æ˜è¯¥åº“æ˜¯å…¼å®¹vue2æ–‡æ¡£äº† vueé¡¹ç›®åº”å½“åœ¨ä»€ä¹ˆä½¿ç”¨ä¸‹ä½¿ç”¨hookå…³äºClass APIä¸Composition APIâ€‹ ä»Class API&#x2F;Option APIè½¬å˜å‘Composition APIçš„è¿‡ç¨‹ä¸­æ˜¯é˜µç—›çš„ï¼Œè¿™2ç§APIåœ¨æ€ç»´æ–¹å¼ä¸Šå­˜åœ¨å¾ˆå¤§å·®å¼‚ â€‹ å¯¹äºé•¿æ—¶é—´å†™Classã€vue2.xçš„äººæ¥è¯´ï¼Œæœ€åˆæ¥è§¦vue3å‡ ä¹å‘ç°ä¸äº†éå¸¸æ˜æ˜¾çš„ä¼˜ç‚¹ï¼Œsetupè¯­æ³•ä¸ç†Ÿç»ƒçš„æƒ…å†µä¸‹åŸºæœ¬è¿˜æ˜¯æŒ‰ç…§Classçš„æ€ç»´è¿›è¡Œç¼–ç ï¼Œæ— æ³•å‘æŒ¥Hookçš„ä¼˜åŠ¿ï¼Œå¯¼è‡´å†™ä¸€æ®µæ—¶é—´Vue3åçš„ç»“è®ºæ˜¯ï¼šåœ¨å•æ–‡ä»¶ä¸­classçš„ä»£ç ç»„ç»‡èƒ½åŠ›å‡ ä¹å®Œçˆ†setupè¯­æ³•â€¦ â€‹ åæ¥ç»„ä»¶æœ‰ä¸€äº›é¡¹ç›®ç»éªŒï¼Œé‡æ–°å­¦ä¹ äº†react hookï¼Œé€æ¸å¯¹hookæœ‰äº†ä¸€äº›ç†è§£ï¼›Hookä¸»è¦å®Œæˆé€»è¾‘ä¸é€»è¾‘çš„åˆ†ç¦»ï¼Œåœ¨reactå’Œvueä¸­ä½¿ç”¨hookå¯ä»¥å®ç° è§†å›¾ä¸è§†å›¾çš„åˆ†æï¼Œè§†å›¾ä¸é€»è¾‘çš„åˆ†ç¦»ï¼Œé€»è¾‘ä¸é€»è¾‘çš„åˆ†ç¦»ï¼Œç”¨è¿™ä¸ªçš„æ–¹å¼æ¥å®ç°å•ä¸€èŒè´£ï¼Œåœ¨æ­¤åŸºç¡€ä¸Šå®Œæˆé€»è¾‘ä¸è§†å›¾çš„ä½è€¦åˆé«˜å†…èšä»£ç  â€‹ å¯¹äºvue2çš„å¼€å‘è€…åœ¨è€Œè¨€ï¼Œå¯ä»¥æ¸è¿›å¼çš„ä»vue2åˆ°vue3ï¼Œå…ˆç†Ÿæ‚‰hookï¼Œåœ¨ç†Ÿæ‚‰Composition API å…³äºhookä¸vuex | observableâ€‹ ä»æ™®éæ„ä¹‰ä¸Šæ¥è¯´hookæ˜¯å¯ä»¥æ›¿ä»£vuexçš„ï¼Œreactä¸­çš„API useContextå°±æä¾›äº†ç±»ä¼¼åŠŸèƒ½ã€‚ vuexæ˜¯æ— æ³•æ›¿ä»£hookçš„ï¼Œä»–å¹¶ä¸å…·å¤‡é—­åŒ…çš„ç‰¹æ€§ï¼Œä½¿ç”¨vuexçš„è¯ï¼Œé‚£ä»…ä»…æ˜¯æ‹†åˆ†é€»è¾‘ï¼Œæœ‰å¤šå°‘é¡µé¢è¿˜æ˜¯è¦å†™å¤šå°‘é‡å¤é€»è¾‘åªæ˜¯é‡å¤ä»£ç è½¬ä¹‰åˆ°vuexä¸­è€Œå·² â€‹ ä½†æ˜¯åˆšæ¥è§¦hookä¸ä¹…çš„æ–°æ‰‹è€Œè¨€ï¼Œå¾ˆå®¹æ˜“è¿›å…¥ä¸€ä¸ªè¯¯åŒºï¼›å°†å˜é‡ï¼Œé€»è¾‘å°è£…åœ¨ä¸€ä¸ªhookä¸­çš„æƒ…å†µä¸‹ï¼Œåˆåœ¨å¤šä¸ªé¡µé¢ä¸­ä½¿ç”¨ï¼Œå°±ä¼šåœ¨å†…å­˜ä¸­åˆ›å»ºå¤šä¸ªä¸å…±äº«çš„å†…å®¹ä¸€è‡´çš„ç©ºé—´ï¼Œå¯¹äºå…¬å…±å˜é‡è¿˜æ˜¯è¦ä½¿ç”¨å…¨å±€çŠ¶æ€ç®¡ç†åº“çš„ã€‚ â€‹ hooké£æ ¼çš„å…¨å±€çŠ¶æ€ç®¡ç†åº“ï¼Œå»ºè®®å¯ä»¥è¯•è¯•Pinia ç»“è¯­â€‹ ä½¿ç”¨è¿‡äº†ä¸€æ®µæ—¶é—´çš„setupè¯­æ³•ä¹‹åï¼Œå¯¹å…¶çœ‹æ³•ä¹Ÿæ˜¯æ…¢æ…¢ä»è°¨æ…ç–‘æƒ‘è½¬å˜æˆä¸ºæ‹¥æŠ±hookï¼ŒComposition API åœ¨é€»è¾‘æŠ½è±¡ã€ç±»å‹æ¨å¯¼ã€å¤šæ–¹é¢å‡å ä¼˜ï¼Œè™½ç„¶ç›®å‰è¿˜å­˜åœ¨ä¸€äº›å°é—®é¢˜ï¼Œåé¢çš„è¿­ä»£éƒ½ä¼šè§£å†³çš„ï¼Œåœ¨æœªæ¥å‡ å¹´Custom Hookå°†ä¼šè¶Šæ¥è¶Šæ™®åŠï¼Œæ‹¥æŠ±Custom Hook,Vue3å§! å¦‚æœä½¿ç”¨ä¸­é‡åˆ°äº†ä»€ä¹ˆé—®é¢˜ï¼Œè¯·åˆ°QQç¾¤ 530496237ï¼Œä¸€èµ·å¹å¹æ°´ ä¹Ÿå¯ä»¥æ·»åŠ æˆ‘çš„å¾®ä¿¡ï¼šcarpediem-rollinï¼ŒåŠ å…¥å¾®ä¿¡ç¾¤","categories":[{"name":"JavaScript-2021","slug":"JavaScript-2021","permalink":"https://vkcyan.github.io/categories/JavaScript-2021/"}],"tags":[{"name":"JavaScript","slug":"JavaScript","permalink":"https://vkcyan.github.io/tags/JavaScript/"}]},{"title":"ä½¿ç”¨gitlabCI/CDå®Œæˆå‰ç«¯è‡ªåŠ¨åŒ–éƒ¨ç½²","slug":"è§£å†³æ–¹æ¡ˆ/ä½¿ç”¨gitlabCICDå®Œæˆå‰ç«¯è‡ªåŠ¨åŒ–éƒ¨ç½²","date":"2021-06-14T16:00:00.000Z","updated":"2022-12-11T13:51:24.094Z","comments":true,"path":"2021/06/15/è§£å†³æ–¹æ¡ˆ/ä½¿ç”¨gitlabCICDå®Œæˆå‰ç«¯è‡ªåŠ¨åŒ–éƒ¨ç½²/","link":"","permalink":"https://vkcyan.github.io/2021/06/15/%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/%E4%BD%BF%E7%94%A8gitlabCICD%E5%AE%8C%E6%88%90%E5%89%8D%E7%AB%AF%E8%87%AA%E5%8A%A8%E5%8C%96%E9%83%A8%E7%BD%B2/","excerpt":"","text":"2021å¹´11æœˆ16æ—¥æ›´æ–° é™æ€æ•°æ®æå–ä¸ºå˜é‡ å¢åŠ å¤‡ä»½ç‰ˆæœ¬ å‰è¨€ä¸ºä»€ä¹ˆä½¿ç”¨CI&#x2F;CDï¼Ÿ â€‹ ç›®å‰æˆ‘ä»¬å…¬å¸æ›´æ–°ä½¿ç”¨çš„è½»é‡åŒ–æ›´æ–°è„šæœ¬ï¼Œæ›´æ–°æ“ä½œè™½ç„¶ç®€å•,ä½†æ˜¯ä¸å¤Ÿè§„èŒƒï¼Œå¹¶ä¸”æ•æ„Ÿä¿¡æ¯å­˜åœ¨å¼€å‘è€…ç”µè„‘ä¸­ï¼Œè™½ç„¶æˆ‘ä»¬gitä¸Šè¿›è¡Œäº†é…ç½®æ–‡ä»¶å¿½ç•¥ï¼Œä½†æ˜¯ä¾æ—§å­˜åœ¨æ³„å¯†çš„é£é™©ï¼Œä¸ºäº†é˜²æ­¢ä»¥ä¸Šæƒ…å†µå‡ºç°ï¼Œæˆ‘ä»¬å°†æ•æ„Ÿä¿¡æ¯ç§»æ¤åˆ°gitlabä¸­ï¼Œå¹¶ä¸”å°†æ›´æ–°æ“ä½œä»äººå·¥å˜ä¸ºè‡ªåŠ¨åŒ– CI&#x2F;CDçš„ä¼˜ç‚¹è‡ªåŠ¨æ„å»ºå¹¶ä¸”çŠ¶æ€æ˜¯æ¯ä¸ªäººéƒ½å¯è§çš„ å‡å°‘æ‰‹å·¥çš„é”™è¯¯ï¼Œè§£æ”¾äº†é‡å¤åŠ³åŠ¨åŠ› æ›´å¥½ï¼Œæ›´å¿«ï¼Œæ›´åŠ å®‰å…¨ï¼Œæ›´åŠ ç¨³å®šçš„äº¤ä»˜ åœ¨CIçš„è¿‡ç¨‹ä¸­å¯ä»¥è¿›è¡Œä»£ç è´¨é‡çš„è‡ªåŠ¨æ£€æµ‹ï¼Œå‡å°‘äººå·¥æ£€æŸ¥çš„åŠ³åŠ¨åŠ› æ‰“åŒ…ç¯å¢ƒä¸€è‡´ï¼Œä¸ä¼šå‡ºç°ç¼–è¯‘åä»£ç å¼‚å¸¸ å‡å°‘ç­‰å¾…æ—¶é—´ï¼Œæ›´å¿«çš„äº¤ä»˜æˆæœ å‰ç½®æ¦‚å¿µCIâ€‹ æŒç»­é›†æˆï¼ˆcontinuous Integrationï¼‰é¢‘ç¹çš„å°†ä»£ç ç»§æ‰¿åˆ°ä¸»å¹²ã€‚ç›®çš„æ˜¯è®©äº§å“å¯ä»¥å¿«é€Ÿè¿­ä»£ï¼ŒåŒæ—¶è¿˜èƒ½ä¿è¯é«˜è´¨é‡ï¼Œä»–çš„æ ¸å¿ƒæªæ–½å°±æ˜¯ä»£ç ç»§æ‰¿åˆ°ä¸»å¹²ä¹‹å‰ï¼Œå¿…é¡»é€šè¿‡è‡ªåŠ¨åŒ–æµ‹è¯•ï¼Œåªæœ‰å­˜åœ¨å¤±è´¥ï¼Œå°±ä¸èƒ½é›†æˆã€‚â€æŒç»­ç»§æ‰¿å¹¶ä¸èƒ½æ¶ˆé™¤bugï¼Œè€Œæ˜¯è®©ä»–éå¸¸å®¹æ˜“å‘ç°å’Œä¿®æ”¹â€ CDâ€‹ æŒç»­äº¤ä»˜ï¼ˆcontinuous Deliveryï¼‰ä¸æŒç»­éƒ¨ç½²ï¼ˆcontinuous Deploymentï¼‰é¢‘ç¹çš„å°†è½¯ä»¶çš„æ–°ç‰ˆæœ¬ï¼Œäº¤ä»˜ç»™è´¨é‡å›¢é˜Ÿæˆ–è€…ç”¨æˆ·ï¼Œä»¥ä¾›è¯„å®¡ã€‚å¦‚æœè¯„å®¡é€šè¿‡å°±ä¼šè¿›å…¥ç”Ÿäº§é˜¶æ®µï¼ŒæŒç»­äº¤ä»˜å¯ä»¥çœ‹åšæŒç»­é›†æˆçš„ä¸‹ä¸€æ­¥ï¼Œå®ƒå¼ºè°ƒçš„æ˜¯ä¸è®ºæ€ä¹ˆæ›´æ–°ï¼Œè½¯ä»¶éƒ½æ˜¯éšæ—¶éšåœ°å¯ä»¥äº¤ä»˜çš„ï¼›ä»£ç é€šè¿‡è¯„å®¡ä¹‹åï¼Œè‡ªåŠ¨éƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒï¼ŒæŒç»­éƒ¨ç½²æ˜¯æŒç»­äº¤ä»˜çš„ä¸‹ä¸€æ­¥ï¼ŒæŒç»­éƒ¨ç½²çš„ç›®æ ‡æ˜¯ï¼Œè½¯ä»¶åœ¨ä»»ä½•æ—¶åˆ»éƒ½æ˜¯å¯ä»¥éƒ¨ç½²çš„ï¼Œå¯ä»¥è¿›å…¥ç”Ÿäº§é˜¶æ®µ gitLabâ€‹ gitLabæ˜¯ä¸€ä¸ªå¼€æºçš„åº”ç”¨ç¨‹åºï¼Œä»–å¯ä»¥å®ç°ç§æœ‰åŒ–çš„Gtié¡¹ç›®ä»“åº“ï¼Œå¯ä»¥é€šè¿‡webç•Œé¢è¿›è¡Œè®¿é—®å…¬å¼€æˆ–è€…ç§äººé¡¹ç›® gitLab CI&#x2F;CDâ€‹ gitLabæŒç»­é›†æˆï¼Œåªè¦åœ¨ä»“åº“çš„æ ¹ç›®å½•æ·»åŠ .gitlab-ci.ymlæ–‡ä»¶ï¼Œå¹¶ä¸”é…ç½®äº†gitLab runnerï¼ˆè¿è¡Œå™¨ï¼‰ï¼Œæ¯æ¬¡ä»£ç å‘ç”Ÿå˜æˆçš„æ—¶å€™å°±ä¼šæ‰§è¡Œ.gitlab-ci.ymlä¸­çš„é…ç½® gitLab Runnerâ€‹ gitLab Runneræ˜¯ä¸€ä¸ªå¼€æºé¡¹ç›®ï¼Œæ”¯æŒå¤šå¹³å°è¿è¡Œï¼Œä»–çš„ä½œç”¨æ˜¯æ¯æ¬¡ä»£ç å‘ç”Ÿå˜æ›´çš„æ—¶å€™gitlab CIä¼šæ ¹æ®.gitlab-ci.ymlï¼Œé…ç½®æ–‡ä»¶æ‰§è¡Œæµæ°´çº¿ï¼ˆPipelineï¼‰ä¸­æ¯ä¸ªé˜¶æ®µStagesä¸­çš„Jobsï¼Œå¹¶å°†ç»“æœå‘é€å›gitLabã€‚gitLab Runneræ˜¯åŸºäºgitLab CIçš„APIè¿›è¡Œæ„å»ºçš„ç›¸äº’éš”ç¦»çš„æœºå™¨ï¼Œæ‰€ä»¥gitLab Runner ä¸gitlabæœ¬èº«ä¸éœ€è¦å®‰è£…åœ¨åŒä¸€å°æœºå™¨ä¸Šï¼Œå¹¶ä¸”è€ƒè™‘åˆ°æ‰§è¡ŒRunnerå¯¹èµ„æºçš„æ¶ˆè€—ï¼Œä»¥åŠå®‰å…¨æ€§é—®é¢˜ï¼Œæ‰€ä»¥å¹¶ä¸å»ºè®®å®‰è£…åœ¨åŒä¸€å°æœºå™¨ä¸Š Pipelinesâ€‹ æµæ°´çº¿ï¼Œæ˜¯åˆ†é˜¶æ®µçš„æ„å»ºä»»åŠ¡ï¼Œæ¯”å¦‚å®‰è£…ä¾èµ–ï¼Œè¿è¡Œæµ‹è¯•ï¼Œæ‰“åŒ…éƒ¨ç½²ï¼Œæµæ°´çº¿ç”±gitLab Runnerè¿›è¡Œè§¦å‘ï¼Œæµæ°´çº¿è¿è¡Œçš„ä¾æ®æ˜¯gitlab-ci.yml Stagesâ€‹ æ„å»ºé˜¶æ®µ,ä¹Ÿå°±æ˜¯æµæ°´çº¿çš„æ¯ä¸€ä¸ªç¯èŠ‚ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ Pipelinesä¸­å»ºç«‹å¤šä¸ªStagesï¼Œæ‰€æœ‰Stageséƒ½ä¼šæŒ‰é¡ºåºåŒæ­¥è¿›è¡Œï¼Œåªæœ‰å½“æ‰€æœ‰çš„Stageséƒ½å®Œæˆäº†Pipelinesæ‰ç®—æˆåŠŸï¼Œé»˜è®¤æƒ…å†µä¸‹ä¸Šä¸€ä¸ªStageså¤±è´¥ï¼Œè¿™æ¡æµæ°´çº¿åˆ™ä¸ºå¤±è´¥ Jobsâ€‹ è¡¨ç¤ºæ„å»ºé˜¶æ®µçš„ä½œä¸šï¼Œå…³äºjobsçš„è®¾ç½®æœ‰å¾ˆå¤šï¼Œæ¯”å¦‚æŒ‡å®šæ‰‹åŠ¨è§¦å‘ï¼ŒæŒ‡å®šåˆ†æ”¯è§¦å‘ï¼ŒåŒæ—¶è¿è¡Œå¤šä¸ªjobsï¼Œç­‰ç­‰ï¼Œç›¸åŒçš„Stagesä¸­çš„jobsä¼šå¼‚æ­¥è¿›è¡Œï¼ŒStagesä¸­çš„jobså…¨éƒ¨æˆåŠŸäº†ï¼ŒStagesæ‰ä¸ºæˆåŠŸï¼Œé»˜è®¤æƒ…å†µä¸‹å­˜åœ¨jobså¤±è´¥ï¼Œè¿™æ¡æµæ°´çº¿åˆ™ä¸ºå¤±è´¥ .gitlab-ci.ymlâ€‹ åœ¨gitLab CI&#x2F;CDä¸­ï¼Œå…·ä½“å¦‚ä½•è¿è¡Œæµæ°´çº¿ï¼Œæ˜¯ç”± .gitlab-ci.ymlæ¥ç®¡ç†çš„ï¼Œè¿™ä¸ªæ–‡ä»¶æ”¾åœ¨é¡¹ç›®ä»“åº“çš„æ ¹ç›®å½• å®ä¾‹ä»£ç ï¼š 12345678910111213141516# stagesï¼šå®šä¹‰Pipelineä¸­çš„å„ä¸ªæ„å»ºé˜¶æ®µï¼Œå¹¶ä¸”å®šä¹‰Stagesåç§°stages: - install - build# å®šä¹‰ install é˜¶æ®µçš„ä¸€ä¸ª jobinstall-job: stage: install script: - echo &quot;hello install&quot;# å®šä¹‰ build é˜¶æ®µçš„ä¸€ä¸ª jobbuild-job: stage: build script: - echo &quot;Hello, build&quot; ç¯å¢ƒæ­å»ºâ€‹ æ­¤ç±»æ–‡ç« å¤ªå¤šäº†ï¼Œè¯·è‡ªè¡ŒæŸ¥æ‰¾ï¼Œæœ¬æ–‡ä¸åšæ­å»ºä»‹ç» â€‹ é’ˆå¯¹å·²ç»æ­å»ºå¥½çš„gitLabä»¥åŠrunnerï¼Œä¸ºäº†é€‚åº”å‰ç«¯å¼€å‘ç¯å¢ƒï¼Œéœ€è¦å®‰è£…äº†nodeï¼Œcnpmï¼Œç­‰ç­‰ä¾èµ– å‰ç½®æŠ€èƒ½gitï¼šä¸ä¼šgitå¯ä»¥é€€å‡ºç›´æ’­é—´äº†ï¼Œèµ¶å¿«å»å­¦å§ linuxï¼šå¸¸ç”¨å‘½ä»¤å¿…é¡»ä¼šï¼Œä¸ç„¶é…ç½®runnerï¼Œä»¥åŠç¼–å†™ci.ymlè„šæœ¬çš„æ—¶å€™ä¼šå¯¸æ­¥éš¾è¡Œ åˆ›å»ºç»„ç»‡ï¼Œå¯¼å…¥gitçš„é¡¹ç›® åˆ›å»ºç»„ç»‡ä¸»è¦æ˜¯ä¸ºäº†æ–¹ä¾¿é…ç½®CI&#x2F;CDçš„å…¨å±€å˜é‡ï¼Œä¹Ÿæ–¹ä¾¿é¡¹ç›®çš„é›†ä¸­ç®¡ç† â€‹ åœ¨ä½¿ç”¨gitlabä¹‹å‰ï¼Œæˆ‘ä»¬çš„é¡¹ç›®å¯èƒ½ä¼šåœ¨githubï¼Œgiteeï¼Œç­‰ç­‰å…¶ä»–ä»£ç ä»“åº“ï¼Œä¸ºäº†ä¿ç•™ä¹‹å‰è®°å½•ï¼Œæˆ‘ä»¬éœ€è¦å°†gitä»“åº“ç§»æ¤è¿‡æ¥ æˆ‘ä»¬ä¹‹å‰ä½¿ç”¨çš„æ˜¯giteeï¼Œgitlabæ²¡æœ‰å¯¹æ­¤åšå¿«æ·æ”¯æŒï¼Œæ‰€ä»¥æˆ‘ä»¬ä½¿ç”¨Repo URL,å¡«å†™å¥½åœ°å€ä¸è´¦å·ï¼Œå°±å¯ä»¥å°†gitä»“åº“å¯¼å…¥è¿›æ¥ æ›´æ–°gitæ–‡ä»¶æˆ‘ä»¬å°†gitè¿ç§»åˆ°gitlabä¹‹åï¼Œç°æœ‰é¡¹ç›®ä¸­çš„.gitæ–‡ä»¶éƒ½éœ€è¦è¿›è¡Œæ›´æ¢ï¼Œä¸èƒ½å†å‘ä¹‹å‰çš„ä»“åº“æäº¤ä»£ç ã€‚ åœæ­¢ä»£ç æäº¤ è·å–æœ€æ–°ä»£ç ï¼Œåˆ‡æ¢åˆ°masteråˆ†æ”¯ clone æ–°çš„gitlabçš„ä»“åº“ è·å–æ–°çš„.gitæ–‡ä»¶ï¼Œè¦†ç›–åŸæœ¬é¡¹ç›®ä¸­çš„.gitï¼Œå®Œæˆè¿ç§» åˆ°ç›®å‰ä¸ºæ­¢ï¼Œæˆ‘ä»¬å°±å¯ä»¥å®Œæˆgité¡¹ç›®çš„è¿ç§»æ“ä½œ é…ç½®ç»„ç»‡çš„CI&#x2F;CDå˜é‡â€‹ ç»„ç»‡ä¸­çš„é¡¹ç›®å¤§éƒ¨åˆ†éƒ½æ˜¯æ›´æ–°åˆ°ä¸€ä¸ªæœåŠ¡å™¨ï¼Œä¾‹å¦‚æœåŠ¡å™¨åœ°å€ä¸å¯†ç ï¼Œæˆ‘ä»¬å¯ä»¥å°†è¿™éƒ¨åˆ†æ•°æ®ç»Ÿä¸€é…ç½®åˆ°å…¨å±€å˜é‡ï¼Œè¿™æ ·ç»„ç»‡ä¸­çš„é¡¹ç›®åˆ™æ— éœ€å†æ¬¡è¿›è¡Œè®¾ç½® æ³¨æ„ï¼š å› ä¸ºæˆ‘ä»¬çš„é¡¹ç›®ä¸ä»…ä»…æ˜¯masteråˆ†æ”¯ä¼šè¿è¡Œrunnerï¼Œå¦‚æœè¿™é‡Œä¸å…³é—­Stateï¼Œé™¤äº†masterï¼ˆå—ä¿æŠ¤çš„åˆ†æ”¯ï¼‰å…¶ä»–çš„åˆ†æ”¯éƒ½è®¿é—®ä¸äº†è¿™ä¸ªå˜é‡ CI&#x2F;CDçš„å˜é‡åŠŸèƒ½å¯ä»¥å¾ˆå¥½çš„ä¿æŠ¤é¡¹ç›®çš„éšç§æ•°æ®ï¼Œå¯ä»¥éš”ç¦»ä½¿ç”¨è€…ä¸é¡¹ç›®æ›´æ–°é…ç½® é…ç½®gitlab-runnerï¼ˆlinuxï¼‰ æ³¨æ„ï¼šæœ¬æ–‡æ— æ­å»ºgitlabä»¥åŠgitlab-runnerç›¸å…³æ•™ç¨‹ï¼Œä¸€åˆ‡éƒ½æ˜¯åœ¨å·²ç»æ­å»ºå®Œæˆçš„åŸºç¡€ä¸Šè¿›è¡Œä½¿ç”¨çš„ â€‹ æˆ‘ä»¬é’ˆå¯¹é¡¹ç›®å°±è¦æ³¨å†Œä¸€ä¸ªrunnerï¼Œæ¥å®Œæˆæˆ‘ä»¬æ¥ä¸‹æ¥é…ç½®ä¸­çš„å‘½ä»¤æ“ä½œï¼Œè¿™éƒ¨åˆ†ç•Œé¢æ“ä½œæ— æ³•å®Œæˆï¼Œéœ€è¦å¯¹gitlab runnerçš„æœåŠ¡å™¨è¿›è¡Œæ“ä½œ è·å–é…ç½®ç›¸å…³æ•°æ® æ³¨å†Œè‡ªå®šä¹‰runneræˆ‘ä»¬éœ€è¦æ³¨å†Œä¸€ä¸ªç‰¹å®šçš„runnerï¼Œè¿™é‡Œå®˜æ–¹æç¤ºé¡ºåºä¸º å®‰è£…runner æ³¨å†Œä¸€ä¸ªrunnerï¼Œå¹¶ä¸”URLæŒ‡å®šä¸ºxxxï¼ŒtokenæŒ‡å®šä¸ºxxx æ¥ä¸‹æ¥æˆ‘ä»¬å°±è¦å»runnerå®¿ä¸»æœºä¸Šé¢æ³¨å†Œ ä½¿ç”¨ç»ˆç«¯å·¥å…·é“¾æ¥å®¿ä¸»æœº è¾“å…¥å‘½ä»¤ 1gitlab-runner register å®Œæˆé…ç½®ä¹‹åï¼Œåœ¨å›åˆ°é¡¹ç›®CI&#x2F;CDéƒ¨åˆ†çš„è®¾ç½®,å°±ä¼šå‘ç°ä¸‹é¢å¤šä¸€ä¸ªrunner æ³¨ï¼šåˆšåˆšæ³¨å†Œçš„runnerçŠ¶æ€æ˜¯é»‘è‰²çš„ï¼Œç­‰ä¼šå°±ä¼šå˜æˆç»¿è‰² åˆ°æ­¤ä¸ºæ­¢ï¼Œrunnerå·²ç»å‡†å¤‡å°±ç»ªï¼Œä»–ä¼šæ‰§è¡Œæˆ‘ä»¬é¡¹ç›®ä¸­çš„.gitlab-ci.ymlæ–‡ä»¶ä¸­çš„é…ç½® ç¼–å†™.gitlab-ci.yml å…·ä½“ç¼–å†™è¿‡ç¨‹è¯·æŸ¥çœ‹å®˜æ–¹æ•™ç¨‹ psï¼šæ³¨æ„ä¸€ç‚¹ï¼Œçº¿ä¸Šé™æ€æ–‡ä»¶æœ€å¥½ä¸è¦å‘½åä¸ºdistï¼ŒCIè„šæœ¬ä¸­distä¸ºä¸­è½¬ç«™æ–‡ä»¶å¤¹ï¼Œå‘½åä¸ºdistä¼šå‡ºç°é—®é¢˜ 1234567891011121314151617181920212223242526272829303132333435363738394041stages: # åˆ†æ®µ - install - build - deploycache: # ç¼“å­˜ paths: - node_modules - admininstall-job: stage: install only: - prod-pre script: - echo &quot;å¼€å§‹installğŸ”¥ğŸ”¥ğŸ”¥&quot; - npm install - echo &quot;å®ŒæˆinstallğŸ”¥ğŸ”¥ğŸ”¥&quot;build-job: stage: build only: - prod-pre script: - echo &quot;å¼€å§‹ä»£ç æ‰“åŒ…ğŸ’ªğŸ’ªğŸ’ª&quot; - npm run build - echo &quot;å®Œæˆä»£ç æ‰“åŒ…ğŸ’ªğŸ’ªğŸ’ª&quot;deploy-job: stage: deploy only: - prod-pre before_script: - echo &quot;å‘å°„åˆ°ç›®æ ‡æœåŠ¡å™¨âœ¨âœ¨âœ¨&quot; script: - sshpass -p $PASSWORD scp -o StrictHostKeyChecking=no -r ./dist $USERNAME@$HOST:$UPLOADDIR/ # å°†æ‰“åŒ…å®Œæˆçš„æ–‡ä»¶å¤åˆ¶åˆ°ç›®æ ‡æœåŠ¡å™¨ - sshpass -p $PASSWORD ssh -o StrictHostKeyChecking=no $USERNAME@$HOST rm -rf $UPLOADDIR/xxxx # åˆ é™¤åŸæœ‰æ–‡ä»¶ - sshpass -p $PASSWORD ssh -o StrictHostKeyChecking=no $USERNAME@$HOST mv $UPLOADDIR/dist $UPLOADDIR/xxxx # å°†ç›®æ ‡æ–‡ä»¶æ”¹ä¸ºæœåŠ¡ç«¯çœŸæ­£æ–‡ä»¶ after_script: - echo &quot;å®Œæˆæ›´æ–°ğŸ‘ğŸ‘ğŸ‘&quot; åœ¨é…ç½®æ–‡ä»¶ä¸­é…ç½®äº†æ‰§è¡Œçš„åˆ†æ”¯ï¼Œå½“æˆ‘ä»¬åœ¨prod-preåˆ†æ”¯ä¸Šæäº¤ä»£ç çš„æ—¶å€™ï¼Œè„šæœ¬å°±ä¼šè‡ªåŠ¨æ‰§è¡Œ installé¡¹ç›®ä¾èµ– buildé¡¹ç›® å‘å°„åˆ°ç›®æ ‡æœåŠ¡å™¨ è¿™æ ·å°±å®Œæˆæˆ‘ä»¬é¡¹ç›®çš„è‡ªåŠ¨åŒ–éƒ¨ç½² CIè„šæœ¬çš„ä¼˜åŒ–ä¼˜åŒ–è‡ªåŠ¨åŒ–éƒ¨ç½²é€Ÿåº¦ä¸Šé¢æˆ‘ä»¬å®Œæˆäº†ä¸€ä¸ªç®€å•çš„æµæ°´çº¿ï¼Œä»–å¯ä»¥å®Œæˆ install build delayï¼Œå·²ç»æ»¡è¶³äº†åŸºæœ¬è¦æ±‚ï¼Œä½†æ˜¯è¿˜å­˜åœ¨ä¸€äº›å°é—®é¢˜ æµæ°´çº¿ä»»åŠ¡æ—¶é—´è¿‡é•¿ é¢‘ç¹installå­˜åœ¨å¤±è´¥çš„æ¦‚ç‡ æˆ‘ä»¬éœ€è¦ä¼˜åŒ–æˆ‘ä»¬çš„CIï¼Œè®©é€Ÿåº¦æ›´å¿«æ›´åŠ ç¨³å®š buildç¯èŠ‚ä¸delayç¯èŠ‚æ²¡æœ‰å¤ªå¤§çš„æ“ä½œç©ºé—´ï¼Œå¹¶ä¸”å¤§éƒ¨åˆ†çš„æ—¶é—´éƒ½èŠ±åœ¨installç¯èŠ‚ï¼Œæˆ‘ä»¬å¯ç”¨äº†gitlabçš„cacheï¼Œå®é™…ä¸Šå¹¶ä¸éœ€è¦æ¯æ¬¡éƒ½æ‰“åŒ…ï¼Œé’ˆå¯¹è¿™ä¸ªæ€è·¯æˆ‘ä»¬ä¿®æ”¹æˆ‘ä»¬jobä¸­çš„ installï¼Œåœ¨jobä¸­å¢åŠ å½“å‰æ˜¯å¦å­˜åœ¨**node_modules&#x2F;**çš„åˆ¤æ–­ 123456789install-job: stage: install only: refs: - prod-pre script: - echo &quot;å¼€å§‹installğŸ”¥ğŸ”¥ğŸ”¥&quot; - if [ ! -d &quot;./node_modules/&quot; ];then npm install; else echo &quot;ç¼“å­˜å­˜åœ¨,è·³è¿‡install&quot;; fi - echo &quot;å®ŒæˆinstallğŸ”¥ğŸ”¥ğŸ”¥&quot; è¿™æ ·å­˜åœ¨ç¼“å­˜çš„æ—¶å€™å°±ä¼šè·³è¿‡installé˜¶æ®µï¼Œä½†æ˜¯è¿™æ ·è¿˜å­˜åœ¨ä¸€ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬ä¿®æ”¹äº†ä¾èµ–ï¼Œä½†æ˜¯gitlabé‡Œé¢ç¼“å­˜è¿˜åœ¨ï¼Œå¿…ç„¶ä¼šå‡ºç°æ‰“åŒ…å¼‚å¸¸çš„æƒ…å†µï¼Œé’ˆå¯¹package.jsonå‘ç”Ÿå˜åŒ–ï¼Œæˆ‘ä»¬å†å¢åŠ ä¸€ä¸ªjobï¼Œç›‘å¬package.json æ˜¯å¦å‘ç”Ÿå˜åŒ– é™æ€æ•°æ®æå–ä¸ºå˜é‡ å‡å¦‚å­˜åœ¨å¤šä¸ªé¡¹ç›®ï¼Œä½¿ç”¨æœ¬è„šæœ¬åªéœ€è¦ä¿®æ”¹æ­¤å¤„çš„variableså³å¯ï¼Œä¸éœ€è¦æ”¹scriptéƒ¨åˆ† 1234variables: BUILDDIR: dist # æ‰“åŒ…æ–‡ä»¶å PRODDIR: dist # çº¿ä¸Šæ–‡ä»¶å BACKUPDIR: dist_back # å¤‡ä»½æ–‡ä»¶å¤¹ å¢åŠ å¤‡ä»½åŠŸèƒ½ åˆ é™¤åŸæœ‰å¤‡ä»½æ–‡ä»¶(ä»…åœ¨ç”Ÿäº§ç¯å¢ƒ) åˆ é™¤åŸæœ‰æ–‡ä»¶ å¤‡ä»½åŸæœ¬çš„ä»£ç (ä»…åœ¨ç”Ÿäº§ç¯å¢ƒ) å°†æ‰“åŒ…å®Œæˆçš„æ–‡ä»¶å¤åˆ¶åˆ°ç›®æ ‡æœåŠ¡å™¨ å°†ç›®æ ‡æ–‡ä»¶æ”¹ä¸ºæœåŠ¡ç«¯çœŸæ­£æ–‡ä»¶ .gitlab-ci.ymlï¼ˆæ­£å¼ç‰ˆæœ¬ï¼‰ æŒ‡å®šäº†prodåˆ†æ”¯ï¼Œæ ¹æ®å®é™…é¡¹ç›®è¿›è¡Œä¿®æ”¹ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263stages: # åˆ†æ®µ - repInstall - install - build - deployvariables: BUILDDIR: dist # æ‰“åŒ…æ–‡ä»¶å PRODDIR: dist # çº¿ä¸Šæ–‡ä»¶å BACKUPDIR: dist_back # å¤‡ä»½æ–‡ä»¶å¤¹cache: # ç¼“å­˜ paths: - node_modules - distrepInstall-job: stage: repInstall only: refs: - prod changes: - package.json script: - echo &quot;ä¾èµ–å‘ç”Ÿå˜åŒ–,å¼€å§‹installğŸ”¥ğŸ”¥ğŸ”¥&quot; - cnpm install - echo &quot;å®ŒæˆinstallğŸ”¥ğŸ”¥ğŸ”¥&quot;install-job: stage: install only: refs: - prod script: - echo &quot;å¼€å§‹installğŸ”¥ğŸ”¥ğŸ”¥&quot; - if [ ! -d &quot;./node_modules/&quot; ];then npm install; else echo &quot;ç¼“å­˜å­˜åœ¨,è·³è¿‡install&quot;; fi - echo &quot;å®ŒæˆinstallğŸ”¥ğŸ”¥ğŸ”¥&quot;build-job: stage: build only: - prod script: - echo &quot;å¼€å§‹ä»£ç æ‰“åŒ…ğŸ’ªğŸ’ªğŸ’ª&quot; - npm run build - echo &quot;å®Œæˆä»£ç æ‰“åŒ…ğŸ’ªğŸ’ªğŸ’ª&quot;deploy-job: stage: deploy only: - prod before_script: - echo &quot;å‘å°„åˆ°ç›®æ ‡æœåŠ¡å™¨âœ¨âœ¨âœ¨&quot; script: - echo &quot;å‘å°„åˆ°ç›®æ ‡æœåŠ¡å™¨âœ¨âœ¨âœ¨&quot; - sshpass -p $PASSWORD ssh -o StrictHostKeyChecking=no $USERNAME@$HOST rm -rf $UPLOADDIR/backup/$BACKUPDIR # åˆ é™¤åŸæœ‰å¤‡ä»½æ–‡ä»¶(ä»…åœ¨ç”Ÿäº§ç¯å¢ƒ) - sshpass -p $PASSWORD ssh -o StrictHostKeyChecking=no $USERNAME@$HOST mv $UPLOADDIR/$PRODDIR/ $UPLOADDIR/backup/$BACKUPDIR/ # åˆ é™¤åŸæœ‰æ–‡ä»¶ å¤‡ä»½åŸæœ¬çš„ä»£ç (ä»…åœ¨ç”Ÿäº§ç¯å¢ƒ) - sshpass -p $PASSWORD scp -o StrictHostKeyChecking=no -r ./$BUILDDIR/. $USERNAME@$HOST:$UPLOADDIR/dist # å°†æ‰“åŒ…å®Œæˆçš„æ–‡ä»¶å¤åˆ¶åˆ°ç›®æ ‡æœåŠ¡å™¨ - sshpass -p $PASSWORD ssh -o StrictHostKeyChecking=no $USERNAME@$HOST mv $UPLOADDIR/dist $UPLOADDIR/$PRODDIR # å°†ç›®æ ‡æ–‡ä»¶æ”¹ä¸ºæœåŠ¡ç«¯çœŸæ­£æ–‡ä»¶ - echo &quot;å®Œæˆæ›´æ–°ğŸ‘ğŸ‘ğŸ‘&quot; after_script: - echo &quot;å®Œæˆæ›´æ–°ğŸ‘ğŸ‘ğŸ‘&quot; .gitlab-ci.ymlï¼ˆç®€åŒ–ï¼‰ æŒ‡å®šäº†prod-preåˆ†æ”¯ï¼Œæ ¹æ®å®é™…é¡¹ç›®è¿›è¡Œä¿®æ”¹ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758stages: # åˆ†æ®µ - preInstall - install - build - deployvariables: BUILDDIR: dist # æ‰“åŒ…æ–‡ä»¶å PRODDIR: dist_test # çº¿ä¸Šæ–‡ä»¶åcache: # ç¼“å­˜ paths: - node_modules - distpreInstall-job: stage: preInstall only: refs: - prod-pre changes: - package.json script: - echo &quot;ä¾èµ–å‘ç”Ÿå˜åŒ–,å¼€å§‹installğŸ”¥ğŸ”¥ğŸ”¥&quot; - cnpm install - echo &quot;å®ŒæˆinstallğŸ”¥ğŸ”¥ğŸ”¥&quot;install-job: stage: install only: refs: - prod-pre script: - echo &quot;å¼€å§‹installğŸ”¥ğŸ”¥ğŸ”¥&quot; - if [ ! -d &quot;./node_modules/&quot; ];then npm install; else echo &quot;ç¼“å­˜å­˜åœ¨,è·³è¿‡install&quot;; fi - echo &quot;å®ŒæˆinstallğŸ”¥ğŸ”¥ğŸ”¥&quot;build-job: stage: build only: - prod-pre script: - echo &quot;å¼€å§‹ä»£ç æ‰“åŒ…ğŸ’ªğŸ’ªğŸ’ª&quot; - npm run build - echo &quot;å®Œæˆä»£ç æ‰“åŒ…ğŸ’ªğŸ’ªğŸ’ª&quot;deploy-job: stage: deploy only: - prod-pre before_script: - echo &quot;å‘å°„åˆ°ç›®æ ‡æœåŠ¡å™¨âœ¨âœ¨âœ¨&quot; script: - sshpass -p $PASSWORD scp -o StrictHostKeyChecking=no -r ./$BUILDDIR/. $USERNAME@$HOST:$UPLOADDIR/dist/ # å°†æ‰“åŒ…å®Œæˆçš„æ–‡ä»¶å¤åˆ¶åˆ°ç›®æ ‡æœåŠ¡å™¨ - sshpass -p $PASSWORD ssh -o StrictHostKeyChecking=no $USERNAME@$HOST rm -rf $UPLOADDIR/$PRODDIR # åˆ é™¤åŸæœ‰æ–‡ä»¶ - sshpass -p $PASSWORD ssh -o StrictHostKeyChecking=no $USERNAME@$HOST mv $UPLOADDIR/dist $UPLOADDIR/$PRODDIR # å°†ç›®æ ‡æ–‡ä»¶æ”¹ä¸ºæœåŠ¡ç«¯çœŸæ­£æ–‡ä»¶ after_script: - echo &quot;å®Œæˆæ›´æ–°ğŸ‘ğŸ‘ğŸ‘&quot; ä»£ç åœ°å€ï¼šgithub ç»“è¯­â€‹ é™¤äº†ä½¿ç”¨gitlabCI&#x2F;CDæ¥å®Œæˆè‡ªåŠ¨åŒ–éƒ¨ç½²ä¹‹å¤–ä¹Ÿå¯ä»¥ä½¿ç”¨Jenkins+webHookæ¥å®Œæˆï¼Œæ•ˆæœéƒ½æ˜¯ä¸€æ ·çš„ï¼Œå¦‚æœè¿™ä¸¤ç§æ–¹æ¡ˆå¯¹ä½ ï¼Œæˆ–è€…ä½ çš„å…¬å¸æ¥è¯´éƒ½æ¯”è¾ƒå¤æ‚ï¼Œé‚£ä¹ˆæˆ‘å»ºè®®è¯•è¯•è½»é‡åŒ–æ›´æ–°æ–¹æ¡ˆï¼Œæˆ‘ä»¬ä¹Ÿåœ¨å®é™…é¡¹ç›®ä¸Šä½¿ç”¨è¿‡å¾ˆä¹…ï¼Œå¯ä»¥ç¡®ä¿ä¸ä¼šå‡ºç°ç¨³å®šæ€§ï¼Œæ˜¯å¯ä»¥åœ¨ç”Ÿäº§ç¯å¢ƒä½¿ç”¨çš„ å¦‚æœä½¿ç”¨ä¸­é‡åˆ°äº†ä»€ä¹ˆé—®é¢˜ï¼Œè¯·åˆ°QQç¾¤ 530496237ï¼Œä¸€èµ·å¹å¹æ°´ ä¹Ÿå¯ä»¥æ·»åŠ æˆ‘çš„å¾®ä¿¡ï¼šcarpediem-rollinï¼ŒåŠ å…¥å¾®ä¿¡ç¾¤","categories":[{"name":"JavaScript-2021","slug":"JavaScript-2021","permalink":"https://vkcyan.github.io/categories/JavaScript-2021/"}],"tags":[{"name":"JavaScript","slug":"JavaScript","permalink":"https://vkcyan.github.io/tags/JavaScript/"}]},{"title":"ä½¿ç”¨iframe+postMessageé€šä¿¡å®ç°å•†åŸå¤šé¡µé¢è£…ä¿®","slug":"è§£å†³æ–¹æ¡ˆ/ä½¿ç”¨iframeå®ç°é¡µé¢è£…ä¿®æ–¹æ¡ˆ","date":"2021-06-14T16:00:00.000Z","updated":"2022-12-11T13:51:24.094Z","comments":true,"path":"2021/06/15/è§£å†³æ–¹æ¡ˆ/ä½¿ç”¨iframeå®ç°é¡µé¢è£…ä¿®æ–¹æ¡ˆ/","link":"","permalink":"https://vkcyan.github.io/2021/06/15/%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/%E4%BD%BF%E7%94%A8iframe%E5%AE%9E%E7%8E%B0%E9%A1%B5%E9%9D%A2%E8%A3%85%E4%BF%AE%E6%96%B9%E6%A1%88/","excerpt":"","text":"æ¼”ç¤ºè§†é¢‘æ¼”ç¤ºè§†é¢‘ èƒŒæ™¯â€‹ å¼€å‘é¡¹ç›®æ˜¯å¤šå•†å®¶çš„ç±»ä¼¼æœ‰èµçš„å•†åŸåå°ï¼Œéœ€è¦æ”¯æŒå®¢æˆ·ç«¯çš„åº—é“ºè£…ä¿®åŠŸèƒ½ â€‹ ç³»ç»Ÿç”¨æˆ·å¤šä¸ºä¼ä¸šç”¨æˆ·å¯¹é¡µé¢æ•ˆæœè¦æ±‚è¾ƒé«˜ï¼Œå¯¼è‡´é¦–é¡µå˜åŒ–éå¸¸é¢‘ç¹ å‰è¨€2020å¹´ç¬¬ä¸€ç‰ˆæœ¬è£…ä¿®ä¸Šçº¿äº†ï¼Œæ–¹æ¡ˆæ˜¯åå°â€œæ¨¡æ‹Ÿâ€å®¢æˆ·ç«¯æ ·å¼å®ç°å¯è§†åŒ–ï¼Œå®ç°é¦–é¡µè£…ä¿®åŠŸèƒ½ å®é™…ä¸Šä¹Ÿå°±æ˜¯åå°å†™ä¸€å¥—ä¸å®¢æˆ·ç«¯ä¸€æ ·çš„æ ·å¼è§£æè£…ä¿®jsonï¼Œå®ç°è£…ä¿®é¢„è§ˆçš„æ•ˆæœ æ¨¡æ‹Ÿç‰ˆæœ¬çš„è£…ä¿®ä¸Šçº¿åï¼Œç¡®å®è§£å†³äº†å¤šåº—é“ºä¸ªæ€§åŒ–é¦–é¡µçš„é—®é¢˜ï¼Œå®ç°äº†å®šåˆ¶åŒ–é¦–é¡µï¼Œä½†æ˜¯éšç€æ—¶é—´çš„æ¨ç§»ï¼Œæ¨¡æ‹Ÿç‰ˆæœ¬æš´éœ²äº†å¾ˆå¤šé—®é¢˜ï¼Œé«˜é¢‘ç‡çš„æ”¹ç‰ˆå¯¼è‡´éœ€æ±‚å‡ ä¹æ— æ³•æ»¡è¶³ è£…ä¿®æ•°æ®ä¸ºé™æ€æ•°æ®ï¼Œä¸ä¼šæ ¹æ®å•†åŸå•†å“çŠ¶æ€è€Œå˜åŒ–ï¼Œä¾‹å¦‚æŸæŸå•†å“ä¸‹æ¶äº†ï¼Œä½†æ˜¯é¦–é¡µè£…ä¿®æ•°æ®é‡Œé¢ä¾æ—§å­˜åœ¨ æ¯æ¬¡å®¢æˆ·ç«¯æ ·å¼å‘ç”Ÿå˜åŒ–ï¼Œåå°éƒ½éœ€è¦åŒæ­¥ç¼–å†™ä¸€ä»½ï¼Œå¦åˆ™å°±æ— æ³•å¯è§†åŒ–ï¼Œå¯¼è‡´å·¥ä½œé‡éå¸¸å¤§ ä¸å…·å¤‡æ‰©å±•æ€§ï¼Œåªèƒ½å¯è§†åŒ–çš„è£…ä¿®é¦–é¡µï¼Œæ— æ³•å¯è§†åŒ–è£…ä¿®å…¶ä»–é¡µé¢ï¼Œå…¶ä»–é¡µé¢éƒ½æ˜¯é€šè¿‡ä¸€ä¸ªæ’æ§½å®ç° æ’æ§½å°±æ˜¯ä¸€ä¸ªjsonå¯¹è±¡çš„è½½ä½“ï¼Œå› ä¸ºä¸æƒ³å†™2å¥—æ ·å¼ï¼Œæ‰€ä»¥é‡‡å–è¿™ç§å¾ˆæŠ½è±¡çš„æ–¹æ¡ˆ éšç€ä¸šåŠ¡çš„æ‹“å±•ï¼Œæš´éœ²å‡ºæ¥çš„é—®é¢˜ä¹Ÿæ˜¯è¶Šæ¥è¶Šä¸¥é‡ï¼Œä¸ºäº†æ»¡è¶³éœ€æ±‚ï¼Œå¾ˆå¤šåœºæ™¯ä¸‹éœ€è¦ç‰ºç‰²æ•´ä¸ªæŠ€æœ¯éƒ¨é—¨çš„æ•ˆç‡ï¼Œä»¥åŠä½¿ç”¨è€…çš„ä½“éªŒæ„Ÿï¼Œä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜å¿…é¡»å¦è¾Ÿè¹Šå¾„ï¼Œå¯»æ‰¾å…¶ä»–è§£å†³æ–¹æ¡ˆ æ–°æ–¹æ¡ˆå¿…é¡»è§£å†³ä»¥ä¸‹é—®é¢˜ è£…ä¿®ä¸­çš„å•†å“æ•°æ®å¿…é¡»ä¸ºéé™æ€æ•°æ® é¿å…2å¥—æ ·å¼çš„é—®é¢˜ è£…ä¿®ä¸­çš„å•†å“æ•°æ®å®æ—¶åˆ·æ–°å¯ä»¥é€šè¿‡çº¦å®šæœ‰è§„å¾‹çš„æ•°æ®ç»“æ„ï¼Œåç«¯è§£æå¹¶å®æ—¶æ›´æ–°å•†å“æ•°æ®ï¼Œå®ç°è£…ä¿®ä¸­æ•°æ®çš„æ›´æ–° æŠ›å¼ƒæ¨¡æ‹Ÿæ–¹æ¡ˆåï¼Œä¹Ÿæ˜¯æ€è€ƒå¾ˆå¤šæ–¹å‘ï¼Œä½†æ˜¯å› ä¸ºåŸºäºä¸šåŠ¡ç»„ä»¶è£…ä¿®æ˜¯æ²¡åŠæ³•æ•´ä¸ªè£…ä¿®æ•°æ®éƒ½jsonåŒ–çš„ï¼Œæ‰€ä»¥æœ€ç»ˆå°è¯•äº†ä¸€ä¸ªç†è®ºä¸Šå¯è¡Œçš„æ–¹æ¡ˆï¼Œå®¢æˆ·ç«¯é€šè¿‡iframeåµŒå…¥åˆ°åå°ï¼Œä½¿ç”¨postMessageæ¥å®Œæˆåå°ä¸å®¢æˆ·ç«¯ä¹‹é—´çš„æ•°æ®äº¤äº’ï¼Œå®ç°è£…ä¿®åŠŸèƒ½ æ–¹æ¡ˆé€»è¾‘å›¾ åå°è£…ä¿®ä¸å®¢æˆ·ç«¯çš„ä¸»è¦æ€è·¯ è£…ä¿®æ¨¡å¼ä¸‹è·å–ä¸Šæ¬¡çš„è£…ä¿®è®°å½• å»ºç«‹å‰åå°iframeä¹‹å‰çš„çš„è”ç³» åå°è£…ä¿®å‘ç”Ÿå˜åŒ–ï¼Œè§¦å‘watchï¼Œwatchè§¦å‘postmessageï¼Œå®¢æˆ·ç«¯å¾—åˆ°ç›¸åº”ï¼Œå®¢æˆ·ç«¯watchè§¦å‘ï¼Œå®æ—¶æ›´æ–°è£…ä¿®æ•°æ® è£…ä¿®å®Œæˆä¿å­˜åˆ°æ•°æ®åº“ å…·ä½“å®ç°æ–¹æ¡ˆä¹‹å‰åœ¨æ˜é‡‘å‘å¸ƒè¿‡ä¸€ç¯‡ï¼ˆå¼€æºï¼‰ä»0æ‰“é€ H5å¯è§†åŒ–æ­å»ºç³»ç»Ÿ - æ˜“åŠ¨ï¼ˆvue+ts+eggï¼‰æ–‡ç« ï¼Œæ˜“åŠ¨æ˜¯æ›´åŠ çµæ´»çš„è£…ä¿®æ–¹æ¡ˆï¼Œæ„Ÿå…´è¶£çš„åŒå­¦å¯ä»¥äº†è§£ä¸€ä¸‹ æŒ‰åŸºç¡€ç»„ä»¶å®šåˆ¶è£…ä¿®æ–¹æ¡ˆï¼ŒåŸºç¡€æ¨¡å—ä¸ºï¼š æŒ‰é’® æ–‡æœ¬ å›¾ç‰‡ è½®æ’­å›¾æ­¤ç±»æ•°æ® ç­‰ç­‰ æœ¬æ¬¡çš„è£…ä¿®æ˜¯åŸºäºä¸šåŠ¡ç»„ä»¶è¿›è¡ŒåŒºåˆ†ï¼Œä»–çš„æ ¸å¿ƒåŸç†å°±æ˜¯é€šè¿‡iframeè¿›è¡Œæ•°æ®äº¤äº’å®ç°å®æ—¶è£…ä¿®åŠŸèƒ½ å®šåˆ¶ç»„ä»¶æ•°æ®ç»“æ„å®¢æˆ·ç«¯æ ¹æ®jsonæ•°æ®è¿›è¡Œç»„ä»¶çš„å±•ç¤ºçš„ï¼Œæ‰€æœ‰é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦å®šä¹‰å¥½å®¢æˆ·ç«¯ä¸åå°é€šç”¨çš„æ•°æ®ç»“æ„ï¼Œç”¨äºå£°æ˜æˆ‘ä»¬çš„è£…ä¿®æ•°æ® ä¾‹å¦‚æˆ‘å®šä¹‰çš„æ•°æ®ç»“æ„ï¼Œä»…ä¾›å‚è€ƒ ç¤ºä¾‹ æœç´¢æ¡† è½®æ’­å›¾ 1234567891011121314151617181920212223242526272829303132333435363738&#123; id: guid(), compName: &#x27;drag-search&#x27;, name: &#x27;æœç´¢æ¡†&#x27;, data: [ &#123; placeholder: &#x27;æƒ³è¦ä»€ä¹ˆå‘¢,å¿«æ¥æœä¸€ä¸‹å§&#x27;, tbHeader: false, // æ˜¯å¦æ˜¾ç¤ºæ·˜å®æ¨è isUpdate: false &#125; ]&#125;, &#123; id: guid(), compName: &#x27;drag-swiper&#x27;, name: &#x27;è½®æ’­å›¾&#x27;, data: [ &#123; interval: 5000, data: [], // æ•°æ® item: &#123; // å•ä¸ªæ•°æ® img: &#x27;https://images.591wsh.com/2021/02/03/thumb_32371580472397824.png&#x27;, isLogin: false, // æ˜¯å¦éœ€è¦ç™»å½•, linkType: 2, // 1 æ— é“¾æ¥ 2 å•†å“ 3 å¤–éƒ¨é“¾æ¥ 4åˆ†ç±» commodity: &#123;&#125;, // å•†å“id dataurl: &#x27;&#x27;, // å¤–éƒ¨é“¾æ¥ categoryid: &#x27;&#x27;, // ç±»ç›®id &#125;, isUpdate: true // å‘Šè¯‰æœåŠ¡å™¨æ˜¯å¦éœ€æ›´æ–°dataé‡Œé¢çš„å•†å“æ•°æ® &#125; ], css: &#123; height: 266, // marginTop: 20 &#125; &#125;, ä¸ºè£…ä¿®ä¸­çš„å®¢æˆ·ç«¯é¡µé¢å¢åŠ ä¸€ä¸ªç»„ä»¶ å¢åŠ ï¼Œä¿®æ”¹ï¼Œåˆ é™¤éƒ½ä¼šèµ°å¦‚ä¸‹é€»è¾‘ï¼Œä¸€å¥è¯è¯´å°±æ˜¯æ•°æ®åå°æ“ä½œæ•°æ®ï¼Œå®¢æˆ·ç«¯å¯ä»¥åšå‡ºå“åº” 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586878889909192// åå°ç‚¹å‡»å³ä¾§è£…ä¿®ç»„ä»¶ï¼Œä¾‹å¦‚ç‚¹å‡» æœç´¢æ¡†// åŒ¹é…åˆ°æœç´¢æ¡†çš„æ–‡å­—åŒ¹é…å®šåˆ¶çš„æ•°æ®ç»“æ„ï¼Œå¾—åˆ°å¦‚ä¸‹ç‚¹å‡»çš„æ•°æ®ç»“æ„&#123; id: guid(), compName: &#x27;drag-search&#x27;, name: &#x27;æœç´¢æ¡†&#x27;, data: [ &#123; placeholder: &#x27;æƒ³è¦ä»€ä¹ˆå‘¢,å¿«æ¥æœä¸€ä¸‹å§&#x27;, tbHeader: false, // æ˜¯å¦æ˜¾ç¤ºæ·˜å®æ¨è isUpdate: false &#125; ]&#125;, // åå°é€šè¿‡ç›‘å¬å­˜å‚¨è£…ä¿®æ•°æ®å˜åŒ–çš„å­—æ®µé€šçŸ¥åˆ°å®¢æˆ·ç«¯ computed: &#123; // ..... // å¯ä½¿ç”¨ç»„ä»¶ pageComponents: &#123; get() &#123; let &#123; pageComponents &#125; = this.$store.state.template if (pageComponents instanceof Array) &#123; // ç»„ä»¶æ•°æ®å‘ç”Ÿå˜åŒ–çš„æ—¶å€™éœ€è¦é€šçŸ¥åˆ°å®¢æˆ·ç«¯ this.iframeMessage(pageComponents) return pageComponents &#125; else &#123; return [] &#125; &#125;, set(data) &#123; // æ›´æ–°ç»„ä»¶é¡ºåº this.$store.commit(&#x27;template/update_current&#x27;, data) &#125; &#125; // ...... &#125;, methods:&#123; // iframeåŠ è½½å®Œæˆçš„å›è°ƒå‡½æ•° iframeLoad() &#123; console.log(&#x27;iframeåŠ è½½å®Œæˆ&#x27;) this.frm = document.getElementById(&#x27;iframe&#x27;) // å‘Šè¯‰å®¢æˆ·ç«¯ï¼Œç›®å‰å¤„äºè£…ä¿®ä¸­ this.frm.contentWindow.postMessage( &#123; isIframe: true &#125;, &#x27;*&#x27; ) &#125;, // é€šçŸ¥å®¢æˆ·ç«¯æ•°æ®å‘ç”Ÿäº†æ›´æ–° iframeMessage(data) &#123; console.log(data) if (this.frm) &#123; this.frm.contentWindow.postMessage( &#123; tempLateData: data &#125;, &#x27;*&#x27; ) &#125; &#125;, &#125; // å®¢æˆ·ç«¯é€šè¿‡postMessageè¿›è¡Œæœ€æ–°çš„è£…ä¿®æ•°æ®æ¥æ”¶window.addEventListener(&#x27;message&#x27;, _fundecoratio)function _fundecoratio(event) &#123; // .... if (event.data.tempLateData) &#123; store.commit(&#x27;app/setTempLateData&#x27;, event.data.tempLateData) &#125; // ....&#125;// å®¢æˆ·ç«¯å¯¹åº”çš„é¡µé¢å†ç›‘å¬å­˜åœ¨åœ¨vuexä¸­çš„è£…ä¿®æ•°æ®computed: &#123; ...mapState(&#123; tempLateData: state =&gt; state.app.tempLateData, // åå°çš„è£…ä¿®æ•°æ® hoverComponent: state =&gt; state.app.hoverComponent, // å½“å‰é¼ æ ‡æµ®åŠ¨çš„å…ƒç´ id clickComponent: state =&gt; state.app.clickComponent, // å½“å‰é¼ æ ‡ç‚¹å‡»é€‰ä¸­çš„æ•°æ® isIframe: state =&gt; state.app.isIframe, // å½“å‰æ˜¯å¦åœ¨è£…ä¿®æ¨¡å¼é‡Œé¢ &#125;),&#125;,// å®¢æˆ·ç«¯æ›¿æ¢ä»æ¥å£è·å–çš„ä¹‹å‰çš„é¡µé¢è£…ä¿®æ•°æ®ï¼Œè£…ä¿®æ•°æ®æ˜¾ç¤ºåœ¨é¡µé¢ä¸Šwatch: &#123; tempLateData() &#123; // ä¸€æ—¦åå°é€šè¿‡postMessageæ›´æ–°è£…ä¿®æ•°æ®ï¼Œå°±å¯ä»¥æ›¿æ¢åŸæœ¬æ¥å£è·å–çš„æ•°æ®ï¼Œå®ç°å®æ—¶è£…ä¿®åŠŸèƒ½ this.indexData = this.tempLateData || [] &#125;,&#125;, ä¿®æ”¹è£…ä¿®çš„ç»„ä»¶æ•°æ®12345678910111213141516// åå°é€‰å–é€‰ä¸­çš„ç»„ä»¶// åå°é’ˆå¯¹æ¯ä¸ªè£…ä¿®ç»„ä»¶éƒ½å»ºç«‹ä¸€ä¸ªvueæ–‡ä»¶è¿›è¡Œjsonå†…æ•°æ®çš„æ”¹å˜â€˜// activeComponent.compName ä¸ºé€‰ä¸­çš„ç»„ä»¶compNameï¼Œä¾‹å¦‚æˆ‘é€‰ä¸­æœç´¢æ¡† è¿™é‡Œå°±æ˜¯`drag-search-data`ç»„ä»¶ï¼Œè¿™é‡Œå¯ä»¥æ˜¯xxx-xxx-dataç»„ä»¶&lt;template&gt; &lt;div class=&quot;template_right&quot;&gt; &lt;component v-if=&quot;activeComponent != false &amp;&amp; activeComponent.compName&quot; :is=&quot;activeComponent.compName + &#x27;-data&#x27;&quot; :compData=&quot;activeComponent&quot; &gt;&lt;/component&gt; &lt;/div&gt;&lt;/template&gt;// ç»„ä»¶å†…éƒ¨ç»‘å®šæœç´¢æ¡†çš„æç¤ºæ–‡å­—ï¼Œæ¯æ¬¡ä¿®æ”¹éƒ½ä¼šè§¦å‘åå°çš„è®¡ç®—å±æ€§Â·pageComponentsÂ·ï¼Œè¿›è€Œåå°é€šè¿‡postMessageé€šçŸ¥åˆ°å®¢æˆ·ç«¯ï¼Œå®¢æˆ·ç«¯è¿›è€Œå­˜å‚¨åˆ°vuexï¼Œvuexå€¼å‘ç”Ÿå˜åŒ–ï¼Œå®¢æˆ·ç«¯é¡µé¢çš„watchèµ·ä½œç”¨ï¼Œé¡µé¢å‘ç”Ÿå˜åŒ–ï¼Œå°±åƒå®ç°ç»„ä»¶æ•°æ®çš„å˜åŒ– ç‚¹å‡»å®¢æˆ·ç«¯ç»„ä»¶ï¼Œé€šçŸ¥åå°å¹¶å®ç°é€‰ä¸­æˆ‘ä»¬çŸ¥é“ï¼Œåœ¨è£…ä¿®é‡Œé¢ç‚¹å‡»å®¢æˆ·ç«¯ï¼Œå°±ç›´æ¥ç‚¹å‡»åˆ°äº†å®¢æˆ·ç«¯ï¼Œæ‰€ä»¥ç‚¹å‡»å®¢æˆ·ç«¯çš„è·³è½¬å‡½æ•°ï¼Œæˆ‘ä»¬å¿…é¡»è¿›è¡Œæ‹¦æˆªï¼Œ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849// å‰æé¡»çŸ¥ å®¢æˆ·ç«¯æ¯ä¸ªè£…ä¿®ç»„ä»¶çš„idéƒ½ä¼šåœ¨å®¢æˆ·ç«¯å†™å…¥åˆ°classä¸­&lt;component :is=&quot;xxxxx&quot;:class=&quot;[`decoration_$&#123;item.id&#125;`,]&quot;&gt;&lt;/component&gt;// è£…ä¿®ç›‘å¬å‡½æ•°ä½“å†…window.addEventListener(&#x27;message&#x27;, _fundecoratio)function _fundecoratio(event) &#123; // .... if (event.data.isIframe) &#123; console.log(&#x27;è£…ä¿®å¼€å‘æ¨¡å¼å¯åŠ¨&#x27;) store.commit(&#x27;app/setIsIframe&#x27;, true) // æ‹¦æˆªè·³è½¬å‡½æ•° uni.navigateTo = () =&gt; &#123;&#125; uni.switchTab = () =&gt; &#123;&#125; // ç›‘å¬ç‚¹å‡»(è£…ä¿®ç”¨äºé€‰ä¸­ç»„ä»¶) window.addEventListener(&#x27;click&#x27;, _decoratioclick, false) &#125; // ....&#125;function _decoratioclick(event) &#123; let path: string = &#x27;&#x27; // æ¯æ¬¡ç‚¹å‡»çš„æ—¶å€™éƒ½è·å–ä¸€ä¸‹åŒ…å«ç»„ä»¶idçš„class event.path.map((res: any) =&gt; &#123; if (res.className &amp;&amp; res.className.includes(&#x27;decoration_&#x27;)) &#123; path = res.className.split(&#x27;decoration_&#x27;)[1] &#125; &#125;) // é€‰ä¸­å®¢æˆ·ç«¯å½“å‰ç»„ä»¶ store.commit(&#x27;app/setClickComponent&#x27;, path) // å‘ŠçŸ¥çˆ¶çº§å½“å‰é€‰ä¸­ç»„ä»¶ window.parent.postMessage( &#123; activePage: path, // å°†å½“å‰ç‚¹å‡»çš„ç»„ä»¶idé€šè¿‡postMessageä¼ é€’åˆ°åå° &#125;, &#x27;*&#x27; )&#125;// è£…ä¿®åå°mounted() &#123; window.addEventListener( &#x27;message&#x27;, e =&gt; &#123; if (e.data.activePage) &#123; // è·å–å®¢æˆ·ç«¯ä¼ é€’è¿‡æ¥çš„å½“å‰ç»„ä»¶id è¿™å°±æ˜¯å®ç°ç‚¹å‡»å®¢æˆ·ç«¯ç»„ä»¶è£…ä¿®åå°å¾—åˆ°æ•°æ® this.$store.commit(&#x27;template/set_activeComponent&#x27;, e.data.activePage) &#125; &#125;, false )&#125;, æ·»åŠ ç»„ä»¶åˆ°é¡µé¢çš„æµç¨‹å›¾ å®¢æˆ·ç«¯ä¸è£…ä¿®åå°ç›¸äº’ä¼ å€¼æ€»ç»“1234567891011121314151617181920212223242526// å®¢æˆ·ç«¯å‘é€window.parent.postMessage( &#123; activePage: path, &#125;, &#x27;*&#x27;)// å®¢æˆ·ç«¯æ¥æ”¶window.addEventListener(&#x27;message&#x27;, ï¼ˆï¼‰=&gt; &#123; // ....&#125;)// è£…ä¿®åå°å‘é€this.frm = document.getElementById(&#x27;iframe&#x27;)this.frm.contentWindow.postMessage( &#123; // ..... &#125;, &#x27;*&#x27;)// è£…ä¿®åå°æ¥æ”¶window.addEventListener(&#x27;message&#x27;,e =&gt; &#123; // ...&#125;) postMessageçš„æ•°æ®éƒ½æ˜¯å®æ—¶ç›‘å¬çš„ï¼Œæ‰€ä»¥ä»»æ„ä¸€è¾¹ä¼ å€¼å¦ä¸€è¾¹éƒ½å¯ä»¥å¿«é€Ÿæ¥æ”¶åˆ°ï¼Œè¿™æ˜¯å®ç°æœ¬æ–¹æ¡ˆçš„æ ¸å¿ƒï¼Œé€šè¿‡postMessageè§£å†³äº†é€šä¿¡ä¸Šçš„æ‰€æœ‰é—®é¢˜ï¼Œä¾‹å¦‚ è£…ä¿®åå°ç‚¹å‡»å¯¹åº”ç»„ä»¶ï¼Œå®¢æˆ·ç«¯å¯ä»¥å¾—åˆ°å½“å‰ç‚¹å‡»çš„ç»„ä»¶çš„id å®¢æˆ·ç«¯ç‚¹å‡»ç»„ä»¶å¯ä»¥å‘ŠçŸ¥åå°ï¼Œå½“å‰ç”¨æˆ·é€‰ä¸­çš„ç»„ä»¶ åŒ…æ‹¬æ²¡å®ç°çš„æ‹–æ‹½æ’åºï¼Œéƒ½æ˜¯å¯ä»¥å®ç°çš„ å¤šé¡µé¢è£…ä¿® åšé¡µé¢è£…ä¿®ä¸€å®šè¦æƒ³æ˜ç™½ä¸€ä»¶äº‹ï¼Œæˆ‘ä»¬ç©çš„ä¸æ˜¯è£…ä¿®ï¼Œåªæ˜¯åœ¨æ“ä½œé¡µé¢æŠ½è±¡çš„æ•°æ®ç»“æ„ æ ¹æ®ä¸Šé¢çš„æƒ³æ³•ï¼Œæˆ‘ä»¬å¯ä»¥æ˜ç™½ï¼Œæ´»åŠ¨é¡µé¢å¾ˆå¤šä»…ä»…æ˜¯æ¢æ¢å•†å“ï¼Œæ¢æ¢é“¾æ¥ï¼Œä¸ä¼šåŠ¨ä¸åŠ¨å°±æ”¹é¡µé¢ é‚£ä¸ªå°±å¯ä»¥æŠ½è±¡æ´»åŠ¨é¡µçš„jsonæ•°æ®ç»“æ„ é‚£ä¹ˆè¿™é‡Œå¯¹åº”çš„å°±æ˜¯å›¾ç‰‡ç»„ä»¶ å›¾ç‰‡ç»„ä»¶ï¼ˆä¼˜æƒ åˆ¸ä¹Ÿæ˜¯å›¾ç‰‡æ ·å¼ï¼‰ å•†å“ç»„ä»¶ å•†å“ç»„ä»¶ åœ¨è£…ä¿®çš„æ—¶å€™æˆ‘ä»¬å®šä¹‰å¥½æ•°æ®ç»“æ„ï¼Œä¾æ¬¡æ·»åŠ è¿™å‡ ä¸ªç»„ä»¶ï¼Œå®¢æˆ·ç«¯æ´»åŠ¨å¢åŠ ä¸€è¡Œwatchä»£ç ï¼Œå°±å¯ä»¥å®Œç¾çš„å®ç°æ´»åŠ¨é¡µçš„è£…ä¿®ï¼Œä»¥åŠæ›´æ–°æ´»åŠ¨å•†å“ æ³¨ï¼šå…¬å¸é¡¹ç›®æ— æ³•é€éœ²ï¼Œå…·ä½“é€»è¾‘éœ€è¦å¤§å®¶è‡ªå·±ç†è§£äº† iframeè£…ä¿®æ–¹æ¡ˆä¼˜åŠ¿ 100%çš„å®Œç¾è¿˜åŸè£…ä¿®æ ·å¼ å¯ä»¥åŠ¨æ€æ›´æ–°è£…ä¿®é‡Œé¢é€‰ä¸­çš„å•†å“çš„æ•°æ®ï¼Œéœ€è¦æ•°æ®ç»“æ„ç»Ÿä¸€åŒ–ï¼Œåç«¯å³å¯æŒ‰è§„å¾‹è§£æè£…ä¿®json å¦‚æœå‡ºç°æ–°ç»„ä»¶ï¼Œä¸éœ€è¦å†™2å¥—æ ·å¼ åå°è£…ä¿®å®šä¹‰å¥½æ•°æ®ç»“æ„ï¼Œå®¢æˆ·ç«¯çº¦å®šé¡¹ç›®ç»“æ„ä¸å˜åŒ–ï¼Œç†è®ºä¸Šæ•´ä¸ªé¡¹ç›®æ‰€æœ‰é¡µé¢éƒ½å¯ä»¥é…ç½®åŒ– iframeè£…ä¿®æ–¹æ¡ˆå¼Šç«¯â€‹ é€šè¿‡iframeå®ç°çš„å‰åå°äº¤äº’è£…ä¿®æ–¹æ¡ˆä¸­ï¼Œä¸ä»…éœ€è¦åŠ¨åå°çš„è£…ä¿®ä»£ç ï¼Œè¿˜éœ€è¦å®¢æˆ·ç«¯è¿›è¡Œâ€œå…¼å®¹å¤„ç†â€ï¼Œå³å®¢æˆ·ç«¯éœ€è¦è¯†åˆ«è£…ä¿®æ¨¡å¼ï¼Œä¸ä¸æ–­æ›´æ–°åå°ä¼ å…¥çš„è£…ä¿®æ•°æ®ï¼Œå­˜åœ¨ä¸€å®šçš„è€¦åˆæ€§ â€‹ è¿™ç§è£…ä¿®æ–¹æ¡ˆçš„å¼Šç«¯å°±æ˜¯ï¼Œå¦‚æœå¸Œæœ›æ“ä½œèµ·æ¥æ›´åŠ ä¾¿æ·å°±éœ€è¦åœ¨å®¢æˆ·ç«¯è¿›è¡ŒåŠŸèƒ½çš„å®ç°ï¼Œå¹¶é€šè¿‡postMessageæäº¤ç»™è£…ä¿®åå° æœ€åå¤§å®¶å¯ä»¥å†çœ‹ä¸€ä¸‹æ¼”ç¤ºè§†é¢‘ è”ç³»æˆ‘æ¬¢è¿å¤§å®¶åŠ å…¥qqç¾¤å¹å¹æ°´,ä¸€èµ·æˆé•¿ æˆ–è€…å…³æ³¨æˆ‘çš„å…¬ä¼—å·ï¼Œä¸å®šæœŸæ›´æ–°å„ç§æ–‡ç« ï¼šå´å‡¯çš„éšç¬”","categories":[{"name":"JavaScript-2021","slug":"JavaScript-2021","permalink":"https://vkcyan.github.io/categories/JavaScript-2021/"}],"tags":[{"name":"JavaScript","slug":"JavaScript","permalink":"https://vkcyan.github.io/tags/JavaScript/"}]},{"title":"ä½¿ç”¨Prettierå®Œæˆä»£ç æäº¤çš„è‡ªåŠ¨æ ¼å¼åŒ–","slug":"è§£å†³æ–¹æ¡ˆ/ä½¿ç”¨gitHookæ¥å®Œæˆä»£ç çš„è‡ªåŠ¨æ ¼å¼åŒ–","date":"2021-05-31T16:00:00.000Z","updated":"2022-12-11T13:51:24.094Z","comments":true,"path":"2021/06/01/è§£å†³æ–¹æ¡ˆ/ä½¿ç”¨gitHookæ¥å®Œæˆä»£ç çš„è‡ªåŠ¨æ ¼å¼åŒ–/","link":"","permalink":"https://vkcyan.github.io/2021/06/01/%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/%E4%BD%BF%E7%94%A8gitHook%E6%9D%A5%E5%AE%8C%E6%88%90%E4%BB%A3%E7%A0%81%E7%9A%84%E8%87%AA%E5%8A%A8%E6%A0%BC%E5%BC%8F%E5%8C%96/","excerpt":"","text":"æœ€ç»ˆæ•ˆæœ æ‰§è¡Œgit commit ä»£ç è‡ªåŠ¨å®Œæˆæˆ‘ä»¬å®šåˆ¶è§„åˆ™çš„æ ¼å¼åŒ–åŠŸèƒ½ï¼Œå¹¶æäº¤åˆ°æœ¬åœ° ä½¿ç”¨çš„npmåŒ…prettierï¼šåŠŸèƒ½ä¾èµ–åŒ… huskyï¼šæä¾›gitHookç›¸å…³åŠŸèƒ½ lint-stagedï¼šè®©å‘½ä»¤åªå¯¹å‘ç”Ÿæ›´æ”¹çš„æ–‡ä»¶ç”Ÿæ•ˆ ä¸ºä»€ä¹ˆåšï¼ˆWhyHowï¼‰â€‹ åœ¨æœªå»ºç«‹è§„èŒƒä¹‹å‰ï¼Œæ¯ä¸ªäººçš„ä»£ç é£æ ¼éƒ½æ˜¯ä¸ä¸€è‡´çš„ï¼Œå¹¶ä¸”å¼€å‘è¿‡ç¨‹ä¸­å¯èƒ½ä¼šå‡ºç°å¿˜è®°æ ¼å¼åŒ–ï¼Œæ‰‹è¯¯çš„é—®é¢˜ï¼Œå¦‚æœåœ¨æäº¤ä¹‹å‰ï¼Œå¯ä»¥è‡ªåŠ¨æŠ¹å¹³å·®å¼‚ç»Ÿä¸€å¤šäººå¼€å‘é£æ ¼ï¼Œè¿™æ—¶å€™ä½œç”¨å°±ä½“ç°å‡ºæ¥äº† â€‹ ä»£ç é£æ ¼æ˜¯æ¯ä¸€ä¸ªç¨‹åºå‘˜éƒ½è¦é¢å¯¹çš„é—®é¢˜ï¼Œä¸è®ºæ˜¯åœ¨ä¸ªäººå¼€å‘è¿˜æ˜¯åœ¨å›¢é˜Ÿåä½œä¸­ï¼Œéƒ½æ˜ç™½è¾ƒå¥½çš„ä»£ç é£æ ¼æ˜¯ä¿è¯æ—¥åå¯ç»´æŠ¤æ€§çš„å…³é”®ï¼Œæ‰€ä»¥è¿ä¸æ‡‚çš„å¼€å‘æˆ–è®¸éƒ½çŸ¥é“ï¼Œè¦æ³¨æ„ä»£ç é£æ ¼ æ€ä¹ˆåšï¼ˆHowï¼‰â€‹ åˆ°äº†æ­£åœ¨çš„æ¨è¿›æ—¶æœŸï¼Œå°±ä¼šé¢å¯¹å¾ˆå¤šéš¾é¢˜ï¼Œæ— æ³•ç¡®å®šä¸€ä¸ªæ‰€æœ‰äººéƒ½æ»¡æ„çš„æ–¹æ¡ˆï¼Œè€Œå°±ç®—æ˜¯å°‘æ•°æœä»å¤šæ•°ï¼Œåœ¨å®é™…å¼€å‘ä¸­è½å®ä¹Ÿä¼šé‡åˆ°ä¸€å¤§å †é—®é¢˜ï¼Œä¾‹å¦‚ï¼Œç¼–è¾‘å™¨çš„ä¸åŒï¼Œæ ¼å¼åŒ–å·¥å…·ä¸åŒï¼Œæˆ–è€…è¯´å®Œå…¨æ²¡è¿™ä¸ªä¹ æƒ¯ï¼Œå¥½ä¸å®¹æ˜“å†³å®šæ¨è¿›äº†ï¼Œæ¯æ¬¡ä»£ç å®¡æ ¸éƒ½éœ€è¦ä¿®æ”¹è¿™ç§ç»†èŠ‚é—®é¢˜ï¼Œä¸€æ¥äºŒå»å°±æç½®äº†ï¼Œå®åœ¨æ˜¯å¤´ç–¼ï¼Œåˆ°åº•è¯¥å¦‚ä½•å°†äº‹æƒ…å®Œç¾çš„è½å®ä¸‹å»å‘¢ï¼Ÿ â€‹ è¿™é‡Œæˆ‘ä»¬å°±éœ€è¦ä¸€ä¸ªæƒå¨çš„è§„èŒƒæ¥å¸®åŠ©æˆ‘ä»¬çº¦æŸæˆä¸ºä¸€ä¸ªé£æ ¼ï¼ŒPrettierè¡¨ç¤ºæˆ‘å…ˆç»™ä¸€ä¸ªè§„èŒƒï¼Œå¤§å®¶å…ˆç”¨èµ·æ¥ï¼Œä¿è¯ä»£ç çš„å¯è¯»æ€§ä¸å¯ç»´æŠ¤æ€§ï¼Œç„¶åå¤§å®¶éƒ½éµå¾ªè¿™å’Œè§„åˆ™ã€‚ â€‹ è€Œprettieræœ¬èº«æ˜¯ä¸€ä¸ªAn opinionated code formatter çš„æ ¼å¼åŒ–å·¥å…·ï¼Œæˆ‘æ˜¯ä¸€ä¸ªè§„çŸ©éå¸¸ä¸¥æ ¼çš„æ¡†æ¶ï¼Œå¹¶ä¸ä¼šç»™ä½ å¾ˆå¤šçš„é…ç½®é¡¹ï¼Œå–œæ¬¢ç”¨å°±ç”¨ï¼Œä¸å–œæ¬¢å°±ä¸ç”¨ï¼Œç»å¤§éƒ¨åˆ†çš„ç¼–è¾‘å™¨é›†æˆäº†prettierï¼Œåœ¨ç¼–è¾‘å™¨çš„çº¦æŸä¸‹ï¼Œå¤§å®¶éƒ½éµå¾ªè¿™ä¸ªæ–¹æ¡ˆå°±å¥½äº† å…·ä½“é…ç½®ï¼ˆWhatï¼‰Vscodeä¸‹è½½æ’ä»¶ prettier é¡¹ç›®æŒ‰ä¸‹ä¾èµ–prettierï¼ŒæŒ‰æ–‡æ¡£å®Œæˆæ­¥éª¤prettierå®˜ç½‘ é…ç½®commité’©å­ â€‹ å®‰è£…å¥½ä¹‹åï¼Œä¼šåœ¨é¡¹ç›®ä¸‹ç”Ÿæˆæ–‡ä»¶.huskyï¼Œå¹¶ä¿®æ”¹ä½ çš„package.jsonï¼Œåˆ°ç›®å‰ä¸ºæ­¢ï¼Œå…¶å®å·²ç»é…ç½®å¥½äº†ï¼Œä»–ä¼šåœ¨ä½ æ¯æ¬¡commitä¹‹å‰æ‰§è¡Œnpx lint-stagedï¼Œè¿™ä¸ªå‘½ä»¤ä¼šæ‰§è¡Œprettier --writeï¼Œå¹¶ä¸”åªå¯¹æœ¬æ¬¡ä¿®æ”¹çš„æ–‡ä»¶ç”Ÿæ•ˆ å…·ä½“å‘½ä»¤ï¼ˆèº²æ‡’ä¸çœ‹æ–‡æ¡£çš„çœ‹è¿™é‡Œ~ï¼‰ å½“å‰çš„prettierç‰ˆæœ¬æ˜¯2.4.1ï¼Œå¦‚æœç‰ˆæœ¬å·ä¸ä¸€è‡´ï¼Œå»ºè®®è¿˜æ˜¯çœ‹å®˜ç½‘ vscodeå®‰è£…prettier é¡¹ç›®å®‰è£…prettier 1npm install --save-dev --save-exact prettier åˆ›å»ºé…ç½®æ–‡ä»¶ 1echo &#123;&#125;&gt; .prettierrc.json åˆ›å»ºè¯´æ˜ä¸éœ€è¦æ ¼å¼åŒ–çš„æ–‡ä»¶ åˆ›å»ºæ–‡ä»¶.prettierignore å†™å…¥å†…å®¹ 123# Ignore artifacts:buildcoverage æ‰§è¡Œå‘½ä»¤npx prettier --write .,æ ¼å¼åŒ–ç°æœ‰ä»£ç ï¼Œæµ‹è¯•åŠŸèƒ½æ˜¯å¦æ­£å¸¸ ç¼–å†™é…ç½®æ–‡ä»¶ 1234567891011// jsonæ–‡ä»¶æ”¹ä¸ºjsæ–‡ä»¶ï¼ˆçœ‹ä¸ªäººä¹ æƒ¯ï¼‰å†™å…¥å†…å®¹module.exports = &#123; singleQuote: true, // å•å¼•å· trailingComma: &#x27;es5&#x27;, // å¯¹è±¡å±æ€§æœ€åæœ‰ &quot;,&quot; semi: false, // æ˜¯å¦éœ€è¦åˆ†å· printWidth: 110, // ä¸€è¡Œæœ€å¤š120 jsxSingleQuote: true, // jsxä½¿ç”¨å•å¼•å· tabWidth: 2, // ä¸€ä¸ªtabä»£è¡¨å‡ ä¸ªç©ºæ ¼æ•°ï¼Œé»˜è®¤å°±æ˜¯2 useTabs: false, // ä¸ä½¿ç”¨ç¼©è¿›ç¬¦ï¼Œè€Œä½¿ç”¨ç©ºæ ¼ jsxBracketSameLine: true,&#125; å†æ¬¡æ‰§è¡Œnpx prettier --write .ï¼Œå¯¹æ ¼å¼åŒ–è§„åˆ™æœ‰å»ºè®®å‚è€ƒæ–‡æ¡£å¯¹é…ç½®è¿›è¡Œä¿®æ”¹ï¼ŒçŸ¥é“è‡ªå·±æ»¡æ„ é…ç½®gitHooké’©å­(å¿…é¡»å…ˆåŠ å…¥gitä»“åº“ï¼Œä¸ç„¶ä¼šæ— æ•ˆæœ) 1npx mrm@2 lint-staged å°†ä»£ç æ ¼å¼æ”¹ä¹±ï¼Œå°è¯•commitä¸€ä¸‹ï¼ŒæŸ¥çœ‹åŠŸèƒ½æ˜¯å¦æ­£å¸¸ï¼ˆæäº¤ä¹‹å‰ä¼šè¢«è‡ªåŠ¨æ ¼å¼åŒ–ï¼‰ ä¸€äº›æ³¨æ„äº‹é¡¹winç”µè„‘.prettierrc.jsonå†™å…¥å¤±è´¥è¿™ä¸ªé—®é¢˜åœ¨åŒäº‹ç”µè„‘ä¸Šå‘ç°çš„ï¼Œä½¿ç”¨vscodeä¸­powershellæ‰§è¡Œecho &#123;&#125;&gt; .prettierrc.json,ä¼šæ— å†™å…¥å†…å®¹ï¼Œåé¢æ‰§è¡Œçš„å‘½ä»¤ä¹Ÿä¼šå¤±è´¥ï¼Œè¿™é‡Œè¯·ä½¿ç”¨ç”µè„‘çš„cmdæ‰“å¼€ç›®æ ‡æ–‡ä»¶å¤¹ï¼Œæ‰§è¡Œè¯¥å‘½ä»¤ï¼Œè¿™æ ·æµ‹è¯•æ˜¯å¯è¡Œçš„ é…ç½®gitHookä¹‹å commitä¸ä¼šè‡ªåŠ¨æ ¼å¼åŒ–vueæ–‡ä»¶è¿™é‡Œéœ€è¦ä¿®æ”¹åœ¨package.jsonä¸­é»˜è®¤å†™å…¥çš„lint-stagedä¸­çš„å‘½ä»¤ è¿™é‡Œæ ¹æ®é¡¹ç›®ä¸­æ˜¯å¦å­˜åœ¨eslintï¼Œä¼šå†™å…¥ä¸å¤ªä¸€è‡´ï¼Œä½†æ˜¯é—®é¢˜ä¸æ‰“ 123&quot;lint-staged&quot;: &#123; &quot;*.js&quot;: &quot;eslint --cache --fix&quot;&#125; ç»Ÿä¸€æ”¹æˆ 123&quot;lint-staged&quot;: &#123; &quot;*.&#123;js,css,md,vue&#125;&quot;: &quot;prettier --write&quot;&#125; è¿™æ ·æ¯æ¬¡commitçš„æ—¶å€™å°±ä¼šè‡ªåŠ¨æ ¼å¼åŒ–ä»£ç äº† ç»“è¯­â€‹ å¦‚æœæŸ¥çœ‹æœ¬æ–‡é‡åˆ°äº†ä¸€äº›é—®é¢˜ï¼Œè¯·åˆ°QQç¾¤ 530496237ï¼Œä¸€èµ·å¹å¹æ°´~","categories":[{"name":"JavaScript-2021","slug":"JavaScript-2021","permalink":"https://vkcyan.github.io/categories/JavaScript-2021/"}],"tags":[{"name":"JavaScript","slug":"JavaScript","permalink":"https://vkcyan.github.io/tags/JavaScript/"}]},{"title":"åŒåŸŸåä¸‹é€šè¿‡ä¸€çº§è·¯ç”±åŒºåˆ†å®ç°â€œå‰ç«¯å¾®æ„æ¶â€","slug":"è§£å†³æ–¹æ¡ˆ/å•åŸŸåä¸‹é€šè¿‡å­è·¯ç”±åŒºåˆ†é¡¹ç›®çš„å®ç°æ–¹æ¡ˆ","date":"2021-05-31T16:00:00.000Z","updated":"2022-12-11T13:51:24.094Z","comments":true,"path":"2021/06/01/è§£å†³æ–¹æ¡ˆ/å•åŸŸåä¸‹é€šè¿‡å­è·¯ç”±åŒºåˆ†é¡¹ç›®çš„å®ç°æ–¹æ¡ˆ/","link":"","permalink":"https://vkcyan.github.io/2021/06/01/%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/%E5%8D%95%E5%9F%9F%E5%90%8D%E4%B8%8B%E9%80%9A%E8%BF%87%E5%AD%90%E8%B7%AF%E7%94%B1%E5%8C%BA%E5%88%86%E9%A1%B9%E7%9B%AE%E7%9A%84%E5%AE%9E%E7%8E%B0%E6%96%B9%E6%A1%88/","excerpt":"","text":"å‰è¨€â€‹ å…¬å¸çš„å®¢æˆ·ç«¯é¡¹ç›®æ¯”è¾ƒåºå¤§ï¼Œå¹¶ä¸”ç”±äºæ”¹åŠ¨ç›¸å¯¹é¢‘ç¹ï¼Œå¯¼è‡´æ›´æ–°é¢‘ç‡è¾ƒé«˜ï¼Œwebé¡¹ç›®é«˜é¢‘ç‡çš„æ›´æ–°å°±ä¼šå¼•å‘ä¸€ç³»åˆ—çš„é—®é¢˜ï¼Œä¾‹å¦‚å…¬ä¼—å·ç¼“å­˜é—®é¢˜ï¼Œå°¤å…¶æ˜¯iosæ‰‹æœºå®¹æ˜“å‡ºç°ç™½å±çš„æƒ…å†µï¼Œè®¿é—®è¿‡ç¨‹ä¸­çš„ç”¨æˆ·å›é€€é¡µé¢ä¼šå‡ºç°ç™½å±çš„æƒ…å†µï¼Œç­‰ç­‰å¾ˆå¤šæœªçŸ¥çš„bugï¼Œè™½ç„¶æ›´æ–°åœ¨ä¸€ç¬é—´å®Œæˆï¼Œä½†æ˜¯è¿˜æ˜¯ä¼šå½±å“åˆ°éƒ¨åˆ†ç”¨æˆ·çš„ä½¿ç”¨ï¼Œé’ˆå¯¹ç°å­˜çš„æ¡ä»¶ä»¥åŠé¡¹ç›®éœ€æ±‚ æ€è€ƒåˆ°å¦‚ä¸‹ä¼˜åŒ–æ–¹æ¡ˆ æ›´æ–°æ—¶é—´ä¸Šå°½é‡é€‰æ‹©ç”¨æˆ·è®¿é—®é‡å°çš„æ—¶é—´æ®µ ç¨‹åºå†…é¢‘ç¹å˜åŒ–çš„å›¾ç‰‡ï¼Œæ–‡å­—çš„é¡µé¢ï¼Œå°½é‡åå°é…ç½®è£…ä¿®åŒ–ï¼Œè¾¾åˆ°å‡å°‘æ›´æ–°çš„æ•ˆæœï¼Œæ­¤å¤„å‚è€ƒä½¿ç”¨iframe+postMessageé€šä¿¡å®ç°å•†åŸå¤šé¡µé¢å¯è§†åŒ–è£…ä¿® é¡¹ç›®èƒ½å¦è¿›è¡Œæ‹†åˆ†ï¼Œæƒé‡ä¸é«˜çš„é¡µé¢ï¼ˆä¾‹å¦‚ï¼šæ´»åŠ¨é¡µé¢ï¼‰ï¼Œä¸ä¸»ç¨‹åºåˆ†ç¦»ï¼Œè¾¾åˆ°å‡å°‘ä¸»ç¨‹åºåŒ…æ›´æ–°é¢‘ç‡ æ€è€ƒä¸åˆ†æ ç¬¬ä¸€æ¡ä¸ç¬¬äºŒæ¡éæœ¬æ–‡é‡ç‚¹ï¼Œåªåšç®€è¦è¯´æ˜ æ›´æ–°æ—¶é—´ä¸»è¦å‚ç…§æˆ‘ä»¬çš„å®¢æˆ·ç«¯ç›‘æ§å¹³å°æä¾›çš„æ£€æµ‹æ•°æ®ï¼Œä¸€èˆ¬é€‰æ‹©ç”¨æˆ·è®¿é—®é‡è¾ƒå°çš„æ—¶å€™è¿›è¡Œæ›´æ–° å¯¹äºé¡¹ç›®ä¸­é¢‘ç¹æ”¹åŠ¨ï¼Œä½†æ˜¯æ•°æ®æ ¼å¼å›ºå®šçš„æ´»åŠ¨é¡µï¼Œæˆ‘ä»¬ä½¿ç”¨è£…ä¿®åŠŸèƒ½ï¼Œè¾¾åˆ°ä¸æ›´æ–°ä»£ç ï¼Œåªæ›´æ–°æ•°æ®çš„æ•ˆæœ â€‹ è€Œé¡¹ç›®æ‹†åˆ†å°±æ˜¯æˆ‘ä»¬æœ¬æ–‡è¦è¯´åˆ°çš„é‡ç‚¹ï¼Œåœ¨è°ƒæŸ¥è¿‡ç¨‹ä¸­ä¹Ÿäº†è§£è¿‡å¾®å‰ç«¯ï¼Œä½†æ˜¯æˆ‘ä»¬çš„å®¢æˆ·ç«¯é¡¹ç›®æ˜¯uniappå®Œæˆçš„ï¼Œè€ƒè™‘åˆ°æŠ€æœ¯éš¾åº¦ä¸æ”¹åŠ¨æˆæœ¬ï¼Œæœ€ç»ˆæ”¾å¼ƒäº†å¾®å‰ç«¯çš„æ–¹æ¡ˆ è¦æ€ä¹ˆåšåˆ°ä¸€ä¸ªè·¯å¾„ä¸‹é¢çš„é¡¹ç›®æ‹†åˆ†å‘¢ï¼Ÿ æ‹†åˆ†çš„é¡¹ç›®éœ€è¦æ»¡è¶³ä¸€ä¸‹2ä¸ªæ¡ä»¶ æ‹†åˆ†çš„é¡¹ç›®å¿…é¡»åœ¨åŒåŸŸåä¸‹ï¼Œä¸å¯å‡ºç°è·¨åŸŸåçš„æƒ…å†µï¼Œä¸ç„¶å°±ä¼šå‡ºç°æ— æ³•å…±äº«localStorageçš„é—®é¢˜ æœ¬æ¬¡æ”¹åŠ¨ä¸èƒ½å½±å“åˆ°çº¿ä¸Šå·²ç»å­˜åœ¨çš„ä¸šåŠ¡ï¼Œä¸èƒ½å‡ºç°ä¸»ç¨‹åºçš„è·¯ç”±å˜åŠ¨ ä¸ºäº†æ»¡è¶³ä»¥ä¸Š2ä¸ªæ¡ä»¶ï¼Œåˆ™ä¸»ç¨‹åºä¸èƒ½è¿›è¡Œä»»ä½•æ”¹åŠ¨ï¼ŒåŒæ—¶éœ€è¦åœ¨å½“å‰åŸŸåä¸‹ï¼Œæƒ³åŠæ³•å†æŒ‡å‘ä¸€ä¸ªé¡¹ç›®ï¼Œåœ¨åŒä¸€ä¸ªåŸŸä¸‹ï¼ŒlocalStorageè¢«å…±äº«ï¼Œè™½ç„¶æ˜¯2ä¸ªé¡¹ç›®ä½†æ˜¯åœ¨åŒä¸€ä¸ªåŸŸä¸‹ æœ€å¼€å§‹ä¸€ç›´åœ¨æ€è€ƒå®¢æˆ·ç«¯å¦‚ä½•ä¿®æ”¹å®ç°ï¼Œä½†æ˜¯ä¸€ç›´æ²¡æƒ³åˆ°å®Œç¾æ–¹æ¡ˆï¼Œåæ¥ï¼Œæˆ‘ä»¬å¦è¾Ÿè¹Šå¾„ï¼Œé€šè¿‡nginxå®ç°é€šè¿‡å­è·¯ç”±è¿›è¡Œé¡¹ç›®åŒºåˆ† nginxè¿›è¡Œä¸€çº§è·¯ç”±åŒºåˆ† é€šè¿‡nginxè¿›è¡Œä¸€çº§è·¯ç”±çš„åˆ¤æ–­å®ç°è®¿é—®ä¸åŒçš„é™æ€èµ„æº ç†æƒ³æƒ…å†µä¸‹æ–¹æ¡ˆæ˜¯å¯è¡Œçš„ï¼Œnginxé…ç½®ä¹Ÿæ¯”è¾ƒç®€å• 12345678910111213server &#123; // ..... server_name xxxx.com // ..... location / &#123; root /xxx/xxx/xxxx/packageA; try_files $uri $uri/ /index.html; &#125; location ~ /activity/ &#123; root /xxx/xxx/xxxx/packageB try_files $uri $uri/ /index.html; &#125;&#125; åªè¦è®¿é—®çš„é¡¹ç›®è·¯ç”± xxxx.com&#x2F;activity&#x2F;xxxxx,å°±ä¼šè®¿é—®åˆ°é¡¹ç›®åŒ…packageBï¼Œå…¶ä»–çš„ä¸€çº§è·¯ç”±éƒ½ä¼šè®¿é—®åˆ°packageA éƒ¨ç½²å› ä¸ºé¡¹ç›®activityBçš„è®¿é—®è·¯ç”±æ˜¯ç¡®å®šçš„ï¼Œæ‰€ä»¥æˆ‘ä»¬åœ¨webpackçš„é…ç½®ä¸­å°±éœ€è¦å¯¹publicPathè¿›è¡Œä¿®æ”¹ 1publicPath: &#x27;/activity/&#x27;, â€‹ ç„¶åæˆ‘ä»¬nginxä¼šå»è®¿é—®é¡¹ç›®åŒ…ä¸‹é¢çš„index.htmlï¼Œè€Œç»è¿‡æˆ‘ä»¬ä¸Šé¢å¯¹publicPathçš„ä¿®æ”¹ï¼Œæ‰“åŒ…ä¹‹åçš„index.htmlé‡Œé¢çš„è·¯å¾„åº”ç”¨å°±å˜æˆäº† 1234567891011121314151617&lt;!DOCTYPE html&gt;&lt;html lang=&quot;&quot;&gt; &lt;head&gt; &lt;meta charset=&quot;utf-8&quot; /&gt; &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot; /&gt; &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width,initial-scale=1&quot; /&gt; &lt;link rel=&quot;icon&quot; href=&quot;/activity/favicon.ico&quot; /&gt; &lt;title&gt;xxxxx&lt;/title&gt; &lt;link href=&quot;/activity/css/app.xxxx.css&quot; rel=&quot;stylesheet&quot; /&gt; &lt;/head&gt; &lt;body&gt; &lt;div id=&quot;app&quot;&gt;&lt;/div&gt; &lt;script src=&quot;/activity/js/chunk-vendors.xxx.js&quot;&gt;&lt;/script&gt; &lt;script src=&quot;/activity/js/app.xxxxx.js&quot;&gt;&lt;/script&gt; &lt;/body&gt;&lt;/html&gt; æ­¤æ—¶æ‰“åŒ…ä¸Šçº¿å°±ä¼šé‡åˆ°èµ„æºè®¿é—®ä¸åˆ°çš„é—®é¢˜ï¼Œå› ä¸ºwebpackç¼–è¯‘å‡ºæ¥çš„ç¨‹åºåŒ…é‡Œé¢æ²¡æœ‰activityè¿™ä¸ªæ–‡ä»¶å¤¹ï¼Œæ‰€ä»¥å¯¹indexPath,outputDirä¹Ÿè¦è¿›è¡Œä¿®æ”¹ æœ€ç»ˆæˆ‘ä»¬çš„vue.config.js 1234567891011module.exports = &#123; publicPath: &#x27;/activity/&#x27;, // èµ„æºè·¯å¾„ outputDir: &#x27;./dist/activity&#x27;, // ç”Ÿäº§ç¯å¢ƒæ„å»ºæ–‡ä»¶çš„ç›®å½• indexPath: &#x27;../index.html&#x27;, // æŒ‡å®šç”Ÿæˆçš„index.htmlçš„è¾“å‡ºè·¯å¾„ configureWebpack: (config) =&gt; &#123; // .. &#125;, chainWebpack: (config) =&gt; &#123; // .. &#125;,&#125; åˆ°æ­¤ä¸ºæ­¢ï¼Œé€šè¿‡ä¸€çº§è·¯ç”±åŒºåˆ†é¡¹ç›®å·²ç»å®Œæˆäº†å…¨éƒ¨é…ç½® ä¼˜ç‚¹ å¯¹é¡¹ç›®è¿›è¡Œæ‹†åˆ†ï¼Œå¯¹äºéæ ¸å¿ƒç¨‹åºçš„é¡µé¢ï¼Œä¾‹å¦‚æ´»åŠ¨é¡µé¢ç­‰ç­‰ï¼Œå³å¯ä¸ä¸»ç¨‹åºè¿›è¡ŒåŒºåˆ†ï¼Œä¸Šçº¿æ´»åŠ¨é¡µé¢ä¸å¹²æ¶‰ä¸»ç¨‹åº é¡¹ç›®åˆ†ç¦»åï¼Œå•ä¸ªé¡¹ç›®çš„é¡µé¢å˜å°‘ï¼Œå•ä¸ªä»£ç åŒ…æ‰“åŒ…é€Ÿåº¦å¾—åˆ°æå‡ï¼Œå¢åŠ é¡¹ç›®å¯ç»´æŠ¤æ€§ ç¼ºç‚¹æ²¡åŠæ³•å…±äº«å…¬å…±é€»è¾‘ä»£ç ï¼Œä¾‹å¦‚æ”¯ä»˜æ¨¡å—ï¼Œç™»å½•æ¨¡å—ï¼Œç­‰ç­‰æ¨¡å—ï¼Œå› ä¸ºè·¨é¡¹ç›®äº†ï¼Œå½“ç„¶è¿™æ˜¯æœ‰è§£å†³åŠæ³•çš„ï¼Œå³å…¬å…±æ¨¡å—æ‰“åŒ…æˆä¸ºnpmåŒ…ï¼Œä½†æ˜¯è¿™å­˜åœ¨ä¸€å®šçš„å·¥ä½œé‡ æœ€åæ¬¢è¿å¤§å®¶åŠ å…¥qqç¾¤å¹å¹æ°´ï¼ˆç¾¤å·ï¼š530496237ï¼‰ä¸€èµ·æˆé•¿","categories":[{"name":"JavaScript-2021","slug":"JavaScript-2021","permalink":"https://vkcyan.github.io/categories/JavaScript-2021/"}],"tags":[{"name":"JavaScript","slug":"JavaScript","permalink":"https://vkcyan.github.io/tags/JavaScript/"}]},{"title":"è½»é‡åŒ–å‰ç«¯æ›´æ–°æ–¹æ¡ˆ","slug":"è§£å†³æ–¹æ¡ˆ/è½»é‡åŒ–å‰ç«¯æ›´æ–°æ–¹æ¡ˆ","date":"2021-05-31T16:00:00.000Z","updated":"2022-12-11T13:51:24.095Z","comments":true,"path":"2021/06/01/è§£å†³æ–¹æ¡ˆ/è½»é‡åŒ–å‰ç«¯æ›´æ–°æ–¹æ¡ˆ/","link":"","permalink":"https://vkcyan.github.io/2021/06/01/%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/%E8%BD%BB%E9%87%8F%E5%8C%96%E5%89%8D%E7%AB%AF%E6%9B%B4%E6%96%B0%E6%96%B9%E6%A1%88/","excerpt":"","text":"å‰è¨€â€‹ ä¸€å¥è¯ä»‹ç»ï¼šå®ƒæ˜¯å¯ä»¥ä¸€è¡Œå‘½ä»¤å°†ä»£ç æ›´æ–°åˆ°æœåŠ¡å™¨çš„è„šæœ¬ â€‹ è½»é‡çº§æ›´æ–°æ–¹æ¡ˆæœ€å¼€å§‹æºäºæ˜é‡‘çš„æ–‡ç« ï¼Œåæ¥æˆ‘ä»¬ä»é›¶å®ç°äº†ä¸€ä¸ªæ›´æ–°è„šæœ¬ï¼Œå¹¶ä¸”å·²åœ¨æ˜¯ç”Ÿäº§ç¯å¢ƒä¸­è¿›è¡Œä½¿ç”¨å¾ˆé•¿æ—¶é—´ï¼Œç®—æ˜¯éå¸¸ç¨³å®šçš„ç‰ˆæœ¬ï¼Œä¸ªäººè®¤ä¸ºè½»é‡åŒ–æ›´æ–°æ–¹æ¡ˆæ˜¯éå¸¸ä½¿ç”¨å°å‹å¼€å‘å›¢é˜Ÿ â€‹ ç°åœ¨æˆ‘ä»¬åˆ‡æ¢åˆ°äº†gitlabçš„CI&#x2F;CDã€‚æ‰€ä»¥è¿™ç§æ–¹æ¡ˆå·²ç»ä¸å†æ˜¯æˆ‘ä»¬çš„ä¸»æµæ–¹æ¡ˆï¼Œä½†æ˜¯ä¸€è·¯ä½¿ç”¨è¿‡æ¥ï¼Œéå¸¸ç¨³å®šçš„è§£å†³äº†æ›´æ–°é—®é¢˜ï¼Œè¿˜æ˜¯éå¸¸ä¸é”™çš„ ä¼˜ç‚¹ï¼š å¿«é€Ÿï¼Œç¨³å®šï¼Œè‡ªåŠ¨å¤‡ä»½æŒ‡å®šæ–‡ä»¶å¤¹ï¼ˆçµæ´»æ€§é«˜ï¼Œä½†æ˜¯éœ€è¦è‡ªå·±å®ç°ï¼‰ ç¼ºç‚¹ï¼šéœ€è¦æ‰‹åŠ¨å›æ»šï¼ˆè‡ªåŠ¨å›æ»šéœ€è¦ç¼–ç ï¼‰ï¼Œç›¸å¯¹æ¥è¯´æ²¡é‚£ä¹ˆè§„èŒƒï¼Œæ²¡æœ‰ç•™ä¸‹è®°å½•ï¼Œæ•æ„Ÿæ•°æ®å­˜å‚¨åœ¨ç”µè„‘ä¸­ï¼Œé…ç½®æ–‡ä»¶å¯ä»¥gitå¿½ç•¥ æ ¸å¿ƒæµç¨‹ ç¡®è®¤å¹¶æ‰“åŒ…é¡¹ç›® é€šè¿‡node-sshè¿æ¥çº¿ä¸ŠæœåŠ¡å™¨ å°†æ‰“åŒ…ä»£ç æŒ‡å®šåç§°è¿›è¡Œå‹ç¼© å¤‡ä»½ä¹‹å‰çš„ä»£ç ï¼Œåˆ é™¤ä»¥å‰çš„ä»£ç åŒ…ï¼Œå¹¶è§£å‹å‹ç¼©åŒ… åˆ é™¤æœ¬æ¬¡æ‰“åŒ…ä»£ç ï¼Œæ–­å¼€sshé“¾æ¥ å¦‚ä½•ä½¿ç”¨ä»£ç åœ°å€ å°†ä»“åº“æ–‡ä»¶æ”¾å…¥é¡¹ç›® å®‰è£…ä¾èµ– 1npm install node-ssh inquirer archiver -D ä¿®æ”¹upload.config.jså†…å®¹ å¢åŠ è„šæœ¬å‘½ä»¤ 1&quot;upload&quot;: &quot;node build/upload.js&quot; è¿è¡Œå‘½åï¼ŒéªŒè¯æ˜¯å¦åŠŸèƒ½æ­£å¸¸ æ ¸å¿ƒä»£ç build/upload.js 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214const fs = require(&#x27;fs&#x27;)const path = require(&#x27;path&#x27;)const &#123; NodeSSH &#125; = require(&#x27;node-ssh&#x27;)const archiver = require(&#x27;archiver&#x27;)const inquirer = require(&#x27;inquirer&#x27;)const exec = require(&#x27;child_process&#x27;).execconst ssh = new NodeSSH()const uploadFun = require(&#x27;../upload.js&#x27;)/** * è·å–å½“å‰å¹³å° */let objName = process.argv[2] // æ›´æ–°åå­—let startTime = null // ç¨‹åºå¼€å§‹æ›´æ–°çš„æ—¶é—´// è·å–ä¸Šä¼ æœåŠ¡å™¨é…ç½®let config = uploadFun(objName)const verifyList = [ &#123; type: &#x27;input&#x27;, message: &#x27;æ‚¨æ­£åœ¨æ›´æ–°åˆ°çº¿ä¸Šç¯å¢ƒ,è¯·ç¡®è®¤æ¥å£åŸŸå&#x27;, name: &#x27;objName&#x27;, &#125;,]inquirer.prompt(verifyList).then(() =&gt; &#123; uploadBuild()&#125;)function uploadBuild() &#123; startTime = new Date() console.log(`$&#123;objName&#125;å¼€å§‹æ›´æ–°`) let buildcmd = exec(config.buildScript, (error, stdout, stderr) =&gt; &#123; if (!error) &#123; console.log(&#x27;æ‰“åŒ…å®Œæˆ&#x27;, stdout) app() &#125; else &#123; console.error(&#x27;æ‰“åŒ…å‡ºç°é”™è¯¯&#x27;, stderr) process.exit(0) &#125; &#125;) buildcmd.stdout.on(&#x27;data&#x27;, (data) =&gt; &#123; console.log(data.toString()) &#125;)&#125;/** * é€šè¿‡sshé“¾æ¥æœåŠ¡å™¨ */function app() &#123; ssh .connect(&#123; host: config.host, username: config.username, password: config.password, &#125;) .then((res) =&gt; &#123; // ä¸Šä¼ ä»£ç å‹ç¼©åŒ… uploadData() &#125;) .catch((err) =&gt; &#123; console.log(err) &#125;)&#125;/** * ä¸Šä¼ ä»£ç  å‹ç¼©ç°æœ‰ä»£ç  */function uploadData() &#123; // åˆ›å»ºæ–‡ä»¶è¾“å‡ºæµ let output = fs.createWriteStream(`$&#123;path.join(__dirname, &#x27;../&#x27;)&#125;$&#123;config.buildPath&#125;/$&#123;config.objname&#125;.zip`) // è®¾ç½®å‹ç¼©çº§åˆ« let archive = archiver(&#x27;zip&#x27;, &#123; zlib: &#123; level: 8, &#125;, &#125;) // å­˜æ¡£è­¦å‘Š archive.on(&#x27;warning&#x27;, function(err) &#123; if (err.code === &#x27;ENOENT&#x27;) &#123; console.warn(&#x27;statæ•…éšœå’Œå…¶ä»–éé˜»å¡é”™è¯¯&#x27;) &#125; else &#123; throw err &#125; &#125;) // å­˜æ¡£å‡ºé”™ archive.on(&#x27;error&#x27;, function(err) &#123; throw err &#125;) // é€šè¿‡ç®¡é“æ–¹æ³•å°†è¾“å‡ºæµå­˜æ¡£åˆ°æ–‡ä»¶ archive.pipe(output) archive.directory(`$&#123;path.join(__dirname, &#x27;../&#x27;)&#125;$&#123;config.buildPath&#125;/$&#123;config.buildobj&#125;`, &#x27;/&#x27;) archive.finalize() // æ–‡ä»¶è¾“å‡ºæµç»“æŸ output.on(&#x27;close&#x27;, function() &#123; console.log(`æ€»å…± $&#123;(archive.pointer() / 1024 / 1024).toFixed(2)&#125; MB,å®Œæˆæºä»£ç å‹ç¼©`) ssh .putFile( `$&#123;path.join(__dirname, &#x27;../&#x27;)&#125;$&#123;config.buildPath&#125;/$&#123;config.objname&#125;.zip`, `$&#123;config.uploadDir&#125;/$&#123;config.objname&#125;.zip` ) .then(() =&gt; &#123; console.log(&#x27;ç¨‹åºzipä¸Šä¼ æˆåŠŸ,åˆ¤æ–­çº¿ä¸Šæ˜¯å¦éœ€è¦å¤‡ä»½&#x27;) runcmd() &#125;) .catch((err) =&gt; &#123; console.log(err) &#125;) &#125;)&#125;/** * æ‰§è¡Œsshå‘½ä»¤ åˆ¤æ–­å½“å‰æ˜¯å¦å­˜åœ¨å¤‡ä»½ */function runcmd() &#123; ssh .execCommand(&#x27;ls&#x27;, &#123; cwd: config.uploadDir, &#125;) .then((res) =&gt; &#123; if (res.stdout) &#123; let fileList = res.stdout.split(&#x27;\\n&#x27;) if (config.objname == config.backObject) &#123; if (fileList.includes(config.objname)) &#123; console.log(&#x27;å½“å‰æ›´æ–°ä¸ºçº¿ä¸Šæ­£å¸¸ç¯å¢ƒ,å¼€å§‹è¿›è¡Œå¤‡ä»½&#x27;) backupData() &#125; else &#123; console.log(&#x27;å½“å‰æ›´æ–°ä¸ºçº¿ä¸Šæ­£å¸¸ç¯å¢ƒ,å¹¶ä¸”æ˜¯ç¬¬ä¸€æ¬¡,å°†è·³è¿‡å¤‡ä»½&#x27;) cmdunzip() &#125; &#125; else &#123; console.log(&#x27;å½“å‰ä¸ºæµ‹è¯•ç¯å¢ƒ,æ— éœ€å¤‡ä»½,ç›´æ¥è§£å‹ä¸Šä¼ å‹ç¼©åŒ…&#x27;) cmdunzip() &#125; &#125; else if (res.stderr) &#123; console.log(&#x27;æŸ¥è¯¢æŒ‡å®šç›®å½•å¤±è´¥&#x27;) &#125; else &#123; console.log(&#x27;sshé“¾æ¥å‘ç”Ÿäº†é”™è¯¯&#x27;) &#125; &#125;)&#125;/** * å¤‡ä»½é¡¹ç›® */function backupData() &#123; ssh .execCommand(`mv $&#123;config.objname&#125; backup/$&#123;config.objname&#125;_backup$&#123;new Date().getTime()&#125;`, &#123; cwd: config.uploadDir, &#125;) .then((res) =&gt; &#123; if (res.stderr) &#123; console.log(&#x27;å¤‡ä»½å‘ç”Ÿé”™è¯¯&#x27;, res.stderr) &#125; else &#123; console.log(&#x27;å®Œæˆå¤‡ä»½,è§£å‹æœ€æ–°ä»£ç &#x27;) cmdunzip() &#125; &#125;) .catch((err) =&gt; &#123; console.log(&#x27;å¤‡ä»½å‘ç”ŸæœªçŸ¥é“¾æ¥é”™è¯¯&#x27;, err) &#125;)&#125;/** * è§£å‹æœ€æ–°ä»£ç zip */function cmdunzip() &#123; // è§£å‹ç¨‹åº ssh .execCommand( `rm -rf $&#123;config.objname&#125; &amp;&amp; unzip -o -d $&#123;config.uploadDir&#125;/$&#123;config.objname&#125; $&#123;config.objname&#125;.zip &amp;&amp; rm -f $&#123;config.objname&#125;.zip`, &#123; cwd: config.uploadDir, &#125; ) .then(() =&gt; &#123; console.log(`é¡¹ç›®åŒ…å®Œæˆè§£å‹,$&#123;config.objname&#125;é¡¹ç›®éƒ¨ç½²æˆåŠŸäº†!`) console.log(`é¡¹ç›®æ›´æ–°æ—¶é•¿$&#123;(new Date().getTime() - startTime.getTime()) / 1000&#125;s`) return deletelocalFile().then(() =&gt; &#123; console.log(&#x27;æœ¬åœ°ç¼“å­˜zipæ¸…é™¤å®Œæ¯•&#x27;) &#125;) &#125;) .then(() =&gt; &#123; ssh .execCommand(`rm -rf $&#123;config.objname&#125;/static/.DS_Store`, &#123; cwd: config.uploadDir, &#125;) .then(() =&gt; &#123; console.log(&#x27;çº¿ä¸Šé¡¹ç›®.DS_Storeåˆ é™¤å®Œæˆ&#x27;) ssh.dispose() process.exit(0) &#125;) .catch((err) =&gt; &#123; console.log(err) &#125;) &#125;) .catch((err) =&gt; &#123; console.log(&#x27;è§£å‹å‡ºç°é”™è¯¯&#x27;, err) &#125;)&#125;/** *åˆ é™¤æœ¬åœ°ç”Ÿæˆçš„å‹ç¼©åŒ… */function deletelocalFile() &#123; return new Promise((resolve, reject) =&gt; &#123; fs.unlink(`$&#123;path.join(__dirname, &#x27;../&#x27;)&#125;$&#123;config.buildPath&#125;/$&#123;config.objname&#125;.zip`, (err) =&gt; &#123; if (err) &#123; reject(err) throw err &#125; else &#123; resolve() &#125; &#125;) &#125;)&#125; é…ç½®æ–‡ä»¶upload.config.js 123456789101112131415161718192021222324// æ‰“åŒ…æ ¸å¿ƒé…ç½®æ–‡ä»¶let Available = [&#x27;dist-a&#x27;, &#x27;dist-b&#x27;] // dist-a ç¯å¢ƒaä»£ç åŒ… dist-b ç¯å¢ƒbä»£ç åŒ… npm run upload dist-a/** * è·å–æ›´æ–°é…ç½® * @param &#123;String&#125; objName å½“å‰æ›´æ–°åç§° * @returns */module.exports = (objName) =&gt; &#123; if (!Available.includes(objName)) &#123; console.log(&#x27;å½“å‰é¡¹ç›®ä¸å­˜åœ¨æ‚¨è¾“å…¥çš„æ›´æ–°å‘½ä»¤,è¯·æ£€æŸ¥æ›´æ–°åç§°&#x27;) process.exit(0) &#125; return &#123; host: &#x27;xx.xx.xx.xx&#x27;, // æœåŠ¡å™¨åœ°å€ username: &#x27;root&#x27;, password: &#x27;xxxxxxxxxx&#x27;, buildPath: &#x27;&#x27;, // æœ¬åœ°æ‰“åŒ…é¡¹ç›®åœ°å€(å¤šå±‚è·¯å¾„ç”¨è¿™ä¸ª) buildobj: &#x27;dist&#x27;, // æœ¬åœ°æ‰“åŒ…æ–‡ä»¶åç§° uploadDir: &#x27;/xx/xx/xx&#x27;, // æœåŠ¡ç«¯é¡¹ç›®åœ°å€ objname: objName, // æ‰“åŒ…é¡¹ç›®åç§° backObject: &#x27;objName&#x27;, // å¤‡ä»½çš„æ–‡ä»¶å¤¹åç§° buildScript: &#x27;npm run build&#x27; // æ›´æ–°å‘½ä»¤ &#125;&#125; è§¦å‘å‘½ä»¤æœ€ååœ¨package.jsonå¢åŠ ä¸€è¡Œå‘½ä»¤ï¼Œè¿è¡Œå‰é¢çš„è„šæœ¬æ–‡ä»¶ 1234&quot;scripts&quot;: &#123; // ...... &quot;upload&quot;: &quot;node build/upload.js&quot; &#125;, ä¾èµ–ç‰ˆæœ¬â€‹ å› ä¸ºæ›´æ–°è„šæœ¬æ˜¯åœ¨é¡¹ç›®é‡Œé¢çš„ï¼Œæ‰€ä»¥éœ€è¦é¢å¤–å®‰è£…ä¾èµ– æ¨èç‰ˆæœ¬å· 123&quot;node-ssh&quot;: &quot;^12.0.0&quot;,&quot;inquirer&quot;: &quot;^7.3.3&quot;,&quot;archiver&quot;: &quot;^3.1.1&quot;, å®é™…ä½¿ç”¨1npm run upload xxxx // çº¿ä¸Šä»£ç æ–‡ä»¶å¤¹åç§° upload å‘½ä»¤åé¢çš„å­—ç¬¦ä¸²å°±æ˜¯æœåŠ¡å™¨ä¸Šçš„æ–‡ä»¶å¤¹åç§°ï¼Œè¿™é‡Œä¸ºäº†é˜²æ­¢æ›´æ–°å‘½åæ•²é”™äº†ï¼Œéœ€è¦é¦–å…ˆåœ¨upload.config.jsä¸­è¿›è¡Œæ›´æ–°ç™½åå•å£°æ˜ï¼Œå¦‚æœé…ç½®éƒ½æ­£ç¡®çš„æƒ…å†µä¸‹ï¼Œä½ å°±å¯ä»¥çœ‹åˆ°ï¼Œè¿™å°±ä»£è¡¨æˆåŠŸäº†~ æœ€åâ€‹ è„šæœ¬æ–‡ä»¶è¿˜å­˜åœ¨å¾ˆé«˜çš„ä¸Šé™ï¼Œå¯ä»¥ä¼˜åŒ–ä¸€ä¸‹å¤‡ä»½éƒ¨åˆ†çš„å¤‡ä»½ä»£ç ç”Ÿæˆè§„åˆ™ï¼Œå†å¢åŠ ä¸€ä¸ªå›æ»šä»£ç çš„è„šæœ¬ï¼Œå°±å¯ä»¥å®ç°çº¿ä¸Šçš„æ— æ„ŸçŸ¥å›æ»šäº† â€‹ å¦‚æœä½¿ç”¨ä¸­é‡åˆ°äº†ä»€ä¹ˆé—®é¢˜ï¼Œè¯·åˆ°QQç¾¤ 530496237ï¼Œä¸€èµ·å¹å¹æ°´","categories":[{"name":"JavaScript-2021","slug":"JavaScript-2021","permalink":"https://vkcyan.github.io/categories/JavaScript-2021/"}],"tags":[{"name":"JavaScript","slug":"JavaScript","permalink":"https://vkcyan.github.io/tags/JavaScript/"}]},{"title":"ä¸€äº›ç®—æ³•é¢˜","slug":"ç®—æ³•ä¸æ•°æ®ç»“æ„/ä¸€äº›é¢˜ç›®","date":"2021-03-21T16:00:00.000Z","updated":"2022-12-11T13:51:24.091Z","comments":true,"path":"2021/03/22/ç®—æ³•ä¸æ•°æ®ç»“æ„/ä¸€äº›é¢˜ç›®/","link":"","permalink":"https://vkcyan.github.io/2021/03/22/%E7%AE%97%E6%B3%95%E4%B8%8E%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E4%B8%80%E4%BA%9B%E9%A2%98%E7%9B%AE/","excerpt":"","text":"é¢˜ç›® ä¸¤ä¸ªæ•°ç»„çš„äº¤é›†æ€è·¯ï¼š åœ¨ä¸€ä¸ªwhileå¾ªç¯ä¸­ä¸æ–­å¯»æ‰¾ä¸¤ä¸ªé“¾è¡¨çš„æœ€å°å€¼ï¼Œå°†å…¶åŠ å…¥ç»“æœé“¾è¡¨ï¼ŒåŒæ—¶è¯¥æ•°æ®æŒ‡é’ˆå‘åä¸€ä½ï¼Œç»“æœé“¾è¡¨ä¹Ÿè®¸è¦å‘åä¸€ä½ï¼Œå‡å¦‚whileå¾ªç¯å®Œæˆè¿˜å­˜åœ¨æŸä¸€ä¸ªæœªå¤„ç†çš„é“¾è¡¨æ•°æ®ï¼Œç›´æ¥åŠ å…¥åˆ°ç»“æœé“¾è¡¨ https://leetcode-cn.com/problems/merge-two-sorted-lists/ æ—¶é—´å¤æ‚åº¦ï¼šO(n) ç©ºé—´å¤æ‚åº¦ï¼šO(1) 123456789101112131415161718192021222324252627282930/** * @param &#123;ListNode&#125; list1 * @param &#123;ListNode&#125; list2 * @return &#123;ListNode&#125; */var mergeTwoLists = function (list1, list2) &#123; let res = new ListNode(0) // ç»“æœ let p0 = res; let p1 = list1 // æŒ‡é’ˆ let p2 = list2 // æŒ‡é’ˆ while (p1 &amp;&amp; p2) &#123; // æ‰¾åˆ°å°çš„å€¼,å°†å…¶è¢«æŒ‡å‘p0,åŒæ—¶æ¦‚å¿µè¡¨åç§»ä¸€ä½ if (p1.val &lt; p2.val) &#123; p0.next = p1 p1 = p1.next &#125; else &#123; p0.next = p2 p2 = p2.next &#125; // æ¯æ¬¡p0éƒ½ä¼šå¢åŠ æŒ‡å‘,,æ‰€ä»¥éœ€è¦æ¯æ¬¡éƒ½æ‰‹åŠ¨æŒ‡å‘æœ€åä¸€ä½ p0 = p0.next &#125; // p1æˆ–è€…p2å…¶ä¸­ä¸€ä¸ªè¿˜å­˜åœ¨å€¼,åˆ™å…¨éƒ¨æ¶ˆåŒ–æ‰ if (p1) &#123; p0.next = p1 &#125; else if (p2) &#123; p0.next = p2 &#125; return res.next&#125;;","categories":[{"name":"æ•°æ®ç»“æ„ä¸ç®—æ³•","slug":"æ•°æ®ç»“æ„ä¸ç®—æ³•","permalink":"https://vkcyan.github.io/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/"}],"tags":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://vkcyan.github.io/tags/%E7%AE%97%E6%B3%95/"}]},{"title":"äºŒå‰æ ‘","slug":"ç®—æ³•ä¸æ•°æ®ç»“æ„/äºŒå‰æ ‘","date":"2021-03-21T16:00:00.000Z","updated":"2022-12-11T13:51:24.091Z","comments":true,"path":"2021/03/22/ç®—æ³•ä¸æ•°æ®ç»“æ„/äºŒå‰æ ‘/","link":"","permalink":"https://vkcyan.github.io/2021/03/22/%E7%AE%97%E6%B3%95%E4%B8%8E%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E4%BA%8C%E5%8F%89%E6%A0%91/","excerpt":"","text":"ä¸€ç§åˆ†å±‚æ•°æ®çš„æŠ½è±¡æ¨¡å‹ï¼Œä¾‹å¦‚domï¼Œèœå•ï¼Œæ ‘å½¢æ§ä»¶ï¼Œå¤šå±‚è”åŠ¨é€‰æ‹©å™¨ JavaScriptä¸­æ²¡æœ‰æ ‘ï¼Œä½†æ˜¯å¯ä»¥ç”¨Objectå’ŒArrayæ„å»ºæ ‘ å¸¸è§æ“ä½œ æ·±åº¦&#x2F;å¹¿åº¦æœ‰é™éå†ï¼Œå…ˆä¸­ååºéå† äºŒå‰æ ‘: æ ‘ä¸­çš„æ¯ä¸ªèŠ‚ç‚¹æœ€å¤šåªèƒ½ä¸¤ä¸ªå­èŠ‚ç‚¹ï¼Œåœ¨JavaScript ä¸­ä½¿ç”¨Objectè¿›è¡Œæ¨¡æ‹Ÿ æ·±åº¦ä¼˜å…ˆéå†å«ä¹‰ï¼š å°½å¯èƒ½æ·±çš„æœç´¢æ ‘çš„åˆ†æ”¯ 12345// æ·±åº¦ä¼˜å…ˆéå†function inter1(tree) &#123; console.log(tree.value); tree.child.map(e =&gt; inter(e)) // é€’å½’è°ƒç”¨&#125; å¹¿åº¦ä¼˜å…ˆéå†å«ä¹‰ï¼š å…ˆè®¿é—®ç¦»æ ¹èŠ‚ç‚¹æœ€è¿‘çš„èŠ‚ç‚¹ 12345678910111213// å¹¿åº¦ä¼˜å…ˆéå†function inter2(tree) &#123; const q = [tree] // ä½¿ç”¨é˜Ÿåˆ—å­˜å‚¨å¹¿åº¦æ•°æ® while (q.length &gt; 0) &#123; let c = q.shift() // æ¯æ¬¡å–é˜Ÿåˆ—æœ€åä¸€ä¸ª console.log(c.value); c.child.forEach(e =&gt; &#123; q.push(e) // å†æ¬¡å°†ä¸‹ä¸€å±‚æ•°æ®åŠ å…¥é˜Ÿåˆ— &#125;) &#125;&#125;inter2(tree) å…ˆåºéå†äºŒå‰æ ‘å®šä¹‰ï¼šå…ˆæ ¹èŠ‚ç‚¹ï¼Œåå·¦å­æ ‘ï¼Œå†å³å­æ ‘ 123456789// å…ˆåºéå†function preorder(root) &#123; if (!root) &#123; return &#125; console.log(root.key); // é¦–å…ˆè®¿é—® preorder(root.left) preorder(root.right)&#125; ä¸­åºéå†äºŒå‰æ ‘å®šä¹‰ï¼šå…ˆå·¦å­æ ‘ï¼Œåæ ¹èŠ‚ç‚¹ï¼Œå†å³å­æ ‘ 123456789// ä¸­åºéå†function inorder(root) &#123; if (!root) &#123; return &#125; inorder(root.left) console.log(root.key); inorder(root.right)&#125; ååºéå†äºŒå‰æ ‘å®šä¹‰ï¼šå…ˆå·¦å­æ ‘ï¼Œåå³å­æ ‘ï¼Œå†æ ¹èŠ‚ç‚¹ 123456789// ååºéå†function postorder(root) &#123; if (!root) &#123; return &#125; postorder(root.left) postorder(root.right) console.log(root.key);&#125; å…ˆåºéå†äºŒå‰æ ‘ï¼ˆéé€’å½’ï¼‰1234567891011121314// å…ˆåºéå†function preorder(root) &#123; if (!root) return const task = [root] while (task.length) &#123; const n = task.pop() console.log(n.key); if (n.right) task.push(n.right) if (n.left) task.push(n.left) // popæ‹¿æœ€åé¢çš„,æ•°ç»„éœ€è¦ä¿è¯åè¿›å…ˆå‡º,æ‰€ä»¥leftæ”¾åé¢,è¿™æ ·æ¯æ¬¡å¾ªç¯éƒ½ä¼šä¼˜å…ˆä½¿ç”¨left,ç›´åˆ°leftç”¨å®Œ,å°±ä¼šç”¨right,å½“å‰å±‚çº§å…¨éƒ¨ç”¨å®Œå°±ä¼šåˆ°æ›´åŠ æ·±å¤„æˆ–è€…å³è¾¹çš„äºŒå‰æ ‘ &#125;&#125;preorder(bt) ä¸­åºéå†äºŒå‰æ ‘ï¼ˆéé€’å½’ï¼‰123456789101112131415161718192021function inorder(root) &#123; if (!root) return const task = [] let p = root while (task.length || p) &#123; while (p) &#123; task.push(p) p = p.left &#125; const n = task.pop() console.log(n.key); p = n.right &#125;&#125;inorder(bt)// é¦–å…ˆæ‰¾åˆ°æœ€å³è¾¹çš„å…¨éƒ¨èŠ‚ç‚¹,åœ¨ä»æœ€å·¦è¾¹å¼€å§‹é€’å½’// åœ¨æ¯æ¬¡å°†å³èŠ‚ç‚¹æ”¾å…¥ä¸‹ä¸€æ¬¡å¾ªç¯,å› ä¸ºå½“å‰ä¸€å®šæ˜¯ä¸­èŠ‚ç‚¹// å³èŠ‚ç‚¹å®Œæˆåæ‰¾ä¸Šçš„ä¸­èŠ‚ç‚¹,ä¸­èŠ‚ç‚¹å®Œæˆåæ‰¾ä¸‹å³èŠ‚ç‚¹,å®ŒæˆäºŒå‰æ ‘çš„ä»å·¦åˆ°å³çš„è¦†ç›–// taskå­˜å‚¨æ‰€æœ‰å·¦èŠ‚ç‚¹,å½“å‰é˜¶æ®µå­˜åœ¨å³èŠ‚ç‚¹çš„æƒ…å†µä¸‹,æ•°ç»„æœ€åä¸€ä½æ˜¯å³èŠ‚ç‚¹,ä¸‹æ¬¡ä¸€å®šä¼šè¢«æŠ›å‡º// på­˜å‚¨ä¸‹ä¸€ä¸ªå³èŠ‚ç‚¹,å¼€å§‹ä¸‹çº§æ ‘çš„æŸ¥è¯¢ ååºéå†äºŒå‰æ ‘ï¼ˆéé€’å½’ï¼‰12345678910111213141516171819// ååºéå†(éé€’å½’)function postorder(root) &#123; if (!root) return const task = [root] const outputTask = [] while (task.length) &#123; const n = task.pop() outputTask.push(n.key) if (n.left) task.push(n.left) if (n.right) task.push(n.right) &#125; while (outputTask.length) &#123; let n = outputTask.pop() console.log(n); &#125;&#125;// ååºçš„é¡ºåºæ˜¯ å…ˆå³ å†å·¦ å†ä¸­ é¦–å…ˆå€’å™å…ˆåºéå†,è·å–å…ˆä¸­ å†å·¦ å†å³// æœ€åå€’åºè¾“å‡ºpostorder(bt) é¢˜ç›® äºŒå‰æ ‘çš„æœ€å¤§æ·±åº¦https://www.youtube.com/watch?v=H8SjbVxGB1c&amp;list=PLwIrqQCQ5pQmjH6YyFvH2A9FYL6bBB4Ra æ—¶é—´å¤æ‚åº¦ï¼šO(n) ç©ºé—´å¤æ‚åº¦ï¼šO(n) æ€è·¯ï¼šä½¿ç”¨æ·±åº¦ä¼˜å…ˆéå†ï¼ˆå…ˆåºï¼‰,è®°å½•æœ€å¤§é€’å½’æ•°é‡ï¼Œæœ€åè¿”å› 12345678910111213141516171819202122/** * @param &#123;TreeNode&#125; root * @return &#123;number&#125; */var maxDepth = function (root) &#123; let res = 0 /** * * @param &#123;*&#125; n æ ‘ * @param &#123;*&#125; l å±‚çº§ */ const dfs = (n, l) =&gt; &#123; if (!n) return if (!n.left &amp;&amp; !n.right) &#123; res = Math.max(res, l) &#125; dfs(n.left, l + 1) dfs(n.right, l + 1) &#125; dfs(root, 1) return res&#125;; é¢˜ç›® äºŒå‰æ ‘çš„æœ€å°æ·±åº¦æ—¶é—´å¤æ‚åº¦ï¼šO(n) ç©ºé—´å¤æ‚åº¦ï¼šO(n) æ€è·¯ï¼šå¹¿åº¦éå†ï¼ŒåŒæ—¶è®°å½•å½“å‰å±‚çº§ï¼Œå½“é‡åˆ°æ²¡æœ‰å¶å­èŠ‚ç‚¹ï¼Œåˆ™è¯´æ˜æ‰¾åˆ°æœ€å°æ·±åº¦ï¼Œæœ€åè¿”å› 12345678910111213141516171819/** * @param &#123;TreeNode&#125; root * @return &#123;number&#125; */var minDepth = function (root) &#123; if (!root) return 0; let task = [ [root, 1] ] while (task.length) &#123; let [n, l] = task.shift() if (!n.left &amp;&amp; !n.right) &#123; return l &#125; if (n.right) task.push([n.right, l + 1]) if (n.left) task.push([n.left, l + 1]) &#125;&#125;; é¢˜ç›® äºŒå‰æ ‘çš„å±‚åºéå†ï¼ˆå¹¿åº¦éå†è§£æ³•ï¼‰https://leetcode-cn.com/problems/binary-tree-level-order-traversal/submissions/ æ—¶é—´å¤æ‚åº¦ï¼šO(n) ç©ºé—´å¤æ‚åº¦ï¼šO(n) æ€è·¯ï¼šå¹¿åº¦éå†äºŒå‰æ ‘ï¼ŒåŒæ—¶è®°å½•å½“å‰å±‚çº§ï¼Œä»¥å±‚çº§ä¸ºæ•°ç»„ä¸‹æ ‡ï¼Œå®Œæˆå±‚åºéå†ç»“æœè®°å½• 12345678910111213141516171819202122/** * @param &#123;TreeNode&#125; root * @return &#123;number[][]&#125; */var levelOrder = function (root) &#123; if (!root) return [] let task = [ [root, 0] ] let res = [] while (task.length) &#123; let [n, level] = task.shift() if (!res[level]) &#123; res.push([n.val]) &#125; else &#123; res[level].push(n.val) &#125; if (n.left) task.push([n.left, level + 1]) if (n.right) task.push([n.right, level + 1]) &#125; return res&#125;; é¢˜ç›® äºŒå‰æ ‘çš„å±‚åºéå†ï¼ˆæ–°é™ˆä»£è°¢+å¹¿åº¦éå†è§£æ³•ï¼‰https://leetcode-cn.com/problems/binary-tree-level-order-traversal/submissions/ æ—¶é—´å¤æ‚åº¦ï¼šO(n) ç©ºé—´å¤æ‚åº¦ï¼šO(n) æ€è·¯ï¼šå¹¿åº¦éå†äºŒå‰æ ‘ï¼Œåœ¨éå†ä¸­ï¼Œæ¯æ¬¡éƒ½å°†æœ¬å±‚çº§å…¨éƒ¨éå†å®Œæˆï¼Œå†è¿›è¡Œä¸‹ä¸€ä¸ªå±‚çº§çš„éå†ï¼Œè¿™æ ·åœ¨åŒä¸€ä¸ªå¾ªç¯é‡Œé¢æŠŠå½“å‰æ•°æ®éƒ½æ”¾å…¥éå†ç»“æœçš„æœ€åï¼Œå¾ªç¯ç´¯åŠ å®Œæˆç»“æœè®°å½• 123456789101112131415161718192021/** * @param &#123;TreeNode&#125; root * @return &#123;number[][]&#125; */var levelOrder = function (root) &#123; if (!root) return [] const q = [root] const res = [] while (q.length) &#123; let len = q.length res.push([]) // æ¯æ¬¡whileä¹‹å‰éƒ½æŠŠä¸Šä¸€å±‚çš„å…¨éƒ¨æå‡º,ä¸‹ä¸€å±‚çš„å…¨éƒ¨è®°å½•ä¸‹æ¥ while (len--) &#123; const n = q.shift() res[res.length - 1].push(n.val) if (n.left) q.push(n.left) if (n.right) q.push(n.right) &#125; &#125; return res&#125;; é¢˜ç›® äºŒå‰æ ‘çš„ä¸­åºéå†(é€’å½’)https://leetcode-cn.com/problems/binary-tree-inorder-traversal/submissions/ æ—¶é—´å¤æ‚åº¦ï¼šO(n) ç©ºé—´å¤æ‚åº¦ï¼šO(n) 123456789101112131415/** * @param &#123;TreeNode&#125; root * @return &#123;number[]&#125; */var inorderTraversal = function (root) &#123; const res = [] const rec = (n) =&gt; &#123; if (!n) return; rec(n.left) res.push(n.val) rec(n.right) &#125; rec(root) return res&#125;; é¢˜ç›® äºŒå‰æ ‘çš„ä¸­åºéå†(éé€’å½’)https://leetcode-cn.com/problems/binary-tree-inorder-traversal/submissions/ æ—¶é—´å¤æ‚åº¦ï¼šO(n) ç©ºé—´å¤æ‚åº¦ï¼šO(n) 123456789101112131415161718192021/** * @param &#123;TreeNode&#125; root * @return &#123;number[]&#125; */var inorderTraversal = function (root) &#123; const res = [] const task = [] // éå†æ•°æ® let p = root // æŒ‡é’ˆ while (task.length || p) &#123; // æ‰¾åˆ°æ‰€æœ‰å·¦å­æ ‘ while (p) &#123; task.push(p) p = p.left &#125; // è·å–æœ€åä¸€ä¸ªèŠ‚ç‚¹ åˆå§‹åŒ–çš„æ—¶å€™éƒ½æ˜¯å·¦å­æ ‘ åé¢å¯èƒ½ä¸ºå³å­æ ‘ const n = task.pop() res.push(n.val) p = n.right &#125; return res&#125;; é¢˜ç›® è·¯å¾„æ€»å’Œhttps://leetcode-cn.com/problems/path-sum/ æ—¶é—´å¤æ‚åº¦ï¼šO(n) ç©ºé—´å¤æ‚åº¦ï¼šO(n) æ€è·¯ï¼šä½¿ç”¨æ·±åº¦éå†æ‰€æœ‰èŠ‚ç‚¹çš„å€¼ï¼Œåœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ä¸æ–­ç´¯åŠ ï¼Œç›´åˆ°é‡åˆ°æœ€åº•éƒ¨èŠ‚ç‚¹ï¼Œå¯¹æ¯”ä¸ç›®æ ‡æ˜¯å¦ä¸€è‡´ï¼Œå¦‚æœä¸€è‡´åˆ™è¯´æ˜æœ‰ï¼Œæ²¡æœ‰åˆ™ç»§ç»­æ‰¾ 12345678910111213141516171819/** * @param &#123;TreeNode&#125; root * @param &#123;number&#125; targetSum * @return &#123;boolean&#125; */var hasPathSum = function (root, targetSum) &#123; if (!root) return false; let res = false const dfs = (n, s) =&gt; &#123; // console.log(n.val); if (!n.left &amp;&amp; !n.right &amp;&amp; targetSum == s) &#123; res = true &#125; if (n.left) dfs(n.left, s + n.left.val) if (n.right) dfs(n.right, s + n.right.val) &#125; dfs(root, root.val) return false&#125;; æ·±åº¦ä¼˜å…ˆéå†jsonçš„å…¨éƒ¨èŠ‚ç‚¹1234567891011121314151617const json = &#123; a: &#123; b: &#123; c: 1 &#125; &#125;, d: [1, 2]&#125;function dfs(json, path) &#123; console.log(json, path); Object.keys(json).map(e =&gt; &#123; dfs(json[e], path.concat(e)) &#125;)&#125;dfs(json, [])","categories":[{"name":"æ•°æ®ç»“æ„ä¸ç®—æ³•","slug":"æ•°æ®ç»“æ„ä¸ç®—æ³•","permalink":"https://vkcyan.github.io/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/"}],"tags":[{"name":"æ•°æ®ç»“æ„","slug":"æ•°æ®ç»“æ„","permalink":"https://vkcyan.github.io/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/"}]},{"title":"å›¾","slug":"ç®—æ³•ä¸æ•°æ®ç»“æ„/å›¾","date":"2021-03-21T16:00:00.000Z","updated":"2022-12-11T13:51:24.092Z","comments":true,"path":"2021/03/22/ç®—æ³•ä¸æ•°æ®ç»“æ„/å›¾/","link":"","permalink":"https://vkcyan.github.io/2021/03/22/%E7%AE%97%E6%B3%95%E4%B8%8E%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E5%9B%BE/","excerpt":"","text":"æ·±åº¦ä¼˜å…ˆéå†12345678910111213141516171819const graph = &#123; 0: [1, 2], 1: [2], 2: [0, 3], 3: [3]&#125;let visited = new Set() // å­˜å‚¨å·²ç»è¢«è®¿é—®æ•°æ®const dfs = (n) =&gt; &#123; console.log(n) visited.add(n) graph[n].forEach(e =&gt; &#123; if (!visited.has(e)) &#123; dfs(e) // æœªè®¿é—®æ•°æ®ç»§ç»­é€’å½’ &#125; &#125;)&#125;dfs(2) // ç¡®å®šèµ·ç‚¹ å¹¿åº¦ä¼˜å…ˆéå†12345678910111213let visited = new Set() // å­˜å‚¨å·²ç»è¢«è®¿é—®è¿‡çš„æ•°æ®visited.add(2) // å¢åŠ èµ·ç‚¹å€¼let q = [2] // è®¾å®šèµ·ç‚¹while (q.length) &#123; let n = q.shift() // å¼¹å‡ºå¼€å¤´çš„ console.log(n); graph[n].map(e =&gt; &#123; if (!visited.has(e)) &#123; // ä¸å­˜åœ¨æ‰éå†èŠ‚ç‚¹ q.push(e) visited.add(e) &#125; &#125;)&#125;","categories":[{"name":"æ•°æ®ç»“æ„ä¸ç®—æ³•","slug":"æ•°æ®ç»“æ„ä¸ç®—æ³•","permalink":"https://vkcyan.github.io/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/"}],"tags":[{"name":"æ•°æ®ç»“æ„","slug":"æ•°æ®ç»“æ„","permalink":"https://vkcyan.github.io/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/"}]},{"title":"å­—å…¸","slug":"ç®—æ³•ä¸æ•°æ®ç»“æ„/å­—å…¸","date":"2021-03-21T16:00:00.000Z","updated":"2022-12-11T13:51:24.092Z","comments":true,"path":"2021/03/22/ç®—æ³•ä¸æ•°æ®ç»“æ„/å­—å…¸/","link":"","permalink":"https://vkcyan.github.io/2021/03/22/%E7%AE%97%E6%B3%95%E4%B8%8E%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E5%AD%97%E5%85%B8/","excerpt":"","text":"ä¸é›†åˆç±»ä¼¼ï¼Œå­—æ®µä¹Ÿæ˜¯ä¸€ç§å­˜å‚¨å”¯ä¸€å€¼çš„æ•°æ®ç»“æ„å—ï¼Œä½†æ˜¯ä»–æ˜¯ä»¥é”®å€¼å¯¹çš„å½¢å¼æ¥å­˜å‚¨ ES6ä¸­å¢åŠ äº†å­—æ®µï¼Œä¹Ÿå°±æ˜¯Map 123456789let a = new Map([ // é»˜è®¤å€¼ [&#x27;a&#x27;, &#x27;aa&#x27;]])a.set(&#x27;b&#x27;, &#x27;bb&#x27;) // åŠ å…¥å€¼a.delete(&#x27;b&#x27;, &#x27;bb&#x27;) // åˆ é™¤a.set(&#x27;a&#x27;, &#x27;aaa&#x27;) // æ›¿æ¢å€¼console.log(a.get(&#x27;a&#x27;), a.get(&#x27;b&#x27;)); // è¯»å–å€¼ é¢˜ç›® ä¸¤ä¸ªæ•°ç»„çš„äº¤é›†æ—¶é—´å¤æ‚åº¦ï¼šO(n) ç©ºé—´å¤æ‚åº¦ï¼šO(n) 1234567891011121314151617181920212223/** * @param &#123;number[]&#125; nums1 * @param &#123;number[]&#125; nums2 * @return &#123;number[]&#125; */var intersection = function(nums1, nums2) &#123; // é›†åˆçš„æ–¹å¼ // return [...new Set(nums1.filter(e =&gt; nums2.includes(e)))] // å­—å…¸çš„æ–¹å¼ const map = new Map(); nums1.forEach(e =&gt; &#123; map.set(e, true) &#125;) const res = [] nums2.map(e =&gt; &#123; if (map.get(e)) &#123; res.push(e) map.delete(e) &#125; &#125;) return res&#125;; é¢˜ç›® æœ‰æ•ˆçš„æ‹¬å·æ—¶é—´å¤æ‚åº¦ï¼šO(n) ç©ºé—´å¤æ‚åº¦ï¼šO(n) 12345678910111213141516171819202122232425/** * @param &#123;string&#125; s * @return &#123;boolean&#125; */var isValid = function (s) &#123; const stack = [] var map = new Map([ [&#x27;(&#x27;, &#x27;)&#x27;], [&#x27;&#123;&#x27;, &#x27;&#125;&#x27;], [&#x27;[&#x27;, &#x27;]&#x27;], ]) for (let i = 0; i &lt; s.length; i++) &#123; if (map.has(s[i])) &#123; stack.push(s[i]) &#125; else &#123; if (map.get(stack[stack.length - 1]) === s[i]) &#123; stack.pop() &#125; else &#123; return false &#125; &#125; &#125; return stack.length === 0&#125;; é¢˜ç›® ä¸¤æ•°ä¹‹å’Œæ—¶é—´å¤æ‚åº¦ï¼šO(n) ç©ºé—´å¤æ‚åº¦ï¼šO(n) æ€è·¯ï¼š å¾ªç¯ä¸­æ¯æ¬¡åˆ¤æ–­mapä¸­ï¼Œæ˜¯å¦å­˜åœ¨åŒ¹é…é¡¹ï¼Œå¦‚æœæ²¡æœ‰ï¼ŒåŠ å…¥åˆ°mapä¸­ï¼Œç­‰åˆ°è¢«åŒ¹é…ï¼Œå¦‚æœåŒ¹é…åˆ°äº†ï¼Œç›´æ¥è¿”å›è¢«åŒ¹é…åˆ°çš„ä¸å½“å‰å…ƒç´  1234567891011121314151617/** * @param &#123;number[]&#125; nums * @param &#123;number&#125; target * @return &#123;number[]&#125; */var twoSum = function (nums, target) &#123; let map = new Map() for (let i = 0; i &lt; nums.length; i++) &#123; let e = nums[i] let n = target - e if (map.has(n)) &#123; return [map.get(n), i] &#125; else &#123; map.set(e, i) &#125; &#125;&#125;; é¢˜ç›® æ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²æ—¶é—´å¤æ‚åº¦ï¼šO(n) ç©ºé—´å¤æ‚åº¦ï¼šO(n) æ€è·¯ï¼šä½¿ç”¨åŒæŒ‡é’ˆ + å­—å…¸çš„æ–¹å¼å®ç°ï¼Œå°±åƒå‰ªåˆ‡è§†é¢‘æ—¶å€™çš„æ»‘åŠ¨çª—å£ä¸€å¼  å³è¾¹æŒ‡é’ˆä¸æ–­å‘å‰ï¼Œæ¯æ¬¡å‘å‰çš„æ—¶å€™ï¼Œåˆ¤æ–­å½“å‰çª—å£ä¸­æ˜¯å¦å­˜åœ¨å·²æœ‰å…ƒç´ ï¼Œå¦‚æœå­˜åœ¨ï¼Œå°±å°†å·¦è¾¹æŒ‡é’ˆè°ƒæ•´åˆ°å­˜åœ¨çš„é—®é¢˜ åŒæ—¶æ¯æ¬¡éƒ½åˆ¤æ–­æ»‘åŠ¨çª—å£çš„é•¿åº¦ï¼Œæœ€ç»ˆè·å–åˆ°æœ€é•¿å­ä¸² 1234567891011121314151617181920/** * @param &#123;string&#125; s * @return &#123;number&#125; */var lengthOfLongestSubstring = function (s) &#123; let res = 0 // æœ€é•¿é•¿åº¦ let a = 0 // æ»‘åŠ¨çª—å£èµ·ç‚¹ const map = new Map() // å­˜å‚¨å­—ç¬¦çš„å­—å…¸ for (let b = 0; b &lt; s.length; b++) &#123; const e = s[b]; if (map.has(e) &amp;&amp; map.get(e) &gt;= a) &#123; // å¦‚æœå­˜åœ¨é‡å¤å…ƒç´  // å¦‚æœæ˜¯abba è¿™æ ·çš„æƒ…å†µ,éœ€è¦é˜²æ­¢æ»‘åŠ¨çª—å£èµ·å§‹ç‚¹å˜å°,å·²ç»åœ¨æ»‘åŠ¨çª—å£å¤–é¢äº†,ä¸åº”å½“è€ƒè™‘ a = map.get(e) + 1 // æ»‘åŠ¨çª—å£å·¦è¾¹å‰è¿›ä¸€ä½ &#125; map.set(e, b) // å­˜å‚¨å½“å‰å€¼çš„æœ€åçš„ä¸‹æ ‡ ç”¨äºä¸‹æ¬¡è®¡ç®—èµ·å§‹ç‚¹ res = Math.max(res, b - a + 1) // å½“å‰é•¿åº¦ä¸å·²çŸ¥æœ€å¤§é•¿åº¦ &#125; return res&#125; é¢˜ç›® æœ€å°è¦†ç›–å­ä¸²ï¼ˆå›°éš¾ï¼‰https://leetcode-cn.com/problems/minimum-window-substring/ æ—¶é—´å¤æ‚åº¦ï¼šO(n2) ç©ºé—´å¤æ‚åº¦ï¼šO(n) æ€è·¯: é‡‡ç”¨å­—å…¸ + åŒæŒ‡é’ˆæ»‘åŠ¨çª—å£æ¥å®ç°æœ€å°è¦†ç›–å­ä¸²çš„æŸ¥æ‰¾ï¼Œå› ä¸ºé¢˜ç›®ä¸é™åˆ¶å­ä¸²è¢«è¦†ç›–çš„é¡ºåºï¼Œæ‰€ä»¥é¦–å…ˆå°†å­ä¸²é€šè¿‡Mapç»“æ„è½¬åŒ–ä¸º æ•°å€¼:æ•°é‡ï¼ˆabc &#x3D;&gt; {â€˜aâ€™ &#x3D;&gt; 1,â€™bâ€™ &#x3D;&gt; 1,â€™câ€™ &#x3D;&gt; 1 }ï¼‰ â€‹ å®Œæˆäº†Mapçš„æ„å»ºåï¼Œå¼€å§‹æ»‘åŠ¨å³æŒ‡é’ˆï¼ŒçŸ¥é“mapä¸­æ•°æ®éƒ½ä¸º0ï¼Œä»£è¡¨å½“å‰æ»‘åŠ¨çª—å£è¦†ç›–äº†æœ€å°å­ä¸²ï¼Œè¿™æ—¶å€™å†å¼€å§‹å·¦æŒ‡é’ˆçš„æ»‘åŠ¨ï¼ŒçŸ¥é“å·¦æŒ‡é’ˆå½“å‰å€¼åœ¨Mapä¸­ï¼Œä»£è¡¨å·²ç»æ— æ³•è¦†ç›–æœ€å°å­ä¸²ï¼Œæ­¤æ—¶å·¦æŒ‡é’ˆåœæ­¢ï¼Œå†æ¬¡å¼€å§‹æ»‘åŠ¨å³æŒ‡é’ˆï¼Œå†æ¬¡è¿›å…¥å¾ªç¯ â€‹ æœ€ååœ¨æ¯æ¬¡æ»‘åŠ¨å·¦è¾¹æŒ‡é’ˆçš„æ—¶å€™ï¼Œæˆªå–å½“å‰çš„æœ€å°è¦†ç›–å­ä¸²ï¼Œæœ€åå¾—åˆ°æœ€å°è¦†ç›–å­ä¸² 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859/** * @param &#123;string&#125; s * @param &#123;string&#125; t * @return &#123;string&#125; */ var minWindow = function (s, t) &#123; // æœ€å°å­ä¸²å¤§äºå­—ç¬¦ä¸²sï¼Œæ¯•ç«Ÿä¸å­˜åœ¨æœ€å°å­ä¸²ï¼Œç›´æ¥è¿”å›ç©º if(t.length &gt; s.length) &#123; return &#x27;&#x27; &#125; let start = 0 // æŒ‡é’ˆå¼€å¤´ let end = 0 // æŒ‡é’ˆç»“å°¾ let result = &#x27;&#x27; // å­˜å‚¨æœ€å°è¦†ç›–å­ä¸² const need = new Map() // å­˜å‚¨æœ€å°å­ä¸²æ•°æ® for (let i = 0; i &lt; t.length; i++) &#123; const e = t[i]; need.set(e, need.has(e) ? need.get(e) + 1 : 1) &#125; // need ä¸º &quot;ABC&quot; =&gt; &#123;&#x27;A&#x27; =&gt; 1,&#x27;B&#x27; =&gt; 1,&#x27;C&#x27; =&gt; 1 &#125; let needType = need.size // æœ€å°å­ä¸²çš„é•¿åº¦,ç”¨äºè®°å½•æ»‘åŠ¨çª—æˆ·å£è¿˜æœªåŒ…å«å‡ ä½æ•° // å…ˆèµ°åæŒ‡é’ˆ while (end &lt; s.length) &#123; const c = s[end] // æ»‘åŠ¨çª—å£å³è¾¹å‘å‰ if (need.has(c)) &#123; // åˆ¤æ–­å½“å‰å…ƒç´ æ˜¯å¦åœ¨mapä¸­ need.set(c, need.get(c) - 1) // å¦‚æœåœ¨mapä¸­,å…¶å€¼å‡1 if (need.get(c) == 0) &#123; // å¦‚æœå½“å‰å€¼,åœ¨mapä¸­ä¸º0äº†,è¯´æ˜å½“å‰æ»‘åŠ¨çª—å£åŒ…å«äº†å½“å‰å€¼çš„æ‰€æœ‰æ•°é‡ // æ‰€ä»¥å¯¹è®°å½•mapæ•°é‡çš„æ•°å€¼å†å‡1 needType -= 1 &#125; &#125; // å¦‚æœneedTypeä¸º0äº†,è¯´æ˜æ¬¡æ•°æ»‘åŠ¨çª—å£å·²ç»åŒ…å«æ‰€æœ‰å­ä¸² while (needType === 0) &#123; // è·å–å½“å‰å­ä¸² let carry = s.substring(start, end + 1) // å¯¹æ¯”å­˜å‚¨å­ä¸²ä¸å½“å‰å­ä¸²,è·å–æœ€å°çš„ if (result == &#x27;&#x27; || result.length &gt; carry.length) &#123; result = carry &#125; const c2 = s[start] if (need.has(c2)) &#123; // åˆ¤æ–­å½“å‰å…ƒç´ æ˜¯å¦åœ¨mapä¸­,åœ¨,è¿™è¯´æ˜æŸä¸ªå€¼ç§»å‡ºäº†,æ­¤æ—¶å·²ç»ä¸æ˜¯æœ€å°å­ä¸²,å› æ­¤mapä¸­çš„å½“å‰å€¼,+1 // å› ä¸ºå»é™¤äº†å­˜åœ¨çš„å€¼,å½“å‰å­ä¸²å·²ç»ä¸ç¬¦åˆæ ‡å‡†,needTypeè®°å½•å€¼+1 // å·¦æŒ‡é’ˆåœæ­¢,å¼€å§‹å³æŒ‡é’ˆè¡ŒåŠ¨,çŸ¥é“å®ƒå†æ¬¡è¦†ç›–äº†å­ä¸² need.set(c2, need.get(c2) + 1) if (need.get(c2) === 1) &#123; needType += 1 &#125; &#125; start += 1 // å·¦æŒ‡é’ˆå‰è¿› &#125; end += 1 // å³æŒ‡é’ˆå‰è¿› &#125; return result&#125;;","categories":[{"name":"æ•°æ®ç»“æ„ä¸ç®—æ³•","slug":"æ•°æ®ç»“æ„ä¸ç®—æ³•","permalink":"https://vkcyan.github.io/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/"}],"tags":[{"name":"æ•°æ®ç»“æ„","slug":"æ•°æ®ç»“æ„","permalink":"https://vkcyan.github.io/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/"}]},{"title":"æ’åºç®—æ³•","slug":"ç®—æ³•ä¸æ•°æ®ç»“æ„/æ’åºç®—æ³•","date":"2021-03-21T16:00:00.000Z","updated":"2022-12-11T13:51:24.092Z","comments":true,"path":"2021/03/22/ç®—æ³•ä¸æ•°æ®ç»“æ„/æ’åºç®—æ³•/","link":"","permalink":"https://vkcyan.github.io/2021/03/22/%E7%AE%97%E6%B3%95%E4%B8%8E%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/","excerpt":"","text":"å†’æ³¡æ’åºå…ˆæ‰¾æœ€å¤§ï¼Œä»å³åˆ°å·¦ æ—¶é—´å¤æ‚åº¦ï¼šO(n2) ç©ºé—´å¤æ‚åº¦ï¼šO(n) æ€è·¯ï¼šå†…å±‚å¾ªç¯é€šè¿‡ä¾æ¬¡æ¯”è¾ƒï¼Œå°†æœ€å¤§å€¼æ”¾åˆ°æœ€åé¢ï¼Œåœ¨æ­¤åŸºç¡€ä¸Šå¢åŠ å¤–éƒ¨å¾ªç¯ï¼Œæ¯æ¬¡å¤–éƒ¨å¾ªç¯éƒ½ä¼šæ’é™¤å·²ç»å®Œæˆæ’åºçš„ä¸‹æ ‡ï¼Œå†ç®—å‡ºæœ€å¤§å€¼ï¼Œå¹¶æ”¾åˆ°æ’é™¤å·²ç»æ’åºçš„æ•°ç»„æœ€å 1234567891011121314151617181920/** * å†’æ³¡æ’åº * @param &#123;Array&#125; arr * @returns */function bubbleSort(arr) &#123; for (let j = 0; j &lt; arr.length - 1; j++) &#123; // ä¸ºä»€ä¹ˆå¾ªç¯ä½“å‡1,å› ä¸ºå¾ªç¯ä½“é‡Œé¢æ˜¯å½“å‰çš„æ¯”è¾ƒåä¸€ä¸ª,ä¸å‡1,å°±ä¼šæº¢å‡º // å‡å»jæ˜¯ä¸ºäº†å‡å°‘æ— æ„ä¹‰çš„å¾ªç¯æ¬¡æ•° for (let i = 0; i &lt; arr.length - 1 - j; i++) &#123; // æ¯”è¾ƒå½“å‰çš„ä¸åä¸€ä¸ªå¤§å°,å‰é¢çš„å¤§åˆ™æ¢ä½å­ if (arr[i] &gt; arr[i + 1]) &#123; let temp = arr[i] arr[i] = arr[i + 1] arr[i + 1] = temp &#125; &#125; &#125; return arr&#125; é€‰æ‹©æ’åºå…ˆæ‰¾æœ€å°ï¼Œä»å·¦åˆ°å³ æ—¶é—´å¤æ‚åº¦ï¼šO(n2) ç©ºé—´å¤æ‚åº¦ï¼šO(n) æ€è·¯ï¼šå†…å±‚å¾ªç¯æ¯æ¬¡æ‰¾åˆ°æœ€å°çš„ä¸‹æ ‡å¹¶æ”¾åˆ°æ•°ç»„æœ€å‰é¢ï¼Œå†æ­¤åŸºç¡€ä¸Šå¢åŠ å¤–éƒ¨å¾ªç¯ï¼Œå¤–éƒ¨å¾ªç¯æ¯æ¬¡ä»¥å¾ªç¯ä¸‹æ ‡ä¸ºåæ ‡ï¼Œå¯»æ‰¾æœ€å°å€¼æ¢ä½åˆ°åæ ‡ä¸­ï¼Œä¸€æ¬¡å®Œæˆæ’åº 123456789101112131415161718192021/** * é€‰æ‹©æ’åº * @returns */function selectionSort() &#123; for (let i = 0; i &lt; arr.length - 1; i++) &#123; let indexMin = i for (let j = i; j &lt; arr.length; j++) &#123; if (arr[j] &lt; arr[indexMin]) &#123; indexMin = j &#125; &#125; if (indexMin != i) &#123; // æœ€å°å€¼å°±æ˜¯è‡ªå·±,ä¸éœ€è¦äº¤æ¢ let temp = arr[i] arr[i] = arr[indexMin] arr[indexMin] = temp &#125; &#125; return arr&#125; æ’å…¥æ’åºä»ç¬¬äºŒå¼€å§‹ï¼Œä¾æ¬¡ä»å³åˆ°å·¦å¼€å§‹æ¯”è¾ƒæœ€å°å€¼ æ—¶é—´å¤æ‚åº¦ï¼šO(n2) ç©ºé—´å¤æ‚åº¦ï¼šO(n) æ€è·¯ï¼šä»ç¬¬äºŒä½å¼€å§‹ï¼Œå’Œå‰é¢çš„è¿›è¡Œæ¯”è¾ƒï¼Œå¦‚æœå‰é¢çš„å¤§äºåé¢ï¼Œåˆ™åé¢çš„ç­‰äºå‰é¢çš„ï¼Œç»§ç»­å‘å‰æ‰¾ï¼Œå¦‚æœæ‰¾åˆ°äº†å‰é¢çš„å°äºåé¢éƒ½ï¼Œåˆ™åœæ­¢æŸ¥æ‰¾ï¼Œè¦†ç›–è¯¥ä¸‹æ ‡ï¼Œå¦‚æœåˆ°æœ€å¼€å§‹éƒ½æ²¡æœ‰æ‰¾åˆ°æœ€å°çš„ï¼Œåˆ™å°†ç¬¬ä¸€ä½å˜æˆæ¯”è¾ƒå€¼ 123456789101112131415161718192021222324/** * æ’å…¥æ’åº * @param &#123;*&#125; arr * @returns */function inSetrSort(arr) &#123; // ä»ç¬¬äºŒä½å¼€å§‹ for (let i = 1; i &lt; arr.length; i++) &#123; let j = i let temp = arr[j] while (j &gt; 0) &#123; if (temp &gt; arr[j - 1]) &#123; // å¦‚æœå½“å‰å€¼å¤§äºå‰ä¸€ä¸ªå€¼,ç›´æ¥å¼¹å‡º,å¹¶ä¸”å¾—çŸ¥æ’å…¥ä½ç½® break &#125; // å¦‚æœå½“å‰å€¼å°äºå‰ä¸€ä¸ªå€¼,å½“å‰å€¼å°±ç­‰äºå‰ä¸€ä¸ªå­— arr[j] = arr[j - 1] j-- &#125; // åœ¨å¼¹å‡ºçš„ä¸‹æ ‡å¡«å…¥ç¼“å­˜çš„å€¼ arr[j] = temp &#125; return arr&#125; å½’å¹¶æ’åºéš¾åº¦è¾ƒå¤§ï¼Œåç»­å†çœ‹ å¿«é€Ÿæ’åºéš¾åº¦è¾ƒå¤§ï¼Œåç»­å†çœ‹ é¡ºåºæœç´¢åœ¨ç›®æ ‡å‡½æ•°ä¸­å¯»æ‰¾ç›®æ ‡å€¼ï¼Œæ‰¾ä¸åˆ°åˆ™è¿”å›-1 æ—¶é—´å¤æ‚åº¦ï¼šO(n) 123function searchSort(list, carry) &#123; return list.findIndex(e =&gt; e == carry)&#125; äºŒåˆ†æœç´¢é’ˆå¯¹æœ‰åºæ•°ç»„çš„å•é¡¹æŸ¥æ‰¾æ–¹æ³•ï¼Œæ‰¾åˆ°ä¼šè¿”å›ä¸‹æ ‡ï¼Œæœªæ‰¾åˆ°åˆ™è¿”å›-1ï¼Œä»–çš„æ€§èƒ½è¦é«˜äºé¡ºåºæœç´¢ï¼Œæ¯æ¬¡æœç´¢éƒ½ä¼šå°†ç°æœ‰æ•°ç»„æ‰¹æˆä¸¤åŠ æ—¶é—´å¤æ‚åº¦ï¼šO(logN) 1234567891011121314151617181920let bin = [1, 2, 3, 4, 5, 6, 7, 8, 9]function binarySearch(list, carry) &#123; let low = 0 let high = list.length - 1 while (low &lt;= high) &#123; const mid = Math.floor((low + high) / 2) const ele = list[mid] if (carry &gt; ele) &#123; low = mid + 1 &#125; else if (carry &lt; ele) &#123; high = mid - 1 &#125; else if (carry == ele) &#123; return mid &#125; &#125; return -1&#125;console.log(binarySearch(bin, 1));","categories":[{"name":"æ•°æ®ç»“æ„ä¸ç®—æ³•","slug":"æ•°æ®ç»“æ„ä¸ç®—æ³•","permalink":"https://vkcyan.github.io/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/"}],"tags":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://vkcyan.github.io/tags/%E7%AE%97%E6%B3%95/"}]},{"title":"æ ˆ","slug":"ç®—æ³•ä¸æ•°æ®ç»“æ„/æ ˆ","date":"2021-03-21T16:00:00.000Z","updated":"2022-12-11T13:51:24.092Z","comments":true,"path":"2021/03/22/ç®—æ³•ä¸æ•°æ®ç»“æ„/æ ˆ/","link":"","permalink":"https://vkcyan.github.io/2021/03/22/%E7%AE%97%E6%B3%95%E4%B8%8E%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E6%A0%88/","excerpt":"","text":"ä¸€ä¸ªåè¿›å…ˆå‡ºçš„æ•°æ®ç»“æ„,ä¾‹å¦‚èœ‚çªç…¤ï¼Œå…ˆæ”¾è¿›å»çš„èœ‚çªç…¤æ˜¯è¢«åæ‹¿å‡ºæ¥çš„ï¼Œåæ”¾è¿›å»çš„å…ˆæ‹¿å‡ºæ¥ï¼Œæ”¾è¿›å»ï¼ˆpushï¼‰æ‹¿å‡ºæ¥ï¼ˆpopï¼‰ JavaScriptè™½ç„¶æ²¡æœ‰æ ˆï¼Œä½†æ˜¯å¯ä»¥é€šè¿‡arrayè¿›è¡Œå®ç° 123456const stack = []stack.push(1)stack.push(2)const item1 = stack.pop()const item2 = stack.pop() é¢˜ç›® æœ‰æ•ˆæ‹¬å·https://leetcode-cn.com/problems/valid-parentheses/ æ€è·¯ï¼šä½¿ç”¨æ ˆçš„ç‰¹æ€§å®ç° æ—¶é—´å¤æ‚åº¦ï¼šO(n) ç©ºé—´å¤æ‚åº¦ï¼šO(n) 123456789101112131415161718192021222324252627/** * @param &#123;string&#125; s * @return &#123;boolean&#125; */var obj = &#123; &#x27;(&#x27;: &#x27;)&#x27;, &#x27;&#123;&#x27;: &#x27;&#125;&#x27;, &#x27;[&#x27;: &#x27;]&#x27;&#125;var isValid = function (s) &#123; if (s.length % 2 === 1) &#123; return false &#125; const stack = [] for (let i = 0; i &lt; s.length; i++) &#123; if (obj[s[i]]) &#123; stack.push(s[i]) &#125; else &#123; if (obj[stack[stack.length - 1]] === s[i]) &#123; stack.pop() &#125; else &#123; return false &#125; &#125; &#125; return stack.length === 0&#125;; å‡½æ•°è°ƒç”¨å †æ ˆ","categories":[{"name":"æ•°æ®ç»“æ„ä¸ç®—æ³•","slug":"æ•°æ®ç»“æ„ä¸ç®—æ³•","permalink":"https://vkcyan.github.io/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/"}],"tags":[{"name":"æ•°æ®ç»“æ„","slug":"æ•°æ®ç»“æ„","permalink":"https://vkcyan.github.io/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/"}]},{"title":"é“¾è¡¨","slug":"ç®—æ³•ä¸æ•°æ®ç»“æ„/é“¾è¡¨","date":"2021-03-21T16:00:00.000Z","updated":"2022-12-11T13:51:24.093Z","comments":true,"path":"2021/03/22/ç®—æ³•ä¸æ•°æ®ç»“æ„/é“¾è¡¨/","link":"","permalink":"https://vkcyan.github.io/2021/03/22/%E7%AE%97%E6%B3%95%E4%B8%8E%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E9%93%BE%E8%A1%A8/","excerpt":"","text":"é“¾è¡¨æ•°ç»„ï¼šå¢åŠ æˆ–è€…åˆ é™¤éé¦–å°¾å…ƒç´ æ—¶ï¼Œéœ€è¦ç§»åŠ¨å…ƒç´  é“¾è¡¨ï¼šå¢åŠ æˆ–è€…åˆ é™¤éé¦–å°¾å…ƒç´ æ—¶ï¼Œä¸éœ€è¦ç§»åŠ¨å…ƒç´ ï¼Œåªéœ€è¦ä¿®æ”¹å…¶nextçš„æŒ‡å‘å³å¯ æ³¨ï¼š JavaScript æ²¡æœ‰é“¾è¡¨ç»“æ„ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦ç”¨Objectæ¥æ¨¡æ‹Ÿé“¾è¡¨ é¢˜ç›® åˆ é™¤é“¾è¡¨ä¸­çš„èŠ‚ç‚¹https://leetcode-cn.com/problems/delete-node-in-a-linked-list/ æ—¶é—´å¤æ‚åº¦ï¼šO(1) ç©ºé—´å¤æ‚åº¦ï¼šO(1) 12345678/** * @param &#123;ListNode&#125; node * @return &#123;void&#125; Do not return anything, modify node in-place instead. */var deleteNode = function (node) &#123; node.val = node.next.val // å°†è‡ªå·±å˜æˆåˆ«äºº node.next = node.next.next // å¹²æ‰åˆ«äººï¼Œè¾¾åˆ°è‡ªå·±æ¶ˆå¤±çš„ç›®çš„&#125;; é¢˜ç›® åè½¬é“¾è¡¨https://leetcode-cn.com/problems/reverse-linked-list/ æ—¶é—´å¤æ‚åº¦ï¼šO(n) ç©ºé—´å¤æ‚åº¦ï¼šO(1) &#x2F;&#x2F; p2é‡Œé¢éƒ½æ˜¯p1çš„ï¼Œæ‰€ä»¥ä¸æ˜¯æ–°å†…å­˜ï¼Œtempå› ä¸ºæ˜¯å•ä¸ªå€¼ï¼Œä¸æ˜¯æ•°ç»„ä¸çŸ©é˜µï¼Œæ‰€ä»¥æ˜¯O(1) æ€è·¯ï¼šæ¯æ¬¡å¾ªç¯çš„æ—¶å€™é¦–å…ˆä¿å­˜ä¹‹åçš„é“¾è¡¨ï¼Œå†è®²å½“å‰é“¾è¡¨æŒ‡å‘æ–°çš„é“¾è¡¨ï¼Œæœ€åå¾ªç¯â€ä¹‹åçš„é“¾è¡¨â€œï¼Œè¿›è€Œå®ç° 123456[1,2,3,4,5] =&gt; [][2,3,4,5] =&gt; [1][3,4,5] =&gt; [1,2][4,5] =&gt; [1,2,3][5] =&gt; [1,2,3,4][] =&gt; [1,2,3,4,5] å†™æ³•1 åŒæŒ‡é’ˆ123456789101112131415/** * @param &#123;ListNode&#125; head * @return &#123;ListNode&#125; */var reverseList = function (head) &#123; let p1 = head // é“¾è¡¨ let p2 = null while (p1) &#123; const temp = p1.next // é¦–å…ˆä¿å­˜å½“å‰çš„ä¸‹ä¸€ä¸ªæŒ‡é’ˆ p1.next = p2 // å°†å½“å‰æŒ‡é’ˆæŒ‡å‘æ–°é“¾è¡¨ p2 = p1 // æ›¿æ¢ä¹‹å‰çš„é“¾è¡¨ [] =&gt; [1] =&gt; [2,1] =&gt; [3,2,1] p1 = temp // ä¸ºäº†ä¸‹æ¬¡å¾ªç¯,å°†ä¸‹ä¸€ä¸ªé“¾è¡¨ç»™p1(æœ¬æ¬¡å¾ªç¯çš„å·²ç»è¢«å¼¹å‡º) [1,2,3] =&gt; [2,3] =&gt; [3] &#125; return p2 // è¿”å›åè½¬åçš„é“¾è¡¨&#125;; å†™æ³•2 é€’å½’123456789101112131415161718/** * @param &#123;ListNode&#125; head * @return &#123;ListNode&#125; */var reverseList = function (head) &#123; // é€’å½’å†™æ³• return reverse(null, head)&#125;;function reverse(now, old) &#123; if (!old) &#123; // è€æ•°æ®æ²¡äº†,é€’å½’åè½¬å®Œæˆ return now &#125; let temp = old.next // é¦–å…ˆä¿å­˜é“¾è¡¨(é™¤äº†è‡ªå·±) old.next = now // å°†å½“å‰æŒ‡é’ˆæŒ‡å‘æ–°é“¾è¡¨ return reverse(old, temp) // å°†2ä¸ªé“¾è¡¨å†æ‰§è¡Œä¸€é&#125; é¢˜ç›® ä¸¤æ•°ç›¸åŠ https://leetcode-cn.com/problems/add-two-numbers/ æ—¶é—´å¤æ‚åº¦ï¼šO(n) ç©ºé—´å¤æ‚åº¦ï¼šO(n) æ€è·¯ï¼šåŒæ—¶å¾ªç¯ä¸¤ä¸ªé“¾è¡¨ï¼Œåœ¨å°†æ•°æ®æ”¾å…¥ä¸€ä¸ªæ–°çš„é“¾è¡¨ä¸­ï¼Œå¯¹åä½æ•°éœ€è¦è¿›è¡Œé¢å¤–çš„å¤„ç† 12345678910111213141516171819202122232425262728/** * @param &#123;ListNode&#125; l1 * @param &#123;ListNode&#125; l2 * @return &#123;ListNode&#125; */var addTwoNumbers = function (l1, l2) &#123; let all = new ListNode(0) // æ–°å»ºç©ºé“¾è¡¨ let three = all // å‘æ–°é“¾è¡¨è¿½åŠ å…ƒç´ æ˜¯éœ€è¦æŒ‡é’ˆ,ç›´æ¥ç”¨all,é“¾è¡¨å¤´å°±æ²¡äº† let carry = 0 // è®°å½•è¶…å‡ºçš„åä½æ•° while (l1 || l2) &#123; // åŒæ—¶å¾ªç¯2ä¸ªé“¾è¡¨ let val = (l1 ? l1.val : 0) + (l2 ? l2.val : 0) + carry // åŒä½æ•°ç›¸åŠ ,å¹¶ä¸”åŠ ä¸Šä¸Šä¸€ä½çš„è¶…å‡ºçš„åä½æ•° carry = Math.floor(val / 10) // è·å–è¶…å‡ºçš„åä½æ•° three.next = new ListNode(val % 10) // è®°å½•å½“å‰çš„ä½™æ•° three = three.next // æŒ‡å‘ä¸‹ä¸€ä¸ªé“¾è¡¨ if (l1) &#123; // 2ä¸ªé“¾è¡¨é•¿åº¦ä¸ä¸€è‡´,éœ€è¦åˆ¤æ–­ l1 = l1.next &#125; if (l2) &#123; l2 = l2.next &#125; &#125; // æœ€åä¸€ä½å¯èƒ½å­˜åœ¨ä½™æ•° if (carry) &#123; three.next = new ListNode(carry) three = three.next &#125; return all.next&#125;; é¢˜ç›® åˆ é™¤æ’åºé“¾è¡¨ä¸­çš„é‡å¤å…ƒç´ https://leetcode-cn.com/problems/remove-duplicates-from-sorted-list/ æ—¶é—´å¤æ‚åº¦ï¼šO(n) ç©ºé—´å¤æ‚åº¦ï¼šO(1) æ€è·¯ï¼šé‡åˆ°åŒæ ·çš„ï¼Œåˆ é™¤è‡ªå·±ï¼Œæ²¡é‡åˆ°ï¼ŒæŒ‡é’ˆå‘åä¸€ä½ 1234567891011121314151617/** * @param &#123;ListNode&#125; head * @return &#123;ListNode&#125; */var deleteDuplicates = function (head) &#123; let all = head // å½“å‰æŒ‡é’ˆ while (all &amp;&amp; all.next) &#123; if (all.val == all.next.val) &#123; // å’Œä¸‹ä¸ªä¸€ä¸ªèŠ‚ç‚¹ä¸€è‡´,åˆ é™¤æœ¬é˜¶æ®µ all.next = all.next.next &#125; else &#123; // æ²¡æœ‰é‡å¤çš„,æŒ‡é’ˆåˆ°ä¸‹ä¸€ä¸ª all = all.next &#125; &#125; return head&#125; é¢˜ç›® ç¯å½¢é“¾è¡¨https://leetcode-cn.com/problems/linked-list-cycle/ é¢˜ç›®è§£æ: ç»™å®šä¸€ä¸ªç‰¹æ®Šçš„é“¾è¡¨ï¼Œé“¾è¡¨çš„æœ€åä¸€ä½å†æ¬¡æŒ‡å‘é“¾è¡¨ä¸­çš„æŸä¸€ä¸ªï¼Œè¿™æ ·ä¼šå½¢æˆä¸€ä¸ªç¯ï¼Œposå‚æ•°æ˜¯æœªçŸ¥çš„ï¼Œé€šè¿‡ç®—æ³•åˆ¤æ–­è¯¥é“¾è¡¨æ˜¯å¦æœ‰ç¯ å†™æ³•1 ç‰¹æ®Šå€¼æ³•æ—¶é—´å¤æ‚åº¦:O(n) ç©ºé—´å¤æ‚åº¦ï¼šO(1) ç‰¹æ®Šå€¼ä¸€å®šè¦ä¿è¯ä¸èƒ½åœ¨é“¾è¡¨ä¸­å‡ºç° 12345678910111213141516171819202122/** * @param &#123;ListNode&#125; head * @return &#123;boolean&#125; */var hasCycle = function(head) &#123; let all = head; while(all) &#123; // å®šä¸€ä¸ªç‰¹æ®Šå€¼ï¼Œå°†é‡åˆ°çš„æ¯ä¸€é¡¹éƒ½å˜æˆè¿™ä¸ªç‰¹æ®Šå€¼ // å¦‚æœæœ‰é‡åˆ°äº†ï¼Œå°±è¯´æ˜æ˜¯å­˜åœ¨ç¯ if(all.val == &#x27;123456789&#x27;) &#123; all = null return true &#125; else &#123; all.val = &#x27;123456789&#x27; all = all.next &#125; &#125; // å¦‚æœä¸€æ¬¡éƒ½æ²¡é‡åˆ°è¿™è¯´æ˜æ²¡æœ‰ç¯ return false&#125;; å†™æ³•2 å¿«æ…¢æŒ‡é’ˆ ä¸ºä»€ä¹ˆå¿«æŒ‡é’ˆä¸æ…¢æŒ‡é’ˆä¸€å®šä¼šç›¸é‡? ä¸€æ—¦å¿«æŒ‡é’ˆè¿›å…¥ç¯ä¸­ï¼Œæ¯æ¬¡éƒ½ç¦»æ…¢æŒ‡é’ˆè¿›ä¸€æ­¥ï¼Œå› ä¸ºåˆ°äº†è¿½ä¸Šçš„æ—¶å€™ï¼Œè¦ä¹ˆç›¸éš”1æ­¥ï¼Œä¸‹ä¸€æ­¥ç›¸é‡ï¼Œè¦ä¹ˆç›¸éš”2æ­¥ï¼Œä¸‹ä¸‹æ¬¡ä¸€å®šç›¸é‡ å¿«æŒ‡é’ˆä¸æ…¢æŒ‡é’ˆç›¸é‡çš„æ—¶å€™ï¼Œæ…¢æŒ‡é’ˆæ˜¯å¦ç»•ç¯è¶…è¿‡äº†ä¸€åœˆ ä¸ä¼šï¼Œå‡è®¾ç¯é•¿ä¸ºNï¼Œç¯å¤–é•¿åº¦ä¸ºnï¼ŒNä¸€å®šå¤§äºnï¼›å¹¶ä¸”æ ¹æ®ç¬¬ä¸€é¢˜å¯çŸ¥æ¯æ¬¡å¿«æŒ‡é’ˆéƒ½è·ç¦»æ…¢æŒ‡é’ˆè¿›ä¸€æ­¥ï¼Œæ‰€ä»¥Nä¸næœ€ç»ˆä¼šè·ç¦»nï¼Œæ‰€ä»¥N&gt;n æ—¶é—´å¤æ‚åº¦:O(n) ç©ºé—´å¤æ‚åº¦ï¼šO(1) 12345678910111213141516/** * @param &#123;ListNode&#125; head * @return &#123;boolean&#125; */var hasCycle = function(head) &#123; let p1 = head let p2 = head while(p1 &amp;&amp; p2 &amp;&amp; p2.next) &#123; p1 = p1.next p2 = p2.next.next if(p1 === p2) &#123; return true &#125; &#125; return false&#125;; JavaScriptåŸå‹é“¾123obj -&gt; Object.prototype -&gt; null // å¯¹è±¡func -&gt; Function.prototype -&gt; Object.prototype -&gt; null // æ–¹æ³•arr -&gt; Array.prototype -&gt; Object.prototype -&gt; null // æ•°ç»„ å¦‚æœAæ²¿ç€åŸå‹é“¾èƒ½æ‰¾åˆ°B.protypeï¼Œé‚£ä¹ˆ A instanceof Bä¸€å®šä¸ºtrue å¦‚æœAå¯¹è±¡ä¸Šé¢æ²¡æœ‰æ‰¾åˆ°Xå±æ€§ï¼Œé‚£ä¹ˆå°±ä¼šæ²¿ç€åŸå‹é“¾æ‰¾åˆ°Xå±æ€§ ä¾‹å¦‚ï¼šObject.prototype.x &#x3D; â€˜xâ€™,é‚£ä¹ˆå‡½æ•°func.xä¹Ÿä¼šä¸ºx,å› ä¸ºFunction.prototypeæŒ‡å‘Object.prototype instanceofå¦‚ä½•å®ç°ï¼Ÿï¼ˆéå†åŸå‹é“¾ï¼‰ éå†é“¾è¡¨ï¼Œå¯»æ‰¾æ˜¯å¦å­˜åœ¨ä¸€è‡´çš„ 12345678910function instanceOf(params, type) &#123; let p = params while (p) &#123; if (p === type.prototype) &#123; return true &#125; p = p.__proto__ &#125; return false&#125; åº”ç”¨ ä½¿ç”¨é“¾è¡¨è·å–jsonçš„å€¼ åœ¨çŸ¥é“å…¨éƒ¨é”®çš„æƒ…å†µä¸‹ï¼Œæˆ–è€…è¯´çŸ¥é“jsonä¸­æ•°æ®çš„çš„æŸä¸ªå€¼ï¼Œå¯ä»¥ä½¿ç”¨é“¾è¡¨ï¼ŒåµŒå¥—forè¿‡äºæš´åŠ› 123456789101112131415const json = &#123; a: &#123; b: &#123; c: 1 &#125; &#125;&#125;const path = [&#x27;a&#x27;, &#x27;b&#x27;, &#x27;c&#x27;]let p = jsonpath.map(e =&gt; &#123; p = p[e]&#125;)console.log(p); æ€»ç»“ é“¾è¡¨ä¸­çš„å…ƒç´ ä¸æ˜¯è¿ç»­çš„ï¼Œè€Œæ˜¯é€šè¿‡nextæŒ‡é’ˆè¿æ¥çš„ JavaScriptæ²¡æœ‰é“¾è¡¨ï¼Œä½†æ˜¯Objectå¯æœ‰æ¨¡æ‹Ÿé“¾è¡¨ å¸¸ç”¨æ“ä½œï¼šéå†é“¾è¡¨ï¼Œä¿®æ”¹é“¾è¡¨next JavaScriptçš„åŸå‹é“¾ä¹Ÿæ˜¯é“¾è¡¨ï¼Œä½¿ç”¨__proto__è¿›è¡Œè¿æ¥","categories":[{"name":"æ•°æ®ç»“æ„ä¸ç®—æ³•","slug":"æ•°æ®ç»“æ„ä¸ç®—æ³•","permalink":"https://vkcyan.github.io/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/"}],"tags":[{"name":"æ•°æ®ç»“æ„","slug":"æ•°æ®ç»“æ„","permalink":"https://vkcyan.github.io/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/"}]},{"title":"é›†åˆ","slug":"ç®—æ³•ä¸æ•°æ®ç»“æ„/é›†åˆ","date":"2021-03-21T16:00:00.000Z","updated":"2022-12-11T13:51:24.093Z","comments":true,"path":"2021/03/22/ç®—æ³•ä¸æ•°æ®ç»“æ„/é›†åˆ/","link":"","permalink":"https://vkcyan.github.io/2021/03/22/%E7%AE%97%E6%B3%95%E4%B8%8E%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E9%9B%86%E5%90%88/","excerpt":"","text":"ä¸€ç§æ— åºä¸”å”¯ä¸€çš„æ•°æ®ç»“æ„ ES6å¢åŠ äº†é›†åˆï¼ŒSet å¸¸ç”¨æ“ä½œï¼šå»é‡ åˆ¤æ–­æ˜¯å¦åœ¨é›†åˆä¸­ï¼Œæ±‚äº¤é›†ï¼Œå·®é›† 123456789101112// å»é‡const arr = [1,2,3,4,4,4,4]const arr2 = [...new Set(arr)]// åˆ¤æ–­æ˜¯å¦åœ¨é›†åˆä¸­const set = new Set(arr)const has = set.has(2)// æ±‚äº¤é›†const set1 = new Set([1,2,3,4])const set2 = new Set([3,4,5,6])const set3 = new Set([...set1].filter(e =&gt; set2.has(e))) // å°†å…¶ä¸­ä¸€ä¸ªå˜æˆæ•°ç»„ï¼Œå¦ä¸€ä¸ªhasï¼Œæœ€ç»ˆç»“æœè½¬ä¸ºSet é¢˜ç›® ä¸¤ä¸ªæ•°ç»„çš„äº¤é›†https://leetcode-cn.com/problems/intersection-of-two-arrays/ æ—¶é—´å¤æ‚åº¦ï¼šO(n^2) ç©ºé—´å¤æ‚åº¦ï¼šO(1) 12345678/** * @param &#123;number[]&#125; nums1 * @param &#123;number[]&#125; nums2 * @return &#123;number[]&#125; */var intersection = function(nums1, nums2) &#123; return [...new Set(nums1.filter(e =&gt; nums2.includes(e)))]&#125;; JavaScriptä¸­Setçš„ä¸€äº›æ“ä½œ1234567891011121314151617181920212223242526let my = new Set()my.add(1) // æ­£å¸¸åŠ å…¥my.add(2) // æ­£å¸¸åŠ å…¥my.add(2) // setä¿è¯ä¸ä¼šé‡å¤,ä¾æ—§åªæœ‰ä¸€ä¸ª2my.add(&#x27;313&#x27;) // æ­£å¸¸åŠ å…¥let o = &#123; a: 1&#125;my.add(o) // æ­£å¸¸åŠ å…¥my.add(&#123; // æ­£å¸¸åŠ å…¥ a: 1&#125;)const has1 = my.has(&#123; a: 1&#125;) // è¿”å›false å¼•ç”¨ç±»å‹ä¸åœ¨å†…å­˜çš„åŒä¸€ä¸ªåœ°æ–¹const has2 = my.has(o) // è¿”å›true console.log(has1);my.delete(1) // æ­£å¸¸åˆ é™¤for (const item of my) &#123; // è¿­ä»£å‡½æ•° è¿™ä¸ªä¸ä½¿ç”¨my ä½¿ç”¨my.values my.keys éƒ½å¯ä»¥ éƒ½æ˜¯ä¸€æ ·çš„ console.log(item);&#125;","categories":[{"name":"æ•°æ®ç»“æ„ä¸ç®—æ³•","slug":"æ•°æ®ç»“æ„ä¸ç®—æ³•","permalink":"https://vkcyan.github.io/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/"}],"tags":[{"name":"æ•°æ®ç»“æ„","slug":"æ•°æ®ç»“æ„","permalink":"https://vkcyan.github.io/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/"}]},{"title":"é˜Ÿåˆ—","slug":"ç®—æ³•ä¸æ•°æ®ç»“æ„/é˜Ÿåˆ—","date":"2021-03-21T16:00:00.000Z","updated":"2022-12-11T13:51:24.093Z","comments":true,"path":"2021/03/22/ç®—æ³•ä¸æ•°æ®ç»“æ„/é˜Ÿåˆ—/","link":"","permalink":"https://vkcyan.github.io/2021/03/22/%E7%AE%97%E6%B3%95%E4%B8%8E%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E9%98%9F%E5%88%97/","excerpt":"","text":"ä¸€ä¸ªå…ˆè¿›å…ˆå‡ºçš„æ•°æ®ç»“æ„ï¼Œå…ˆæ”¾è¿›å»çš„åæ‹¿å‡ºæ¥ï¼Œå…ˆè¿›å…ˆå‡ºï¼Œä¿æŒæœ‰åº JavaScriptä¸­è™½ç„¶æ²¡æœ‰é˜Ÿåˆ—ä½†æ˜¯å¯ä»¥é€šè¿‡arrayè¿›è¡Œå®ç° 123456const stack = []stack.push(1)stack.push(2)const item1 = stack.shift()const item2 = stack.shift() é¢˜ç›® æœ€è¿‘è¯·æ±‚æ¬¡æ•°https://leetcode-cn.com/problems/number-of-recent-calls/ æ€è·¯ï¼š ä½¿ç”¨æ ˆå®ç° æ—¶é—´å¤æ‚åº¦ï¼šO(n) ç©ºé—´å¤æ‚åº¦ï¼šO(n) 123456789101112131415var RecentCounter = function () &#123; this.q = []&#125;;/** * @param &#123;number&#125; t * @return &#123;number&#125; */RecentCounter.prototype.ping = function (t) &#123; this.q.push(t) while (this.q[0] + 3000 &lt; t) &#123; this.q.shift() &#125; return this.q.length&#125;; äº‹ä»¶å¾ªç¯äºä»»åŠ¡é˜Ÿåˆ— â€‹ å¦‚æœæ‰§è¡Œäº‹ä»¶çš„è¿‡ç¨‹ä¸­ï¼Œå¦‚æœé‡åˆ°äº†å¼‚æ­¥ä»»åŠ¡ï¼Œæ¯”å¦‚domæ“ä½œï¼Œajaxï¼ŒsetTimeoutï¼Œå°±ä¼šå°†äº‹ä»¶äº¤ç»™webApiæ‰§è¡Œï¼Œ ä¸ä¼šåŠ å…¥ä»»åŠ¡é˜Ÿåˆ— â€‹ ç›´åˆ°å¼‚æ­¥ä»»åŠ¡ç»“æŸï¼Œå›è°ƒå‡½æ•°åŠ å…¥ä»»åŠ¡é˜Ÿåˆ—ï¼Œå¦‚æœå›è°ƒå‡½æ•°é‡Œé¢è¿˜æœ‰å¼‚æ­¥ä»»åŠ¡ï¼Œå°±ç»§ç»­åšæ”¾å…¥wenAPIé‡Œé¢åšäº‹ä»¶å¾ªç¯","categories":[{"name":"æ•°æ®ç»“æ„ä¸ç®—æ³•","slug":"æ•°æ®ç»“æ„ä¸ç®—æ³•","permalink":"https://vkcyan.github.io/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/"}],"tags":[{"name":"æ•°æ®ç»“æ„","slug":"æ•°æ®ç»“æ„","permalink":"https://vkcyan.github.io/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/"}]}],"categories":[{"name":"æ—¥å¸¸","slug":"æ—¥å¸¸","permalink":"https://vkcyan.github.io/categories/%E6%97%A5%E5%B8%B8/"},{"name":"äº§å“ç»ç†","slug":"äº§å“ç»ç†","permalink":"https://vkcyan.github.io/categories/%E4%BA%A7%E5%93%81%E7%BB%8F%E7%90%86/"},{"name":"Javascript-2022","slug":"Javascript-2022","permalink":"https://vkcyan.github.io/categories/Javascript-2022/"},{"name":"JavaScript-2022","slug":"JavaScript-2022","permalink":"https://vkcyan.github.io/categories/JavaScript-2022/"},{"name":"æ‚è°ˆ","slug":"æ‚è°ˆ","permalink":"https://vkcyan.github.io/categories/%E6%9D%82%E8%B0%88/"},{"name":"æ—¥å¸¸å¼€å‘","slug":"æ—¥å¸¸å¼€å‘","permalink":"https://vkcyan.github.io/categories/%E6%97%A5%E5%B8%B8%E5%BC%80%E5%8F%91/"},{"name":"JavaScript","slug":"JavaScript","permalink":"https://vkcyan.github.io/categories/JavaScript/"},{"name":"ç©æœºæŠ€å·§","slug":"ç©æœºæŠ€å·§","permalink":"https://vkcyan.github.io/categories/%E7%8E%A9%E6%9C%BA%E6%8A%80%E5%B7%A7/"},{"name":"éšæƒ³é›†","slug":"éšæƒ³é›†","permalink":"https://vkcyan.github.io/categories/%E9%9A%8F%E6%83%B3%E9%9B%86/"},{"name":"ç§»åŠ¨ç«¯","slug":"ç§»åŠ¨ç«¯","permalink":"https://vkcyan.github.io/categories/%E7%A7%BB%E5%8A%A8%E7%AB%AF/"},{"name":"JavaScript-2021","slug":"JavaScript-2021","permalink":"https://vkcyan.github.io/categories/JavaScript-2021/"},{"name":"æ•°æ®ç»“æ„ä¸ç®—æ³•","slug":"æ•°æ®ç»“æ„ä¸ç®—æ³•","permalink":"https://vkcyan.github.io/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/"}],"tags":[{"name":"è®°å½•","slug":"è®°å½•","permalink":"https://vkcyan.github.io/tags/%E8%AE%B0%E5%BD%95/"},{"name":"è¾“å‡º","slug":"è¾“å‡º","permalink":"https://vkcyan.github.io/tags/%E8%BE%93%E5%87%BA/"},{"name":"äº§å“åˆ†æ","slug":"äº§å“åˆ†æ","permalink":"https://vkcyan.github.io/tags/%E4%BA%A7%E5%93%81%E5%88%86%E6%9E%90/"},{"name":"Vue","slug":"Vue","permalink":"https://vkcyan.github.io/tags/Vue/"},{"name":"NPDP","slug":"NPDP","permalink":"https://vkcyan.github.io/tags/NPDP/"},{"name":"Pinia","slug":"Pinia","permalink":"https://vkcyan.github.io/tags/Pinia/"},{"name":"Hexo","slug":"Hexo","permalink":"https://vkcyan.github.io/tags/Hexo/"},{"name":"ä¸ªäººåšå®¢","slug":"ä¸ªäººåšå®¢","permalink":"https://vkcyan.github.io/tags/%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/"},{"name":"ä»·å€¼è§‚","slug":"ä»·å€¼è§‚","permalink":"https://vkcyan.github.io/tags/%E4%BB%B7%E5%80%BC%E8%A7%82/"},{"name":"ç§»åŠ¨ç«¯","slug":"ç§»åŠ¨ç«¯","permalink":"https://vkcyan.github.io/tags/%E7%A7%BB%E5%8A%A8%E7%AB%AF/"},{"name":"å…¼å®¹æ€§","slug":"å…¼å®¹æ€§","permalink":"https://vkcyan.github.io/tags/%E5%85%BC%E5%AE%B9%E6%80%A7/"},{"name":"è®¾è®¡æ¨¡å¼","slug":"è®¾è®¡æ¨¡å¼","permalink":"https://vkcyan.github.io/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"},{"name":"æ— éšœç¢","slug":"æ— éšœç¢","permalink":"https://vkcyan.github.io/tags/%E6%97%A0%E9%9A%9C%E7%A2%8D/"},{"name":"éšé€‰æœ—è¯»","slug":"éšé€‰æœ—è¯»","permalink":"https://vkcyan.github.io/tags/%E9%9A%8F%E9%80%89%E6%9C%97%E8%AF%BB/"},{"name":"ç«¥å¹´","slug":"ç«¥å¹´","permalink":"https://vkcyan.github.io/tags/%E7%AB%A5%E5%B9%B4/"},{"name":"éšæƒ³","slug":"éšæƒ³","permalink":"https://vkcyan.github.io/tags/%E9%9A%8F%E6%83%B3/"},{"name":"JavaScript","slug":"JavaScript","permalink":"https://vkcyan.github.io/tags/JavaScript/"},{"name":"ä½ä»£ç ","slug":"ä½ä»£ç ","permalink":"https://vkcyan.github.io/tags/%E4%BD%8E%E4%BB%A3%E7%A0%81/"},{"name":"h5è£…ä¿®","slug":"h5è£…ä¿®","permalink":"https://vkcyan.github.io/tags/h5%E8%A3%85%E4%BF%AE/"},{"name":"Vue3","slug":"Vue3","permalink":"https://vkcyan.github.io/tags/Vue3/"},{"name":"å…³äºCç«¯","slug":"å…³äºCç«¯","permalink":"https://vkcyan.github.io/tags/%E5%85%B3%E4%BA%8EC%E7%AB%AF/"},{"name":"äº§å“æ—¥å¸¸","slug":"äº§å“æ—¥å¸¸","permalink":"https://vkcyan.github.io/tags/%E4%BA%A7%E5%93%81%E6%97%A5%E5%B8%B8/"},{"name":"vue3","slug":"vue3","permalink":"https://vkcyan.github.io/tags/vue3/"},{"name":"webpack5","slug":"webpack5","permalink":"https://vkcyan.github.io/tags/webpack5/"},{"name":"å“åº”å¼","slug":"å“åº”å¼","permalink":"https://vkcyan.github.io/tags/%E5%93%8D%E5%BA%94%E5%BC%8F/"},{"name":"vw","slug":"vw","permalink":"https://vkcyan.github.io/tags/vw/"},{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://vkcyan.github.io/tags/%E7%AE%97%E6%B3%95/"},{"name":"æ•°æ®ç»“æ„","slug":"æ•°æ®ç»“æ„","permalink":"https://vkcyan.github.io/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/"}]}